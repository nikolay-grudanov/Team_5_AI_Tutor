---
source_image: page_271.png
page_number: 271
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.42
tokens: 11445
characters: 1871
timestamp: 2025-12-24T06:32:50.573865
finish_reason: stop
---

41, 38, 31, 12, 19, 8.

14.3-4 Пусть чёрная высота каждого из поддеревьев \( \alpha, \beta, \gamma, \delta, \varepsilon \) на рисунках 14.5 и 14.6 равна \( k \). Найдите чёрные высоты всех вершин на этих рисунках и проверьте, что свойство 4 действительно не нарушается.

14.3-5 Рассмотрим красно-чёрное дерево, полученное добавлением \( n \) вершин к пустому дереву. Убедитесь, что при \( n > 1 \) в дереве есть хотя бы одна красная вершина.

14.3-6 Как эффективно реализовать процедуру RB-INSERT, если в вершинах не хранятся указатели на родителей?

14.4 Удаление

Как и другие операции, удаление вершины из красно-чёрного дерева требует времени \( O(\lg n) \). Удаление вершины несколько сложнее вставки.

Чтобы упростить обработку граничных условий, мы используем фиктивный элемент (по-английски называемый sentinel) вместо NIL (см. с. ??). Для красно-чёрного дерева \( T \) фиктивный элемент \( nil[T] \) имеет те же поля, что и обычная вершина дерева. Его цвет чёрный, а остальным полям (\( p, left, right \) и \( key \)) могут быть присвоены любые значения. Мы считаем, что в красно-чёрном дереве все указатели NIL заменены указателями на \( nil[T] \).

Благодаря фиктивным элементам мы можем считать NIL-лист, являющийся ребёнком вершины \( x \), обычной вершиной, родитель которой есть \( x \). В принципе можно было бы завести по одной фиктивной вершине для каждого листа, но это было бы напрасной потереи памяти. Чтобы избежать этого, мы используем один элемент \( nil[T] \), представляющий все листы. Однако, когда мы хотим работать с листом — ребёнком вершины \( x \), надо не забыть выполнить присваивание \( p[nil[T]] \leftarrow x \).

Процедура RB-DELETE следует схеме процедуры Tree-Delete из раздела 13.3. Вырезав вершину, она вызывает вспомогательную процедуру RB-DELETE-FIXUP, которая меняет цвета и производит вращения, чтобы восстановить RB-свойства.