---
source_image: page_381.png
page_number: 381
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 60.23
tokens: 11444
characters: 1873
timestamp: 2025-12-24T06:38:24.423378
finish_reason: stop
---

сивной процедура B-TREE-SEARCH получает на вход указатель x на корень поддерева и ключ k, который мы ищем в этом поддереве. Для поиска ключа k в Б-дереве T следует скомандовать B-TREE-SEARCH(root(T), k), где root(T) указывает на корень. Если процедура обнаруживает ключ k в дереве, она возвращает пару (y, i), где y — вершина, i — порядковый номер указателя, для которого key_i[y] = k. В противном случае процедура возвращает константу NIL.

B-TREE-SEARCH(x, k)
1   i ← 1
2   while i ≤ n[x] and k > key_i[x]
3     do i ← i + 1
4   if i ≤ n[x] and k = key_i[x]
5     then return (x, i)
6   if leaf[x]
7     then return NIL
8   else DISK-READ(c_i[x])
9     return B-TREE-SEARCH(c_i[x], k)

В строках 1-3 ищется наименьшее i, для которого k ≤ key_i[x]; если такого нет, то в i помещается n[x] + 1 (линейный поиск). Если нужный ключ найден, работа прекращается (строки 4–5). Затем (строки 6–7) программа либо останавливается, если поиск завершился безрезультатно (x — лист), либо рекурсивно вызывает себя, предварительно считав с диска корень нужного поддерева (строки 8–9).

На рис. 19.1 показана работа этой программы. Светлые вершины просмотрены при поиске буквы R.

Как и процедура TREE-SEARCH, наша программа просматривает вершины дерева от корня к листу. Поэтому число обращений к диску есть Θ(h) = Θ(log_t n), где h — высота дерева, а n — количество ключей. Так как n[x] ≤ 2t, то цикл while в строках 2–3 повторяется O(t) раз, и время вычислений равно O(th) = O(t log_t n).

Создание пустого Б-дерева

При работе с Б-деревом T, мы сначала создаем с помощью процедуры B-TREE-CREATE пустое дерево, а затем записываем в него данные с помощью процедуры B-TREE-INSERT. Обе эти процедуры используют подпрограмму ALLOCATE-NODE, которая находит место на диске для новой вершины. Мы считаем, что подпрограмма ALLOCATE-NODE требует времени O(1) и не использует операцию DISK-READ.