---
source_image: page_225.png
page_number: 225
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 49.97
tokens: 11524
characters: 2203
timestamp: 2025-12-24T06:30:38.072849
finish_reason: stop
---

Хеш-функции

что существует не менее \( n \) ключей с одним и тем же хеш-значением, так что в худшем случае поиск в хеш-таблице с цепочками займет время \( \Theta(n) \).

12.3 Хеш-функции

В этом разделе мы обсудим, чего мы ждём от хорошей хеш-функции, а затем разберём три способа построения хеш-функций: деление с остатком, умножение и универсальное хеширование.

Какой должна быть хорошая хеш-функция?

Хорошая хеш-функция должна (приближенно) удовлетворять предположениям равномерного хеширования: для очередного ключа все \( m \) хеш-значений должны быть равновероятны. Чтобы это предположение имело смысл, фиксируем распределение вероятностей \( P \) на множестве \( U \); будем предполагать, что ключи выбираются из \( U \) независимо друг от друга, и каждый распределён в соответствии с \( P \). Тогда равномерное хеширование означает, что

\[
\sum_{k : h(k)=j} P(k) = \frac{1}{m} \quad \text{для } j = 0, 1, \ldots, m-1.
\]

К сожалению, распределение \( P \) обычно неизвестно, так что проверить это невозможно (да и ключи не всегда разумно считать независимыми).

Изредка распределение \( P \) бывает известно. Пусть, например, ключи — случайные действительные числа, независимо и равномерно распределённые на интервале \([0; 1)\). В этом случае легко видеть, что хеш-функция \( h(k) = \lfloor km \rfloor \) удовлетворяет условию (12.1).

На практике при выборе хеш-функций пользуются различными эвристиками, основанными на специфике задачи. Например, компилятор языка программирования хранит таблицу символов, в которой ключами являются идентификаторы программы. Часто в программе используется несколько похожих идентификаторов (например, pt и pts). Хорошая хеш-функция будет стараться, чтобы хеш-значения у таких похожих идентификаторов были различны.

Обычно стараются подобрать хеш-функцию таким образом, чтобы её поведение не коррелировало с различными закономерностями, которые могут встретиться в хешируемых данных. Например, описываемый ниже метод деления с остатком состоит в том, что в качестве хеш-значения берётся остаток от деления ключа на некоторое простое число. Если это простое число никак не связано с функцией распределения \( P \), то такой метод даёт хорошие результаты.