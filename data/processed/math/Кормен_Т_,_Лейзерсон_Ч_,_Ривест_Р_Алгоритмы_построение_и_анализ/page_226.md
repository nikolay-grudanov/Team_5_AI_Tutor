---
source_image: page_226.png
page_number: 226
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 54.12
tokens: 11584
characters: 2324
timestamp: 2025-12-24T06:30:43.533684
finish_reason: stop
---

Заметим в заключение, что иногда желательно, чтобы хеш-функция удовлетворяла условиям, выходящим за пределы требования равномерного хеширования. Например, можно стараться, чтобы "ближним" в каком-либо смысле ключам соответствовали "далёкие" хеш-значения (это особенно желательно при использовании описанной в разделе 12.4 линейной последовательностью проб).

Ключи как натуральные числа

Обычно предполагают, что область определения хеш-функции — множество целых неотрицательных чисел. Если ключи не являются натуральными числами, их обычно можно преобразовать к такому виду (хотя числа могут получиться большими). Например, последовательности символов можно интерпретировать как числа, записанные в системе счисления с подходящим основанием: идентификатор pt — это пара чисел (112, 116) (таковы ASCII-коды букв р и t), или же число \( (112 \cdot 128) + 116 = 14452 \) (в системе счисления по основанию 128). Далее мы всегда будем считать, что ключи — целые неотрицательные числа.

12.3.1 Деление с остатком

Построение хеш-функции методом деления с остатком (division method) состоит в том, что ключу \( k \) ставится в соответствие остаток от деления \( k \) на \( m \), где \( m \) — число возможных хеш-значений:

\[
h(k) = k \bmod m.
\]

Например, если размер хеш-таблицы равен \( m = 12 \) и ключ равен 100, то хеш-значение равно 4.

При этом некоторых значений \( m \) стоит избегать. Например, если \( m = 2^p \), то \( h(k) \) — это просто \( p \) младших битов числа \( k \). Если нет уверенности, что все комбинации младших битов ключа будут встречаться с одинаковой частотой, то степень двойки в качестве числа \( m \) не выбирают. Нехорошо также выбирать в качестве \( m \) степень десятки, если ключи естественно возникают как десятичные числа: ведь в этом случае окажется, что уже часть цифр ключа полностью определяет хеш-значение. Если ключи естественно возникают как числа в системе счисления с основанием \( 2^p \), то нежорошо брать \( m = 2^p - 1 \), поскольку при этом одинаковое хеш-значение имеют ключи, отличающиеся лишь перестановкой "2^p-ичных цифр".

Хорошие результаты обычно получаются, если выбрать в качестве \( m \) простое число, далеко отстоящее от степеней двойки. Пусть, например, нам надо поместить примерно 2000 записей в хеш-таблицу с цепочками, причем нас не пугает возможный перебор