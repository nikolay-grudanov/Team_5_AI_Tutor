---
source_image: page_361.png
page_number: 361
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 63.65
tokens: 11513
characters: 2263
timestamp: 2025-12-24T06:37:37.693920
finish_reason: stop
---

18.4 Динамические таблицы

При работе с таблицей переменного размера бывает желательно запрашивать память блоками: когда в таблице нет места для нового элемента, мы запрашиваем место для таблицы большего размера и копируем записи из старой таблицы в новую. При этом новый размер таблицы выбирается с запасом, чтобы не пришлось немедленно расширять её ещё раз. Напротив, если при удалении записей таблица становится почти пустой, то имеет смысл скопировать её остаток в таблицу меньшего размера и освободить память, занятую старой таблицей. В этом разделе мы покажем, как можно динамически расширять и сжимать таблицы, если мы хотим, чтобы учётная стоимость операций добавления и удаления записей к таблице была \( O(1) \), (хотя реальная стоимость добавлений или удалений, требующих расширения или сжатия таблицы, может быть велика). При этом мы будем следить, чтобы коэффициент заполнения таблицы (отношение числа использованных ячеек к общему размеру) был не слишком мал.

Будем считать, что динамическая таблица поддерживает операции Table-Insert (добавить к таблице) и Table-Delete (удалить из таблицы). При добавлении записи к таблице мы занимаем в таблице одну ячейку (slot), при удалении записи одна ячейка освобождается. Как конкретно реализованы сама таблица и эти операции, нас в данный момент не интересует: это может быть стек (раздел 11.1), куча (раздел 7.1), хеш-таблица (глава 12), или, наконец, массив или набор массивов (раздел 11.3).

Как мы уже говорили (см. также главу 12 о хешировании), Именно, коэффициентом заполнения (load factor) таблицы \( T \) назовем число \( \alpha(T) \), равное отношению числа заполненных ячеек к размеру таблицы (общему числу ячеек), если знаменатель отличен от нуля. Для вырожденной таблицы (не содержащей ни одной ячейки) коэффициент заполнения мы считаем равным единице. Если определенный таким образом коэффициент заполнения ограничен снизу положительным числом, то доля свободных ячеек в таблице ограничена сверху числом, меньшим единицы.

18.4.1 Расширение таблицы

Для начала рассмотрим динамическую таблицу, в которую можно добавлять записи, а нельзя удалять. Память для таблицы выделяется в виде массива ячеек. Таблица заполнена, когда в ней нет свободных ячеек (иными словами, когда коэффициент заполне-