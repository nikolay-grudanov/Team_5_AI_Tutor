---
source_image: page_353.png
page_number: 353
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 51.41
tokens: 11417
characters: 1932
timestamp: 2025-12-24T06:36:55.827976
finish_reason: stop
---

Рисунок 18.1 Действие операции MULTIPOP на стеке S. (а) Начальное состояние стека. MULTIPOP(S, 4) удаляет из стека верхние четыре элемента, и стек приходит в состояние (б). Если теперь применить операцию MULTIPOP(S, 7), то стек станет пуст (в), так как перед применением этой операции в стеке было менее семи элементов.

содержится менее k элементов, то удаляется всё, что там есть). Её можно реализовать так (STACK-EMPTY возвращает TRUE тогда и только тогда, когда стек пуст):

MULTIPOP(S, k)
1 while not STACK-EMPTY(S) and k ≠ 0
2 do POP(S)
3 k ← k - 1

Пример работы операции MULTIPOP приведен на рис. 18.1.

При применении операции MULTIPOP(S, k) к стеку, содержащему s элементов, будет произведено min(s, k) операций POP. Поэтому (имеется в виду фактическая стоимость, а не учётная) время ее работы пропорционально min(s, k).

Считая, что операции PUSH, POP имеют единичную стоимость (имеется в виду фактическая стоимость, а не учётная), а операция MULTIPOP имеет стоимость min(s, k), оценим суммарную стоимость n операций, применённых к изначально пустому стеку. Стоимость любой из операций не превосходит n (самая дорогая операция MULTIPOP стоит не более n, поскольку за n операций в стеке не наберётся более n элементов). Следовательно, суммарная стоимость n операций есть O(n^2). Эта оценка, однако, слишком груба. Чтобы получить точную оценку, заметим, что, коль скоро первоначально стек был пуст, общее число реально выполняемых операций POP (включая те из них, что вызываются из процедуры MULTIPOP) не превосходит общего числа операций PUSH, а это последнее не превосходит n. Стало быть, стоимость любой последовательности из n операций PUSH, POP и MULTIPOP, применённых к пустому стеку, есть O(n). Тем самым можно объявить, что учётная стоимость каждой из операций есть O(n)/n = O(1).

Подчеркнём ещё раз, что наша оценка не является вероятностной: стоимость (в расчёте на одну операцию) оценивается для худшего случая.