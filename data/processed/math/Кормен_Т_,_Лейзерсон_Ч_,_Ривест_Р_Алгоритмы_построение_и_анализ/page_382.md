---
source_image: page_382.png
page_number: 382
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 57.20
tokens: 11374
characters: 1637
timestamp: 2025-12-24T06:38:27.570965
finish_reason: stop
---

Рисунок 19.5 Разбиение вершины дерева минимальной степени \( t = 4 \). Делим вершину \( y \) на две: \( y \) и \( z \). Ключ-медиана \( S \) вершины \( y \) переходит к ее родителю \( x \).

B-TREE-CREATE(\( T \))
1 \( x \leftarrow \text{ALLOCATE-NODE}() \)
2 \( leaf[x] \leftarrow \text{TRUE} \)
3 \( n[x] \leftarrow 0 \)
4 \( \text{Disk-Write}(x) \)
5 \( root[T] \leftarrow x \)

Процедура B-TREE-CREATE требует одного обращения к диску, время работы — \( O(1) \).

Разбиение вершины Б-дерева на две

Добавление элемента в Б-дерево — значительно более сложная операция, чем добавление элемента в двоичное дерево поиска. Ключевым местом является разбиение (splitting) полной (с \( 2t - 1 \) ключами) вершины \( y \) на две вершины, имеющие по \( t - 1 \) элементов в каждой. При этом ключ-медиана (median key) \( key_t[y] \) отправляется к родителю \( x \) вершины \( y \) и становится разделителем двух полученных вершин. Это возможно, если вершина \( x \) неполна. Если \( y \) — корень, процедура работает аналогично. В этом случае высота дерева увеличивается на единицу. Таков механизм роста Б-дерева.

Процедура B-TREE-SPLIT-CHILD делит вершину \( y \) на две и меняет соответствующим образом её родителя \( x \). На рис. 19.5 показано, как это происходит. Ключ-медиана \( S \) вершины \( y \) переходит к её родителю \( x \), а большие \( S \) элементы переписываются в нового ребенка \( z \) вершины \( x \). Входными данными процедуры являются неполная внутренняя вершина \( x \), число \( i \) и полная вершину \( y \), для которых \( y = c_i[x] \). Мы считаем, что вершины \( x \) и \( y \) уже находятся в оперативной памяти.