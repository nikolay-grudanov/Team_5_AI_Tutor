---
source_image: page_593.png
page_number: 593
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 58.04
tokens: 11679
characters: 2695
timestamp: 2025-12-24T06:48:33.791816
finish_reason: stop
---

и проходя компараторы от входов к выходам, нельзя вернуться к исходному компаратору. Это требование позволяет рисовать сети компараторов в виде прямых, как на рисунке 28.2, располагая входы слева, а выходы справа: данные движутся по проводам слева направо.

Мы считаем, что каждый компаратор выдаёт выходные значения через единицу времени после того, как получит входные значения. Рассмотрим сеть рис. 28.2(a) и представим себе, что в момент времени 0 на вход поступают числа \( \langle 9, 5, 2, 6 \rangle \). В этот момент компараторы A и B (и только они) получают входные данные и начинают работать (параллельно). Поэтому в момент времени 1 на их выходах появятся числа (рис. 28.2(b)), которые позволят начать параллельную работу компараторам C и D (но не E). Компаратому E придётся дожидаться момента времени 2, когда C и D закончат работу (рис. 28.2(c)). Ещё через единицу времени выходная последовательность \( \langle 2, 5, 6, 9 \rangle \) будет полностью готова (хотя два из четырёх значений были готовы раньше).

Как видно из этого примера, время работы сети (прошедшее с момента получения входной последовательности до выдачи выходной последовательности) определяется максимальным числом компараторов, стоящих на пути от входа к выходу. Более формально, мы определяем глубину (depth) провода в сети следующим образом: входные провода имеют нулевую глубину, глубина выходов компаратора (подключённых к нему проводов) равна \( \max(d_x, d_y) + 1 \), где \( d_x \) и \( d_y \) — глубины его входов (подключённых к ним проводов). Это определение корректно, поскольку нет циклов. Назовем глубиной компаратора глубину выходящих из него проводов. Глубиной сети считаем максимальную глубину её выходных проводов (или, что то же самое, максимальную глубину её компараторов). Например, глубина сети на рисунке 28.2 равна 3 (компаратор E имеет глубину 3). Глубина компаратора равна времени, которое пройдёт от начала работы по появлении ответов на его выходах, так что время работы сети в целом равно её глубине.

Размером (size) сети называют число компараторов в ней.

Любая сеть компараторов как-то переставляет числа, по-данные на кё входы. Её называют сортирующей сетью (sorting network), если для любой входной последовательности получающаяся из неё выходная последовательность монотонно возрастает (\( b_1 \leq b_2 \leq \cdots \leq b_n \)).

Конечно, далеко не каждая сеть — сортирующая, но сеть рисунка 28.2 таковой является. В самом деле, в момент времени 1 минимальный из входов находится на верхнем выходе одного из компараторов A и B, и в момент времени 2 он кажется на на верхнем выходе компаратора C. Аналогичным образом максимальный из входов окажется в этот момент на нижнем выходе