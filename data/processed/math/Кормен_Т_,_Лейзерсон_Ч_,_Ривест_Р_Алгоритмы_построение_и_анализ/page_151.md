---
source_image: page_151.png
page_number: 151
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 60.15
tokens: 11443
characters: 1843
timestamp: 2025-12-24T06:27:18.946948
finish_reason: stop
---

8.1-4 Как отсортировать массив в порядке убывания (а не возрастания), используя те же методы?

8.2 Работа быстрой сортировки

Время работы алгоритма быстрой сортировки зависит от того, как разбивается массив на каждом шаге. Если разбиение происходит на примерно равные части, время работы составляет \( O(n \lg n) \), как и для сортировки слиянием. Если же размеры частей сильно отличаются, сортировка может занимать время \( O(n^2) \), как при сортировке вставками.

Наихудшее разбиение

"Наиболее неравные части" получатся, если одна часть содержит \( n - 1 \) элемент, а вторая — всего 1. (Как мы увидим в разделе 8.4.1, это наихудший случай с точки зрения времени работы.) Предположим, что на каждом шаге происходит именно так. Поскольку процедура разбиения занимает время \( \Theta(n) \), для времени работы \( T(n) \) получаем соотношение

\[
T(n) = T(n-1) + \Theta(n)
\]

Поскольку \( T(1) = \Theta(1) \), имеем

\[
T(n) = T(n-1) + \Theta(n) = \sum_{k=1}^{n} \Theta(k) = \Theta \left( \sum_{k=1}^{n} k \right) = \Theta(n^2)
\]

(последняя сумма — арифметическая прогрессия, см. формулу (3.2)). Дерево рекурсии для этого случая показано на рис. 8.2. (По поводу деревьев рекурсии см. разд. 4.2.)

Мы видим, что при максимально несбалансированном разбиении время работы составляет \( \Theta(n^2) \), как и для сортировки вставками. В частности, это происходит, если массив изначально отсортирован (заметим, что в этом случае сортировка вставками производится за время \( \Theta(n) \)).

Наилучшее разбиение

Если на каждом шаге массив разбивается ровно пополам, быстрая сортировка требует значительно меньше времени. Действительно, в этом случае рекуррентное соотношение имеет вид

\[
T(n) = 2T(n/2) + \Theta(n)
\]

и, согласно теореме 4.1 (случай 2), \( T(n) = \Theta(n \lg n) \). Дерево рекурсии для этого случая показано на рисунке 8.3.