---
source_image: page_330.png
page_number: 330
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 70.83
tokens: 11775
characters: 2741
timestamp: 2025-12-24T06:36:04.928301
finish_reason: stop
---

Когда применим жадный алгоритм?

ства заявок \( S' \), состоящего из тех заявок, для которых \( s_i \geq f_1 \).

Жадный алгоритм или динамическое программирование?

И жадные алгоритмы, и динамическое программирование основываются на свойстве оптимальности для подзадач, поэтому может возникнуть искушение применить динамическое программирование в ситуации, где хватило бы жадного алгоритма, или, напротив, применить жадный алгоритм к задаче, в которой он не даст оптимума. Мы проиллюстрируем возможные ловушки на примере двух вариантов классической оптимизационной задачи.

Дискретная задача о рюкзаке (0-1 knapsack problem) состоит в следующем. Пусть вор пробрался на склад, на котором хранится \( n \) вещей. Вещь номер \( i \) стоит \( v_i \) долларов и весит \( w_i \) килограммов (\( v_i \) и \( w_i \) — целые числа). Вор хочет украсть товара на максимальную сумму, причём максимальный вес, который он может унести в рюкзаке, равен \( W \) (число \( W \) тоже целое). Что он должен положить в рюкзак?

Непрерывная задача о рюкзаке (fractional knapsack problem) отличается от дискретной тем, что вор может дробить краденные товары на части и укладывать в рюкзак эти части, а не обязательно вещи целиком (если в дискретной задаче вор имеет дело с золотыми слитками, то в непрерывной — с золотым песком).

Обе задачи о рюкзаке обладают свойством оптимальности для подзадач. В самом деле, рассмотрим дискретную задачу. Вынув вещь номер \( j \) из оптимально загруженного рюкзака, получим решение задачи о рюкзаке с максимальным весом \( W - w_j \) и набором из \( n - 1 \) вещи (все вещи, кроме \( j \)-й). Аналогичное рассуждение проходит и для непрерывной задачи: вынув из оптимально загруженного рюкзака, в котором лежит \( w \) килограммов товара номер \( j \), весь этот товар, получим оптимальное решение непрерывной задачи, в которой максимальный вес равен \( W - w \) (вместо \( W \)), а количество \( j \)-го товара равно \( w_j - w \) (вместо \( w_j \)).

Хотя две задачи о рюкзаке и похожи, жадный алгоритм даёт оптимум в непрерывной задаче о рюкзаке и не даёт в дискретной. В самом деле, решение непрерывной задачи о рюкзаке с помощью жадного алгоритма выглядит так. Вычислим цены (в расчёте на килограмм) всех товаров (цена товара номер \( i \) равна \( v_i / w_i \)). Сначала вор берёт по максимуму самого дорогого товара; если весь этот товар кончился, а рюкзак не заполнен, вор берёт следующий по цене товар, затем следующий, и так далее, пока не наберёт вес \( W \). Поскольку товары надо предварительно отсортировать по ценам, на что уйдёт время \( O(n \log n) \), время работы описанного алгоритма будет \( O(n \log n) \). В упражнении 17.2-1 мы попросим вас доказать, что описанный алгоритм действительно дает оптимум.