---
source_image: page_540.png
page_number: 540
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 70.37
tokens: 11897
characters: 2802
timestamp: 2025-12-24T06:46:13.138000
finish_reason: stop
---

Рисунок 26.6 26.7 Сумму меток путей \( p_1 \circ p_2 \) и \( p_1 \circ p_3 \) можно записать как \( (\lambda(p_1) \odot \lambda(p_2)) \oplus (\lambda(p_1) \odot \lambda(p_3)) \). По свойству дистрибутивности это выражение равно \( \lambda(p_1) \odot (\lambda(p_2) \oplus \lambda(p_3)) \).

Рисунок 26.7 26.8 Благодаря циклу с имеется бесконечно много путей из вершины \( v \) в вершину \( x \), а именно, \( p_1 \circ p_2 \), \( p_1 \circ c \circ p_2 \), \( p_1 \circ c \circ c \circ p_2 \) и т.д.

пути, проходящие по отсутствующим в графе рёбрам: как мы договорились, метки таких рёбер равны 0, поэтому и метки этих путей равны 0 и по нашему предположению (свойство 6) на "сумму" такие пути не влияют. Коммутативность и ассоциативность оператора \( \oplus \) (свойство 7) позволяют нам не указывать порядок путей при суммировании.

Вернёмся к нашему примеру, в котором элементами \( S \) были неотрицательные действительные числа и символ \( \infty \), а "умножением" было обычное сложение. Если мы теперь определим "сложение" как взятие минимума (точнее, точной нижней грани, так как мы должны определить его и для бесконечных последовательностей), то получим замкнутое полукольцо (свойства 1-8 легко проверить). Отметим, что элемент \( 0 = \infty \) является нейтральным элементом для "сложения": \( \min(a, \infty) = a \).

Если считать меткой ребра его вес, то меткой пути будет также его вес (сумма весов рёбер), а уравнение (26.11) определяет \( l_{ij} \) как точную нижнюю грань весов всех путей из \( i \) в \( j \).

Понятие полукольца позволяет выполнять алгебраические преобразования с метками путей. Пример такого рода приведён на рис. 26.7.

В более сложных случаях число путей может быть бесконечно. Такой пример приведён на рис. 26.8. Здесь (считаем, что других путей из \( u \) в \( x \) нет) формула (26.11) приводит к "сумме"

\[
\lambda(p_1) \odot \lambda(p_2) \oplus \lambda(p_1) \odot \lambda(c) \odot \lambda(p_2) \oplus \lambda(p_1) \odot \lambda(c) \odot \lambda(c) \odot \lambda(p_2) \oplus \ldots =
\]
\[
= \lambda(p_1) \odot (\bar{1} \oplus \lambda(c) \oplus \lambda(c) \odot \lambda(c) \oplus \ldots) \odot \lambda(p_2)
\]

Для краткой записи такой "суммы" введём следующее определение. Пусть \( a \) — произвольный элемент замкнутого полукольца \( S \). Замыканием (closure) элемента \( a \) назовём выражение

\[
a^* = \bar{1} \oplus a \oplus (a \cdot a) \oplus (a \cdot a \cdot a) \oplus \ldots
\]

Тогда предыдущее выражение (для рис. 26.8) можно записать как \( \lambda(p_1) \cdot (\lambda(c))^* \cdot \lambda(p_2) \).

В нашем примере полукольца (соответствующего задаче о кратчайших путях) имеем \( a^* = \min\{ka|k = 0, 1, 2, \ldots\} = 0 \) для любого элемента \( a \geq 0 \). Что и не удивительно: если цикл имеет неотрицательный вес, то идти по нему нет смысла.