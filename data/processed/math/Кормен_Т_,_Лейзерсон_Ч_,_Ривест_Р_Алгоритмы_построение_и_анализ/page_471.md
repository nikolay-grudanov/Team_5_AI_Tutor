---
source_image: page_471.png
page_number: 471
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 55.54
tokens: 11593
characters: 2310
timestamp: 2025-12-24T06:42:35.585666
finish_reason: stop
---

Переводы называний: undershorts — трусы, pants — штаны, belt — ремень, shirt — рубашка, tie — галстук, jacket — пиджак, socks — носки, shoes — ботинки, watch — часы.

Рисунок 23.6 23.7 (а) Профессор топологически сортирует свою одежду по утрам. Ребро \((u, v)\) означает, что \(u\) должно быть надето до \(v\). Рядом с вершинами показаны времена начала и конца обработки при поиске в глубину. (б) Граф топологически отсортирован (вершины расположены в порядке убывания времени окончания обработки). Все рёбра идут слева направо.

и общий конец. Постройте эффективный алгоритм, определяющий, обладает ли граф этим свойством.

23.1.4 Топологическая сортировка

Пусть имеется ориентированный граф без циклов (directed acyclic graph; это английское название иногда сокращают до “dag”). Задача о топологической сортировке (topological sort) этого графа состоит в следующем: надо указать такой линейный порядок на его вершинах, что любое ребро ведет от меньшей вершины к большей (в смысле этого порядка). Очевидно, что если в графе есть циклы, такого порядка не существует. Можно сформулировать задачу о топологической сортировке и так: расположить вершины графа на горизонтальной прямой так, чтобы все рёбра шли слева направо. (Слово "сортировка" не должно вводить в заблуждение: эта задача весьма отличается от обычной задачи сортировки, описанной в части II.)

Вот пример ситуации, в которой возникает такая задача. Рассечённый профессор одевается по утрам, причём какие-то вещи обязательно надо надевать до каких-то других (например, носки — до башмаков); в других случаях это всё равно (носки и штаны, например). На рис. 23.7 (а) требуемые соотношения показаны в виде ориентированного графа: ребро \((u, v)\) означает, что предмет \(u\) должен быть надет до \(v\). Топологическая сортировка этого графа, тем самым, описывает возможный порядок одевания. Один из таких порядков показан на рис. 23.7 (б) (надо одеваться слева направо).

Следующий простой алгоритм топологически сортирует ориентированный ациклический граф.

Topological-Sort($G$)

1 Вызвать DFS($G$), при этом,
2 завершая обработку вершины (\textsc{DFS-Visit}, строка 8),
   добавлять её в начало списка
3 вернуть построенный список вершин

На рисунке 23.7 (б) показан результат применения такого алгоритма: значения \(f[v]\) убывают слева направо.