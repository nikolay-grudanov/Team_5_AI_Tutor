---
source_image: page_233.png
page_number: 233
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 63.29
tokens: 11668
characters: 2602
timestamp: 2025-12-24T06:31:05.867615
finish_reason: stop
---

роятны. На практике это вряд ли так, хотя бы по той причине, что для этого необходимо, чтобы число возможных ключей было как минимум \( \leq m! \), где \( m \) — число хеш-значений. Поэтому обычно пользуются более или менее удачными суррогатами, вроде описываемого ниже двойного хеширования.

Обычно применяют такие три способа вычисления последовательности испробованных мест: линейный, квадратичный и двойное хеширование. В каждом из этих способов последовательность \( \langle h(k,0), h(k,1), \ldots, h(k,m-1) \rangle \) будет перестановкой множества \( \{0,1,\ldots,m-1\} \) при любом значении ключа \( k \), но ни один из этих способов не является равномерным по той причине, что они дают не более \( m^2 \) перестановок из \( m! \) возможных. Больше всего разных перестановок получается при двойном хешировании; не удивительно, что и на практике этот способ дает лучшие результаты.

Линейная последовательность проб

Пусть \( h': U \to \{0,1,\ldots,m-1\} \) — "обычная" хеш-функция. Функция, определяющая линейную последовательность проб (linear probing), задаётся формулой

\[
h(k,i) = (h'(k) + i) \bmod m.
\]

Иными словами, при работе с ключом \( k \) начинают с ячейки \( T[h'(k)] \), а затем перебирают ячейки таблицы подряд: \( T[h'(k)+1], T[h'(k)+2], \ldots \) (после \( T[m-1] \) переходят к \( T[0] \)). Поскольку последовательность проб полностью определяется первой ячейкой, реально используется всего лишь \( m \) различных последовательностей.

Открытую адресацию с линейной последовательностью проб легко реализовать, но у этого метода есть один недостаток: он может привести к образованию кластеров, то есть длинных последовательностей занятых ячеек, идущих подряд (по-английски это явление называется primary clustering). Это удлиняет поиск; в самом деле, если в таблице из \( m \) ячеек все ячейки с чётными номерами заняты, а ячейки с нечётными номерами свободны, то среднее число проб при поиске элемента, отсутствующего в таблице, есть 1,5; Если, однако, те же \( m/2 \) занятых ячеек идут подряд, то среднее число проб примерно равно \( m/8 = n/4 \) (\( n \) — число занятых мест в таблице). Тенденция к образованию кластеров объясняется просто: если \( i \) заполненных ячеек идут подряд, вероятность того, что при очередной вставке в таблицу будет использована ячейка, следующая непосредственно за ними, есть \( (i+1)/m \), в то время как для свободной ячейки, предшественница которой также свободна, вероятность быть использованной равна всего лишь \( 1/m \). Всё вышеизложенное показывает, что линейная последовательность проб довольно далека от равномерного хеширования.