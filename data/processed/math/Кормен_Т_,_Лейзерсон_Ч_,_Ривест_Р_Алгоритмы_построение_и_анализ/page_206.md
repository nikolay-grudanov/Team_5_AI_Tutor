---
source_image: page_206.png
page_number: 206
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 52.90
tokens: 11365
characters: 1868
timestamp: 2025-12-24T06:29:47.526363
finish_reason: stop
---

Рисунок 11.5 Список рис. 11.3а, представленный с помощью тройки массивов (key, next, prev). Каждому элементу списка соответствует светло-серый столбик. В верхней строчке выписаны порядковые номера, играющие роль указателей; действие указателей показано стрелками. Значение переменной L — указатель на голову списка.

11.3 Реализация указателей и записей с несколькими полями

В языках вроде форTRANа не предусмотрено ни указателей, ни элементов, имеющих несколько полей. В таком случае приходится обходиться массивами, используя индекс в массиве как указатель и заменяя массив записей несколькими массивами.

Представление с помощью нескольких массивов

Массив, составленный из записей, можно заменить несколькими массивами (по одному на каждое поле записи). Например, на рис. 11.5 показано, как представить в виде трёх массивов тот же список, что и на рис. 11.3а: в массиве key хранятся ключи, а в массивах next и prev — указатели. Каждому элементу списка соответствует тройка (key[x], next[x], prev[x]) для некоторого индекса x. Роль указателя на этот элемент играет число x. В качестве NIL можно использовать число, не являющееся индексом никакого элемента массивов (например, 0 или -1). На рис. 11.3а запись с ключом 4 стоит в списке сразу после записи с ключом 16; и действительно, число 16 стоит в массиве key на месте с номером 5, число 4 — на месте номер 2, и имеем next[5] = 2, а также prev[2] = 5.

В наших программах обозначение типа key[x] может пониматься двояко: и как элемент массива key с индексом x, и как поле key записи с адресом x (в зависимости от возможностей языка программирования полезно то или другое понимание).

Представление с помощью одного массива

Вместо нескольких массивов можно использовать один, размещая в нём различные поля одного объекта рядом. Так обычно поступает компилятор: если в программе используется массив элементов, ка-