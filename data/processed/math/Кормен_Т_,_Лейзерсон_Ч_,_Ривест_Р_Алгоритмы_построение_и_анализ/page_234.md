---
source_image: page_234.png
page_number: 234
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 65.07
tokens: 11635
characters: 2328
timestamp: 2025-12-24T06:31:20.532724
finish_reason: stop
---

Квадратичная последовательность проб

Функция, определяющая квадратичную последовательность проб (quadratic probing), задаётся формулой

\[
h(k, i) = (h'(k) + c_1 i + c_2 i^2) \bmod m,
\]

где по-прежнему \( h' \) — обычная хеш-функция, а \( c_1 \) и \( c_2 \neq 0 \) — некоторые константы. Пробы начинаются с ячейки номер \( T[h'(k)] \), как и при линейном методе, но дальше ячейки просматриваются не подряд: номер пробуемой ячейки квадратично зависит от номера попытки. Этот метод работает значительно лучше, чем линейный, но если мы хотим, чтобы при просмотре хеш-таблицы использовались все ячейки, значения \( m, c_1 \) и \( c_2 \) нельзя выбирать как попало; один из способов выбора описан в задаче 12-4. Как и при линейном методе, вся последовательность проб определяется своим первым членом, так что опять получается всего \( m \) различных перестановок. Тенденции к образованию кластеров больше нет, но аналогичный эффект проявляется в (более мягкой) форме образования вторичных кластеров (secondary clustering).

Двойное хеширование

Двойное хеширование (double hashing) — один из лучших методов открытой адресации. Перестановки индексов, возникающие при двойном хешировании, обладают многими свойствами, присущими равномерному хешированию. При двойном хешировании функция \( h \) имеет вид

\[
h(k, i) = (h_1(k) + i h_2(k)) \bmod m,
\]

где \( h_1 \) и \( h_2 \) — обычные хеш-функции. Иными словами, последовательность проб при работе с ключом \( k \) представляет собой арифметическую прогрессию (по модулю \( m \)) с первым членом \( h_1(k) \) и шагом \( h_2(k) \). Пример двойного хеширования приведен на рис. 12.5.

Чтобы последовательность испробованных мест покрыла всю таблицу, значение \( h_2(k) \) должно быть взаимно простым с \( m \) (если наибольший общий делитель \( h_2(k) \) и \( m \) есть \( d \), то арифметическая прогрессия по модулю \( m \) с разностью \( h_2(k) \) займёт долю \( 1/d \) в таблице; см. главу 33). Простой способ добиться выполнения этого условия — выбрать в качестве \( m \) степень двойки, а функцию \( h_2 \) взять такую, чтобы она принимала только нечётные значения. Другой вариант: \( m \) — простое число, значения \( h_2 \) — целые положительные числа, меньше \( m \). Например, для простого \( m \) можно положить

\[
h_1(k) = k \bmod m,
\]
\[
h_2(k) = 1 + (k \bmod m'),
\]