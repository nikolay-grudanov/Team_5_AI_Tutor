---
source_image: page_222.png
page_number: 222
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 61.66
tokens: 11666
characters: 2585
timestamp: 2025-12-24T06:30:44.087472
finish_reason: stop
---

**Глава 12 Хеш-таблицы**

**Анализ хеширования с цепочками**

В этом разделе мы оценим время работы операций для хеширования с цепочками.

Пусть \( T \) — хеш-таблица с \( m \) позициями, в которую занесено \( n \) элементов. Коэффициентом заполнения (load factor) таблицы называется число \( \alpha = n / m \) (это число может быть и меньше, и больше единицы). Мы будем оценивать стоимость операций в терминах \( \alpha \).

В худшем случае хеширование с цепочками ведет себя отвратительно: если хеш-значения всех \( n \) ключей совпадают, то таблица сводится к одному списку длины \( n \), и на поиск будет тратиться то же время \( \Theta(n) \), что и на поиск в списке, плюс ещё время на вычисление хеш-функции. Конечно, в такой ситуации хеширование бессмысленно.

Средняя стоимость поиска зависит от того, насколько равномерно хеш-функция распределяет хеш-значения по позициям таблицы. Вопросу о том, как добиваться этой равномерности, посвящён раздел 12.3; пока же будем условно предполагать, что каждый данный элемент может попасть в любую из \( m \) позиций таблицы с равной вероятностью и независимо от того, куда попал другой элемент. Мы будем называть это предположение гипотезой "равномерного хеширования" (simple uniform hashing).

Будем считать, что для данного ключа \( k \) вычисление хеш-значения \( h(k) \), шаг по списку и сравнение ключей требует фиксированного времени, так что время поиска элемента с ключом \( k \) линейно зависит от количества элементов в списке \( T[h(k)] \), которые мы просматриваем в процессе поиска. Будем различать два случая: в первом случае поиск оканчивается неудачей (элемента с ключом \( k \) в списке нет), во втором поиск успешно — элемент с требуемым ключом обнаруживается.

**Теорема 12.1. Пусть \( T \) — хеш-таблица с цепочками, имеющая коэффициент заполнения \( \alpha \). Предположим, что хеширование равномерно. Тогда при поиске элемента, отсутствующего в таблице, будет просмотрено в среднем \( \alpha \) элементов таблицы, а среднее время такого поиска (включая время на вычисление хеш-функции) будет равно \( \Theta(1 + \alpha) \).**

**Доказательство.** Поскольку в предположении равномерного хеширования все позиции таблицы для данного ключа равновероятны, среднее время поиска отсутствующего элемента совпадает со средним временем полного просмотра одного из \( m \) списков, то есть пропорционально средней длине наших \( m \) списков. Эта средняя длина есть \( n / m = \alpha \), откуда получаем первое утверждение теоремы; второе утверждение получится, если добавить время \( \Theta(1) \) на вычисление хеш-значения.