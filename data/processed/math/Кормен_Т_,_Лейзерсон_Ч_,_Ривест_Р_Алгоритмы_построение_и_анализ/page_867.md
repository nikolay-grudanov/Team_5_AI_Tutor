---
source_image: page_867.png
page_number: 867
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 53.35
tokens: 11600
characters: 2161
timestamp: 2025-12-24T07:00:53.974270
finish_reason: stop
---

37.2.2 Общая задача коммивояжёра

Если неравенства треугольника нет, то хорошие приближения к оптимальному циклу найти за полиномиальное время не удается (если только P не равно NP).

Теорема 37.3. Пусть P ≠ NP и ρ ≥ 1. Тогда не существует полиномиального приближённого алгоритма, решающего общую задачу о коммивояжёре с ошибкой не более чем в ρ раз.

Доказательство. Пусть такой алгоритм (назовём его A) существует для некоторого ρ ≥ 1 (не ограничивая общности, можно считать ρ целым). Мы покажем, как использовать A для решения задачи о гамильтоновом цикле, определённой в разделе 36.5.5. Так как эта задача NP-полна (теорема 36.14), существование решающего её полиномиального алгоритма влечёт P = NP (теорема 36.4).

Итак, пусть дан граф G = (V, E), и мы хотим узнать, есть ли в нём гамильтонов цикл, используя алгоритм A. Для этого рассмотрим полный граф G' = (V, E') с множеством вершин V:

\[
E' = \{ (u, v) : u, v \in V \text{ и } u \neq v \}
\]

На его рёбрах определим функцию стоимости следующим образом:

\[
c(u, v) = \begin{cases} 
1, & \text{если } (u, v) \in E, \\
\rho |V| + 1 & \text{в противном случае.}
\end{cases}
\]

Легко понять, что время построение G' и с не превосходит полинома от |V| и |E|.

Теперь посмотрим на задачу коммивояжёра для графа G' с функцией стоимости c. Если исходный граф G имел гамильтонов цикл, то этот цикл является решением задачи о коммивояжёре со стоимостью |V|, поскольку содержит |V| рёбер единичной стоимости. Если же гамильтонова цикла не было, то любое решение задачи о коммивояжёре проходит по одному из новых (не входящих в E) рёбер. Новые рёбра дороги. Даже если новое ребро только одно, то общая стоимость (одно новое и |V| − 1 старых) будет

\[
(\rho |V| + 1) + (|V| - 1) > \rho |V|;
\]

если новых рёбер несколько, она будет ещё больше. Тем самым имеется большой — больше чем в ρ раз — разрыв между стоимостью оптимального цикла в G' для случаев наличия или отсутствия гамильтонова цикла в G. В первом случае есть цикл стоимостью |V|, во втором все циклы имеют стоимость больше ρ|V|.

Что даст приближённый алгоритм A, применённый к графу G'? Мы предполагаем, что даваемый им ответ не более чем в ρ раз