---
source_image: page_378.png
page_number: 378
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 64.61
tokens: 11539
characters: 2167
timestamp: 2025-12-24T06:38:19.880126
finish_reason: stop
---

19.1 Определение Б-дерева

Как и раньше, для простоты мы считаем, что дополнительная информация, связанная с ключом, хранится в той же вершине дерева. (На практике это не всегда удобно, и в реальном алгоритме вершина может содержать лишь ссылку на сектор, где хранится эта дополнительная информация.) Мы считаем, что при перемещениях ключа дополнительная информация (или ссылка на неё) перемещается вместе с ним. Тем самым элементом Б-дерева будет ключ вместе со связанный с ним информацией.

В принципе мы могли бы использовать другую часто встречаемую организацию Б-деревьев: помещать сопутствующую информацию в листьях (где больше места, так как не надо хранить ключи), а во внутренних вершинах хранить только ключи и указатели на детей, экономя место (и получая возможность увеличить степень ветвления при том же размере сектора).

Итак, Б-деревом (B-tree) назовём корневое дерево, устроенное следующим образом:

1. Каждая вершина \( x \) содержит поля, в которых хранятся:
   количество \( n[x] \) ключей, хранящихся в ней;
   сами ключи \( key_1[x] \leq key_2[x] \leq \ldots \leq key_{n[x]}[x] \) (в неубывающем порядке)
   булевское значение \( leaf[x] \), истинное, когда вершина является листом.

2. Если — внутренняя вершина, то она также содержит \( n[x]+1 \) указатель \( c_1[x], c_2[x], \ldots, c_{n[x]+1}[x] \) на её детей. У листьев детей нет, и эти поля для них не определены.

3. Ключи \( key_i[x] \) служат границами, разделяющими значения ключей в поддеревьях:

\[
k_1 \leq key_1[x] \leq k_2 \leq key_2[x] \leq \cdots \leq key_{n[x]}[x] \leq k_{n[x]+1},
\]

где \( k_i \) — любой из ключей, хранящихся в поддереве с корнем \( i[x] \).

4. Все листья находятся на одной и той же глубине (равной высоте \( h \) дерева).

5. Число ключей, хранящихся в одной вершине, ограничено сверху и снизу; границы задаются единым для всего дерева числом \( t \geq 2 \), которое называется минимальной степенью (minimum degree) Б-дерева. Именно:

Каждая вершина, кроме корня, содержит по меньшей мере \( t - 1 \) ключ. Таким образом, внутренние вершины (кроме корня) имеют не менее \( t \) детей. Если дерево непусто, то в корне должен храниться хотя бы один ключ.