---
source_image: page_237.png
page_number: 237
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 63.02
tokens: 11579
characters: 2044
timestamp: 2025-12-24T06:31:28.007793
finish_reason: stop
---

Теорема 12.7. Рассмотрим таблицу с открытой адресацией, коэффициент заполнения которой равен \( \alpha < 1 \). Пусть хеширование равномерно. Тогда математическое ожидание числа проб при успешном поиске элемента в таблице не превосходит

\[
\frac{1}{\alpha} \ln \frac{1}{1 - \alpha},
\]

если считать, что ключ для успешного поиска в таблице выбирается случайным образом и все такие выборы равновероятны.

Доказательство. Уточним, как производится усреднение: сначала мы заполняем таблицу независимо выбираемыми ключами, причём для каждого из них выполняется предположение равномерного хеширования. Затем мы усредняем по всем элементам таблицы время их поиска.

Заметим, что при успешном поиске ключа \( k \) мы делаем те же самые пробы, которые производились при помещении ключа \( k \) в таблицу. Тем самым среднее число проб при поиске (усреднение по элементам) равно общему числу проб при добавлении, делённому на число элементов в таблице, которое мы обозначаем \( n \). Математическое ожидание общего числа проб при добавлении равно сумме математических ожиданий для каждого отдельного шага. К моменту добавления \((i+1)\)-го элемента в таблице заполнено \( i \) позиций, коэффициент заполнения равен \( i/m \) (\( m \) — число мест в таблице), и математическое ожидание не больше \( 1/(1 - i/m) = m/(m - i) \). Поэтому сумма математических ожиданий не превосходит

\[
\frac{m}{m} + \frac{m}{m-1} + \frac{m}{m-2} + \ldots + \frac{m}{m-n+1}.
\]

Эта сумма равна \( m \cdot (1/(m-n+1) + \ldots + 1/(m-1) + 1/m) \) и оценивается сверху с помощью интеграла (3.10):

\[
m \cdot \int_{m-n}^m \frac{1}{t} dt = m \ln(m/(m-n)).
\]

Вспоминая, что общее число операций надо поделить на \( n \), получаем оценку \( (m/n) \ln(m/(m-n)) = (1/\alpha) \ln(1/(1-\alpha)) \).

Если, например, таблица заполнена наполовину, то среднее число проб для успешного поиска не превосходит 1,387, а если на 90%, то 2,559.

Упражнения

12.4-1 Выполните добавление ключей 10, 22, 31, 4, 15, 28, 17, 88, 59 (в указанном порядке) в хеш-таблицу с открытой адресацией раз-