---
source_image: page_208.png
page_number: 208
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.20
tokens: 11351
characters: 1645
timestamp: 2025-12-24T06:29:49.349239
finish_reason: stop
---

Рисунок 11.7 Работа процедур Allocate-Объект и Free-Объект. (а) Тот же список, что на рис. 11.5 (светло-серый) и список свободных позиций (тёмно-серый). Структура списка свободных позиций изображена с помощью стрелок. (б) Вот что получится после вызова Allocate-Объект() (возвращает значение 4), присваивания key[4] ← 25 и вызова List-Insert(L, 4). Новый список свободных позиций начинается с 8 (таково было значение next[4]). (в) Теперь мы вызвали List-Delete(L, 5), а затем Free-Объект(5). Позиция 5 — голова нового списка свободных позиций, за ней следует 8.

СОК, имеют длину m, и пусть в данный момент в списке содержится n ≤ m элементов. Остальные n — m мест (позиций) в массиве свободны (free).

Мы будем хранить свободные позиции в односторонне связанном списке, называемом списком свободных позиций (free list). Этот список использует только массив next: именно, next[i] содержит индекс свободной позиции, следующей за свободной позицией i. Голова списка хранится в переменной free. Список свободных позиций хранится вперемежку со списком L (рис. 11.7). Обратите внимание, что каждому числу из отрезка [1; m] отвечает элемент либо списка L, либо списка свободных мест.

Список свободных позиций ведёт себя как стек: из всех свободных участков памяти под новую запись выделяется тот, который был освобождён последним. Поэтому для выделения и освобождения памяти можно воспользоваться реализацией стековых операций Push и Pop на базе списка. В приводимых ниже процедурах Allocate-Объект (выделить место) и Free-Объект (освободить место) подразумевается, что в глобальной переменной free записан индекс первой (в списке) свободной позиции.