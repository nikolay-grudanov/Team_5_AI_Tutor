---
source_image: page_228.png
page_number: 228
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.69
tokens: 11721
characters: 1573
timestamp: 2025-12-24T06:15:52.259193
finish_reason: stop
---

предсказанию, с dti=22.5 и payment_inc_ratio=9 алгоритмом KNN может быть вычислена в R следующим образом:

library(FNN)
knn_pred <- knn(train=loan200, test=newloan, cl=outcome200, k=20)
knn_pred == 'default'
[1] TRUE

Предсказание KNN — ссуда не будет возвращена.

В то время как R имеет собственную функцию knn, сторонний программный R-пакет FNN (fast nearest neighbor — быстрый ближайший сосед) масштабирует до больших данных лучше и предоставляет больше гибкости.

На рис. 6.2 дано визуальное отображение этого примера. Новая ссуда, подлежащая предсказанию, представлена квадратом в центре. Круги (невозврат) и крестики (погашено) — это тренировочные данные. Овал показывает границу самых близких 20 точек. В этом случае 14 невозвратных ссуд лежат внутри овала по сравнению всего с 6 погашенными ссудами. Следовательно, предсказанный исход ссуды — невозврат.

![Предсказание алгоритма KNN невозврата ссуды с использованием двух переменных: соотношение задолженности к доходу и соотношение платежей по ссуде к доходу](../images/chapter6/fig6_2.png)

Рис. 6.2. Предсказание алгоритма KNN невозврата ссуды с использованием двух переменных: соотношение задолженности к доходу и соотношение платежей по ссуде к доходу

Хотя на выходе из KNN, предназначенном для классификации, как правило, будет бинарное решение, в частности, невозврат или погашено для данных о ссудах, подпрограммы KNN обычно предлагают возможность показывать на выходе вероятность (склонность) между 0 и 1. Вероятность основывается на доле класса единиц в K самых близких соседях. В предыдущем примере эта