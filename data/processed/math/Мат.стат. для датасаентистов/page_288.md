---
source_image: page_288.png
page_number: 288
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 60.21
tokens: 12281
characters: 2843
timestamp: 2025-12-24T06:19:14.744703
finish_reason: stop
---

К средних и другими методами кластеризации, а переменные с малыми значениями будут ими проигнорированы.

Для некоторых процедур кластеризации категориальные данные могут представлять особую проблему. Как и в случае с K ближайшими соседями, непорядковые факторные переменные обычно конвертируются в набор двоичных (0/1) переменных с использованием кодирования с одним активным состоянием (см. разд. "Кодировщик с одним активным состоянием" главы 6). У двоичных переменных шкала измерения отличается от других шкал данных, и вдобавок факт, что двоичные переменные имеют всего два значения, может создать проблемы применения таких приемов, как РСА и K средних.

Шкалирование переменных

Переменные с совсем другой шкалой и единицами измерения необходимо соответствующим образом нормализовать перед применением процедуры кластеризации. Например, давайте применим kmeans к набору данных о невозвратных ссудах без нормализации:

df <- defaults[, c('loan_amnt', 'annual_inc', 'revol_bal', 'open_acc',
                   'dti', 'revol_util')]
km <- kmeans(df, centers=4, nstart=10)
centers <- data.frame( size=km$size, km$centers)
round(centers, digits=2)

<table>
  <tr>
    <th>size</th>
    <th>loan_amnt</th>
    <th>annual_inc</th>
    <th>revol_bal</th>
    <th>open_acc</th>
    <th>dti</th>
    <th>revol_util</th>
  </tr>
  <tr>
    <td>1</td>
    <td>55</td>
    <td>23157.27</td>
    <td>491522.49</td>
    <td>83471.07</td>
    <td>13.35</td>
    <td>6.89</td>
    <td>58.74</td>
  </tr>
  <tr>
    <td>2</td>
    <td>1218</td>
    <td>21900.96</td>
    <td>165748.53</td>
    <td>38299.44</td>
    <td>12.58</td>
    <td>13.43</td>
    <td>63.58</td>
  </tr>
  <tr>
    <td>3</td>
    <td>7686</td>
    <td>18311.55</td>
    <td>83504.68</td>
    <td>19685.28</td>
    <td>11.68</td>
    <td>16.80</td>
    <td>62.18</td>
  </tr>
  <tr>
    <td>4</td>
    <td>14177</td>
    <td>10610.43</td>
    <td>42539.36</td>
    <td>10277.97</td>
    <td>9.60</td>
    <td>17.73</td>
    <td>58.05</td>
  </tr>
</table>

Переменные annual_inc и revol_bal доминируют над кластерами, и кластеры имеют очень разные размеры. Кластер 1 имеет всего 55 членов со сравнительно высоким сальдо годового дохода и возобновляемого кредита.

Общепринятый подход к шкалированию переменных состоит в их конвертировании в z-оценки путем вычитания среднего значения и деления на стандартное отклонение. Данная процедура называется стандартизацией или нормализацией (см. разд. "Стандартизация (normalизация, z-оценки)" главы 6, где использование z-оценок рассматривается подробнее):

\[
z = \frac{x - \overline{x}}{s}
\]

Посмотрим, что произойдет с кластерами, когда kmeans применяется к нормализованным данным:

df0 <- scale(df)
km0 <- kmeans(df0, centers=4, nstart=10)
centers0 <-scale(km0$centers, center=FALSE,
                 scale=1/attr(df0, 'scaled:scale'))