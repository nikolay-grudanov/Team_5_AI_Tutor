---
source_image: page_275.png
page_number: 275
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 80.66
tokens: 11983
characters: 2520
timestamp: 2025-12-24T06:18:58.943531
finish_reason: stop
---

Кластерный анализ против РСА
График центров кластеров в сущности аналогичен рассмотрению нагрузок в анализе главных компонент (РСА); см. разд. "Интерпретация главных компонент" ранее в этой главе. Главное отличие в том, что в РСА знак кластерных центров имеет значение. РСА-анализ идентифицирует главные направления вариации, тогда как кластерный анализ находит группы записей, расположенных рядом друг к другу.

Выбор количества кластеров
Алгоритм K средних требует, чтобы вы определили количество кластеров K. Иногда количество кластеров обусловлено применением. Например, компания, организующая работу отдела продаж, может захотеть сгруппировать клиентов в "типажи", на которых сосредоточить свою деятельность и звонить им с коммерческими предложениями. В таком случае организаторские соображения будут диктовать количество планируемых потребительских сегментов — например, два сегмента могут не привести к полезному разделению клиентов, тогда как восемь может быть слишком много, чтобы с ними справиться.

В отсутствие количества кластеров, продиктованного практическими или организаторскими соображениями, можно воспользоваться статистическим подходом. Не существует единого стандартного метода нахождения "лучшего" количества кластеров.

Общепринятый подход, который называется методом локтя (elbow method), состоит в идентификации точки, когда набор кластеров объясняет "большинство" дисперсии в данных. Добавление новых кластеров вне этого набора вносит относительно малый инкрементный вклад в объясненную дисперсию. Локоть — это точка, где совокупная объясненная дисперсия выравнивается после кругого подъема, отсюда и название данного метода.

На рис. 7.6 отображен совокупный процент дисперсии, объясненной для данных о невозвратах для количества кластеров в пределах от 2 до 15. Где же локоть в этом примере? Очевидный кандидат отсутствует, поскольку инкрементное увеличение дисперсии постепенно падает. Это довольно типичная ситуация для данных, которые не имеют четко определенных кластеров. Возможно, в этом заключается недостаток метода локтя, но он действительно показывает природу данных.

В R функция kmeans не обеспечивает единую команду для применения метода локтя, но его можно с легкостью применить на основе данных на выходе из kmeans, как показано ниже:

pct_var <- data.frame(pct_var = 0,
    num_clusters=2:14)
totalss <- kmeans(df, centers=14, nstart=50, iter.max = 100)$totss
for(i in 2:14){
    pct_var[i-1, 'pct_var'] <- kmeans(df, centers=i, nstart=50, iter.max = 100)$betweenss/totalss
}