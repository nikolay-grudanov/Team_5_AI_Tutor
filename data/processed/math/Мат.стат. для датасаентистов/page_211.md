---
source_image: page_211.png
page_number: 211
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 72.61
tokens: 12076
characters: 2675
timestamp: 2025-12-24T06:15:40.521885
finish_reason: stop
---

В большинстве алгоритмов классификации каждому случаю назначена "оценочная вероятность того, чтобы он равен 1"3. По умолчанию точка принятия решения, или отсечение, как правило, равна 0,50 или 50%. Если вероятность выше 0,5, то определяется категория "1", в противном случае — "0". Альтернативным отсечением по умолчанию является преобладающая вероятность единиц в данных.

Точность (accuracy) — это просто мера общей ошибки4:

\[
\text{точность} = \frac{\sum_{\text{истинноположительный}} + \sum_{\text{истинноотрицательный}}}{\text{размер выборки}}
\]

Матрица несоответствий

В основе системы метрических показателей классификации лежит матрица несоответствий — таблица, показывающая число правильных и неправильных предсказаний, сгруппированных в категории по типу отклика. В R имеется несколько программных пакетов, предназначенных для вычисления матрицы несоответствий, но в бинарном случае она легко вычисляется вручную.

Для того чтобы проиллюстрировать матрицу несоответствий, рассмотрим модель logistic_gam, которая была натренирована на сбалансированном наборе данных с равным количеством невозвращенных и погашенных ссуд (см. рис. 5.4). Следуя принятым правилам, \( Y = 1 \) соответствует целевому событию (например, невозврат), а \( Y = 0 \) соответствует отрицательному (либо обычному) событию (например, погашено). Приведенный далее фрагмент кода вычисляет матрицу несоответствий для модели logistic_gam, примененной ко всему (несбалансированному) тренировочному набору:

pred <- predict(logistic_gam, newdata=train_set)
pred_y <- as.numeric(pred > 0)
true_y <- as.numeric(train_set$outcome=='default')
true_pos <- (true_y==1) & (pred_y==1)
true_neg <- (true_y==0) & (pred_y==0)
false_pos <- (true_y==0) & (pred_y==1)
false_neg <- (true_y==1) & (pred_y==0)

conf_mat <- matrix(c(sum(true_pos), sum(false_pos),
    sum(false_neg), sum(true_neg)), 2, 2)

3 Не все методы обеспечивают несмещенные оценки вероятности. В большинстве случаев достаточно, что метод обеспечивает ранжирование, эквивалентное ранжированию, которое было бы результатом несмещенной оценки вероятности; метод отсечения тогда функционально эквивалентен.
4 В соответствии с ГОСТ Р ИСО 5725-1 — ГОСТ Р ИСО 5725-5 правильность (trueness) — это степень близости результата измерений к истинному или условно истинному (действительному) значению измеряемой величины, а точность (accuracy) и погрешность (error) результатов измерений, как правило, определяются сравнением результата измерений с истинным или действительным (условно истинным) значением измеряемой физической величины (являющимися фактически эталонными значениями измеряемых величин, выраженными в узаконенных единицах). — Прим. пер.