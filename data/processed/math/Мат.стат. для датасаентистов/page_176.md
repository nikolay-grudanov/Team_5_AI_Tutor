---
source_image: page_176.png
page_number: 176
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 78.96
tokens: 12064
characters: 2315
timestamp: 2025-12-24T06:13:55.980286
finish_reason: stop
---

график влиятельности для данных о жилом фонде округа Кинг. Данный график может быть создан при помощи следующего ниже фрагмента кода на R.

std_resid <- rstandard(lm_98105)
cooks_D <- cooks.distance(lm_98105)
hat_values <- hatvalues(lm_98105)
plot(hat_values, std_resid, cex=10*sqrt(cooks_D))
abline(h=c(-2.5, 2.5), lty=2)

Судя по всему, имеется несколько точек данных, которые оказывают большое влияние в данной регрессии. Расстояние Кука можно вычислить при помощи функции cooks.distance, и вы можете использовать hatvalues для вычисления диагностического показателя. Hat-значения отображены на оси x, остатки — на оси y, и размер точек связан со значением расстояния Кука.

В табл. 4.2 приведено сравнение регрессии с полным набором данных и с исключенными очень влиятельными точками данных. Коэффициент регрессии для Bathrooms изменяется вполне заметно8.

Таблица 4.2. Сравнение коэффициентов регрессии с полными данными и с убранными влиятельными данными

<table>
  <tr>
    <th></th>
    <th>Оригинал</th>
    <th>Влиятельные убраны</th>
  </tr>
  <tr>
    <td>(пересечение)</td>
    <td>-772 550</td>
    <td>-647 137</td>
  </tr>
  <tr>
    <td>SqFtTotLiving</td>
    <td>210</td>
    <td>230</td>
  </tr>
  <tr>
    <td>SqFtLot</td>
    <td>39</td>
    <td>33</td>
  </tr>
  <tr>
    <td>Bathrooms</td>
    <td>2282</td>
    <td>-16132</td>
  </tr>
  <tr>
    <td>Bedrooms</td>
    <td>-26320</td>
    <td>-22 888</td>
  </tr>
  <tr>
    <td>BldgGrade</td>
    <td>130 000</td>
    <td>114 871</td>
  </tr>
</table>

В целях подгонки регрессии, которая надежно предсказывает будущие данные, идентификация влиятельных наблюдений полезна только в меньших по размеру наборах данных. Для регрессий, сопряженных с большим числом записей, маловероятно, что какое-либо наблюдение будет нести достаточный вес, чтобы вызывать предельное влияние на подогнанное уравнение (хотя регрессия может по-прежнему иметь большие выбросы). В целях обнаружения аномалии, тем не менее, идентификация влиятельных наблюдений может быть очень полезной.

8 Коэффициент для Bathrooms становится отрицательным, что нелогично. Местоположение не было принято во внимание, и почтовый индекс 98105 содержит районы несопоставимых типов домов. См. разд. "Искажающие переменные" ранее в этой главе по поводу обсуждения искажающих переменных.