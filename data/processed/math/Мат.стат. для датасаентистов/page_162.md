---
source_image: page_162.png
page_number: 162
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.69
tokens: 11694
characters: 1892
timestamp: 2025-12-24T06:12:36.303417
finish_reason: stop
---

Кодирование отклонений (deviation coding)
Тип кодирования, при котором каждый уровень сравнивается не с опорным уровнем, а с общим средним.
Синонимы: контрасты сумм, кодирование эффектов, маргинальное кодирование.

Представление фиктивные переменных
В данных о жилом фонде округа Кинг имеется факторная переменная, соответствующая типу собственности; ниже показано небольшое подмножество из шести записей.

head(house[, 'PropertyType'])
Source: local data frame [6 x 1]

PropertyType
(fctr)
1    Multiplex
2 Single Family
3 Single Family
4 Single Family
5 Single Family
6 Townhouse

Имеется три возможных значения: Multiplex (мультиплекс), Single Family (односемейный) и Townhouse (таунхаус). Для того чтобы воспользоваться данной факторной переменной, мы должны ее конвертировать в набор двоичных переменных. Это делается путем создания двоичной переменной для каждого возможного значения факторной переменной. Для того чтобы сделать это в R, мы используем функцию model.matrix⁴:

prop_type_dummies <- model.matrix(~PropertyType -1, data=house)
head(prop_type_dummies)

PropertyTypeMultiplex PropertyTypeSingle Family PropertyTypeTownhouse
1                1                0                0
2                0                1                0
3                0                1                0
4                0                1                0
5                0                1                0
6                0                0                1

Функция model.matrix конвертирует кадр данных в матрицу, подходящую для линейной модели. Факторная переменная PropertyType, которая имеет три отличаю-

⁴ Аргумент –1 в model.matrix генерирует представление, используя кодирование с одним активным состоянием (путем удаления константы пересечения, отсюда и "–"). В остальном, в R по умолчанию порождается матрица с \( P - 1 \) столбцами, где первый факторный уровень является опорным.