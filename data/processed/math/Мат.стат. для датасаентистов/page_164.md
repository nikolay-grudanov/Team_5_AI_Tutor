---
source_image: page_164.png
page_number: 164
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 172.62
tokens: 13243
characters: 4072
timestamp: 2025-12-24T06:14:55.445009
finish_reason: stop
---

Другие кодировки факторов
Существует несколько других способов кодировки факторных переменных, известных как системы контрастного кодирования. Например, кодирование отклонений, именуемое также контрастами сумм, сравнивает каждый уровень с общим средним. Другой вариант — полиномиальное кодирование, которое подходит для порядковых факторов (см. разд. "Порядковые факторные переменные" далее в этой главе). За исключением порядковых факторов, аналитики данных обычно не будут сталкиваться с другими типами кодирования помимо опорного кодирования либо кодировщика с одним активным состоянием.

Многоуровневые факторные переменные
Некоторые факторные переменные могут производить огромное число двоичных фиктивных переменных — почтовые индексы — это образец факторной переменной, и в США имеется 43 тыс. почтовых индексов. В таких случаях полезно обследовать данные, а также связи между предикторными переменными и исходом, чтобы определить, содержится ли полезная информация в категориях. Если да, то далее необходимо решить, имеет ли смысл сохранить все факторы, или же уровни должны быть консолидированы.

В округе Кинг имеется 82 почтовых индекса, связанных с продажей домов:

<table>(house$ZipCode)</table>

<table>
  <tr>
    <th>9800</th><th>89118</th><th>98001</th><th>98002</th><th>98003</th><th>98004</th><th>98005</th><th>98006</th><th>98007</th><th>98008</th><th>98010</th><th>98011</th>
  </tr>
  <tr>
    <td>1</td><td>1</td><td>358</td><td>180</td><td>241</td><td>293</td><td>133</td><td>460</td><td>112</td><td>291</td><td>56</td><td>163</td>
  </tr>
  <tr>
    <th>98014</th><th>98019</th><th>98022</th><th>98023</th><th>98024</th><th>98027</th><th>98028</th><th>98029</th><th>98030</th><th>98031</th><th>98032</th><th>98033</th>
  </tr>
  <tr>
    <td>85</td><td>242</td><td>188</td><td>455</td><td>31</td><td>366</td><td>252</td><td>475</td><td>263</td><td>308</td><td>121</td><td>517</td>
  </tr>
  <tr>
    <th>98034</th><th>98038</th><th>98039</th><th>98040</th><th>98042</th><th>98043</th><th>98045</th><th>98047</th><th>98050</th><th>98051</th><th>98052</th><th>98053</th>
  </tr>
  <tr>
    <td>575</td><td>788</td><td>47</td><td>244</td><td>641</td><td>1</td><td>222</td><td>48</td><td>7</td><td>32</td><td>614</td><td>499</td>
  </tr>
  <tr>
    <th>98055</th><th>98056</th><th>98057</th><th>98058</th><th>98059</th><th>98065</th><th>98068</th><th>98070</th><th>98072</th><th>98074</th><th>98075</th><th>98077</th>
  </tr>
  <tr>
    <td>332</td><td>402</td><td>4</td><td>420</td><td>513</td><td>430</td><td>1</td><td>89</td><td>245</td><td>502</td><td>388</td><td>204</td>
  </tr>
  <tr>
    <th>98092</th><th>98102</th><th>98103</th><th>98105</th><th>98106</th><th>98107</th><th>98108</th><th>98109</th><th>98112</th><th>98113</th><th>98115</th><th>98116</th>
  </tr>
  <tr>
    <td>289</td><td>106</td><td>671</td><td>313</td><td>361</td><td>296</td><td>155</td><td>149</td><td>357</td><td>1</td><td>620</td><td>364</td>
  </tr>
  <tr>
    <th>98117</th><th>98118</th><th>98119</th><th>98122</th><th>98125</th><th>98126</th><th>98133</th><th>98136</th><th>98144</th><th>98146</th><th>98148</th><th>98155</th>
  </tr>
  <tr>
    <td>619</td><td>492</td><td>260</td><td>380</td><td>409</td><td>473</td><td>465</td><td>310</td><td>332</td><td>287</td><td>40</td><td>358</td>
  </tr>
  <tr>
    <th>98166</th><th>98168</th><th>98177</th><th>98178</th><th>98188</th><th>98198</th><th>98199</th><th>98224</th><th>98288</th><th>98354</th>
  </tr>
  <tr>
    <td>193</td><td>332</td><td>216</td><td>266</td><td>101</td><td>225</td><td>393</td><td>3</td><td>4</td><td>9</td>
  </tr>
</table>

Переменная ZipCode имеет особое значение, поскольку является эрзацем для эффекта местоположения, влияющего на стоимость дома. Включение в состав всех уровней требует 81 коэффициента, что соответствует 81 степени свободы. Исходная модель house_lm имеет всего 5 степеней свободы (см. разд. "Диагностика модели" ранее в этой главе). Кроме того, несколько почтовых индексов имеют всего одну продажу. В некоторых задачах почтовый индекс можно консолидировать при по-