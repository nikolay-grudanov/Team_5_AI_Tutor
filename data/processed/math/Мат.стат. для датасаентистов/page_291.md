---
source_image: page_291.png
page_number: 291
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.12
tokens: 11960
characters: 2087
timestamp: 2025-12-24T06:19:10.768063
finish_reason: stop
---

✦ Для категориальных переменных расстояние равняется 1, если категории между двумя записями отличаются, и 0, если категории одинаковые.

Расстояние Говера вычисляется следующим образом:

1. Вычислить расстояние \( d_{i,j} \) для всех пар переменных \( i \) и \( j \) для каждой записи.
2. Прошкализировать каждую пару \( d_{i,j} \) таким образом, чтобы минимум равнялся 0 и максимум равнялся 1.
3. Соединить вместе попарно прошкализированные расстояния между переменными, используя простое либо взвешенное среднее, для создания матрицы расстояний.

Для того чтобы проиллюстрировать расстояния Говера, возьмем несколько строк из данных о ссудах:

> x = defaults[1:5, c('dti', 'payment_inc_ratio', 'home', 'purpose')]
> x
# A table: 5 × 4
    dti payment_inc_ratio   home           purpose
    <dbl>         <dbl>     <fctr>        <fctr>
1   1.00      2.39320     RENT           car
2   5.55      4.57170     OWN            small_business
3  18.08      9.71600     RENT           other
4  10.08     12.21520     RENT           debt_consolidation
5   7.06      3.90888     RENT           other

Функция daisy в программном пакете cluster может использоваться для вычисления расстояния Говера:

> library(cluster)
> daisy(x, metric='gower')
Dissimilarities :
      1   2   3   4
2 0.6220479
3 0.6863877 0.8143398
4 0.6329040 0.7608561 0.4307083
5 0.3772789 0.5389727 0.3091088 0.5056250

Все расстояния находятся между 0 и 1. Пара записей с самым большим расстоянием равняется 2 и 3: ни одно не имеет одинаковых значений для home (дом) или purpose (цель), и у них совсем разные уровни dti (соотношение долга к доходу) и payment_inc_ratio (соотношение платежей к доходу). Записи 3 и 5 имеют самое маленькое расстояние, потому что они разделяют одни и те же значения для home или purpose.

Вы можете использовать иерархическую кластеризацию (см. разд. "Иерархическая кластеризация" ранее в этой главе) для результирующей матрицы расстояний, применив hclust к данным на выходе из функции daisy:

df <- defaults[sample(nrow(defaults), 250),
    c('dti', 'payment_inc_ratio', 'home', 'purpose')]