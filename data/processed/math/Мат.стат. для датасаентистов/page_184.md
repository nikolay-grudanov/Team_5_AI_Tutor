---
source_image: page_184.png
page_number: 184
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 64.08
tokens: 11920
characters: 2127
timestamp: 2025-12-24T06:14:11.704214
finish_reason: stop
---

![Спайны, использовавшиеся в качестве инструмента чертежника для подгонки кривых](../images/ch4/splines.png)

Рис. 4.11. Спайны первоначально создавались на основе деформируемой древесины и "уток" и использовались в качестве инструмента чертежника для подгонки кривых.
Фото с разрешения Боба Перри (Bob Perry)

Техническое определение сплайна является серией кусочно-непрерывных полиномов. Впервые они были разработаны во время Второй мировой войны на Абердинском испытательном полигоне в США румынским математиком Дж. Шенбергом (J. Schoenberg). Полиномиальные части гладко соединялись в серии фиксированных точек в предикторной переменной, которые назывались узлами. Формулировка для сплайнов намного более сложнее, чем параболическая регрессия; подробностями подгонки сплайнов обычно занимаются статистические программные системы. Пакет splines в R содержит функцию bs для создания в модели регрессии члена с B-сплайном, т. е. совокупностью последовательных полиномиальных кривых. Например, следующий ниже фрагмент кода добавляет член B-сплайна к модели регрессии дома:

library(splines)
knots <- quantile(house_98105$SqFtTotLiving, p=c(.25, .5, .75))
lm_spline <- lm(AdjSalePrice ~ bs(SqFtTotLiving, knots=knots, degree=3) +
    SqFtLot + Bathrooms + Bedrooms + BldgGrade, data=house_98105)

Необходимо определить два параметра: степень полинома и расположение узлов. В этом случае предиктор SqFtTotLiving включается в модель при помощи кубического сплайна (degree=3). По умолчанию bs помещает узлы на границах; кроме того, узлы также были помещены в нижний, медианный и верхний квартили.

В отличие от линейного члена, для которого коэффициент имеет прямое значение, коэффициенты для сплайнового члена не интерпретируемы. Вместо этого полезнее использовать визуальное отображение для выявления природы сплайновой подгонки. На рис. 4.12 показан график зависимости частных остатков от регрессии. В отличие от полиномиальной модели, сплайновая модель намного ближе соответствует сглаженной, демонстрируя большую гибкость сплайнов. В этом случае линия подогнана к данным намного ближе. Означает ли это, что сплайновая регрессия