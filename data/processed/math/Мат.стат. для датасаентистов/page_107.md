---
source_image: page_107.png
page_number: 107
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.01
tokens: 11588
characters: 1077
timestamp: 2025-12-24T06:09:58.274384
finish_reason: stop
---

perm_fun <- function(x, n1, n2)
{
    n <- n1 + n2
    idx_b <- sample(1:n, n1)
    idx_a <- setdiff(1:n, idx_b)
    mean_diff <- mean(x[idx_b]) - mean(x[idx_a])
    return(mean_diff)
}

![Времена сеансов для веб-страниц A и B](../images/3_3.png)

Рис. 3.3. Времена сеансов для веб-страниц A и B

Данная функция работает путем отбора индексов n2 без возврата и отнесения их к группе B; оставшиеся индексы n1 назначаются группе A. Функция возвращает разницу между двумя средними. Вызов этой функции в количестве R = 1000 раз и установка n2=15 и n1=21 приводит к перераспределению разниц во временах сеансов, которые могут быть отображены в виде гистограммы.

perm_diffs <- rep(0, 1000)
for(i in 1:1000)
    perm_diffs[i] = perm_fun(session_times[, 'Time'], 21, 15)
hist(perm_diffs, xlab='Разницы во времени сессий, с')
abline(v = mean_b - mean_a)

Гистограмма, приведенная на рис. 3.4, показывает, что средняя разница произвольных перестановок превышает наблюдаемую разницу во временах сеансов (вертикальная линия). Это свидетельствует о том, что наблюдаемая разница во временах