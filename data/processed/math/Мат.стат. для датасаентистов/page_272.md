---
source_image: page_272.png
page_number: 272
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 53.21
tokens: 11770
characters: 1451
timestamp: 2025-12-24T06:18:20.578112
finish_reason: stop
---

2011-01-07 0.33732892  0.1805111      2
2011-01-10 0.00000000 -0.4641675      1

Первые шесть записей отнесены к кластеру 1 либо к кластеру 2. Также возвращаются центры (средние значения) этих кластеров:

> centers <- data.frame(cluster=factor(1:4), km$centers)
> centers
   cluster    XOM     CVX
1       1 -0.3284864 -0.5669135
2       2  0.2410159  0.3342130
3       3 -1.1439800 -1.7502975
4       4  0.9568628  1.3708892

Кластеры 1 и 3 представляют "падающие" рынки, в то время как кластеры 2 и 4 — рынки "растущие". В этом примере всего с двумя переменными визуализация кластеров и их центров довольно прямолинейна:

ggplot(data=df, aes(x=XOM, y=CVX, color=cluster, shape=cluster)) +
  geom_point(alpha=.3) +
  geom_point(data=centers, aes(x=XOM, y=CVX), size=3, stroke=2)

Результатирующий график, приведенный на рис. 7.4, демонстрирует отнесения к кластерам и центры кластеров.

![Кластеры K средних применительно к данным курсов акций ExxonMobil и Chevron](../images/chapter7/fig7_4.png)

Рис. 7.4. Кластеры K средних применительно к данным курсов акций ExxonMobil и Chevron (центры двух кластеров в плотной области трудно различить)

**Алгоритм K средних**

В целом алгоритм K средних может применяться к набору данных с p переменными \( X_1, ..., X_p \). Хотя найти точное решение K средних в вычислительном плане очень трудно, имеется возможность эффективно вычислить локальное оптимальное решение с привлечением эвристических алгоритмов.