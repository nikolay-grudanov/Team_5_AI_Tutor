---
source_image: page_176.png
page_number: 176
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.40
tokens: 6467
characters: 2590
timestamp: 2025-12-24T07:45:29.713910
finish_reason: stop
---

Для доказательства разобьем все варианты на классы, отнеся к s-му классу очереди, в которых лишь после того, как пройдут 2s покупателей, в первый раз обнаруживают отсутствие в кассе полтинников. В этом случае среди первых 2s покупателей имеется s человек с полтинниками и s человек с рублями, а число способов расстановки, при которых в кассе на первых 2s − 1 шагах был хотя бы один полтинник, равно, как мы видели, \( \frac{1}{s} C_{2s-2}^{s-1} = T_{s-1} \). Среди оставшихся 2n − 2s людей у n − s рубли и у n − s полтинники. Расставить их так, чтобы очередь и потом прошла благополучно, можно \( T_{n-s} \) способами. Всего по правилу произведения получаем, что в s-м классе будет \( T_{s-1} T_{n-s} \) расстановок. А так как общее число благополучных расстановок равно \( T_n \), то выполняется равенство (7). При этом \( T_0 = 1 \).

Соотношение (7) встречается во многих задачах. Например, пусть имеется сантиметровая лента («портновский метр») длиной n + 1 см, которую надо разрезать на кусочки длиной 1 см. Причем режут ее, экономя усилия. На первом шагу производят разрез в некотором месте. На втором шагу намечают места разрезов двух полученных частей, накладывают их друг на друга соответствующим образом и одним взмахом ножниц производят разрез. На третьем шагу так же разрезают полученные четыре части и т. д. (если какая-нибудь часть имеет длину 1 см, то она не подвергается дальнейшим разрезам). Например, если от ленты длиной \( 2^k \) см каждый раз отрезать 1 см, то потребуется \( 2^k - 1 \) разрезов, а если резать все получающиеся части пополам, то хватит k разрезов.

Можно доказать, что число \( B_n \) таких процессов, заканчивающихся разрезанием ленты на n + 1 сантиметровых кусочков, равно \( T_n \) (два процесса считаются различными, если хотя бы на одном шагу они приводят к разным результатам). Доказательство основано на том, что процессы разрезания представляют в виде объединения n классов, где в s-й класс попадают разрезания, при которых на первом шагу левая часть имеет длину s см. Это сразу приводит к рекуррентному соотношению для \( B_n \), совпадающему с соотношением (7) для \( T_n \). Так как, кроме того, \( B_0 = T_0 = 1 \), то для всех n имеем \( B_n = T_n = \frac{1}{n+1} C_{2n}^n \).

83. Задача о двух шеренгах

В комбинаторике часто бывает, что две на первый взгляд весьма далекие друг от друга задачи оказываются по сути дела одинаковыми. Рассмотрим такую задачу.

Имеется k + m (где \( k \geq m \)) человек разного роста. Сколькими способами можно построить их в две шеренги (k человек в первой шеренге и m человек во второй), чтобы в каждой