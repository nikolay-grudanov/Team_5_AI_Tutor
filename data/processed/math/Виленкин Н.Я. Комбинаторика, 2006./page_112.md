---
source_image: page_112.png
page_number: 112
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.64
tokens: 6395
characters: 2109
timestamp: 2025-12-24T07:43:52.852008
finish_reason: stop
---

А для досок \((4n + 2) \times (4n + 2)\) и \((4n + 3) \times (4n + 3)\) число решений равно нулю. В самом деле, для каждой ладьи возможны два случая — либо она стоит в центре доски, либо не стоит в центре, в этом случае ладья входит в четверку ладей, переходящих друг в друга при поворотах доски на \(90^\circ\). Поэтому общее число ладей должно иметь вид или \(4n\) (когда на доске нет центрального поля) или \(4n + 1\) (когда оно есть). Тем самым мы доказали, что \(R_{4n+2} = R_{4n+3} = 0\).

Наконец, найдем число расположений \(n\) ладей на доске \(n \times n\), симметричных относительно диагонали квадрата (для определенности берем диагональ, проходящую через нижнее левое угловое поле, как на рис. 17). Обозначим число таких расположений через \(Q_n\). Тогда имеет место соотношение

\[
Q_n = Q_{n-1} + (n - 1)Q_{n-2}.
\] (18)

В самом деле, ладья на первой вертикали либо стоит в нижнем левом углу, либо нет. В первом случае вычеркиваем первую вертикаль и первую горизонталь и получаем симметричное расположение \(n - 1\) ладей на доске \((n - 1) \times (n - 1)\). Число таких расположений равно \(Q_{n-1}\).

Во втором случае для данной ладьи найдется другая, симметричная с ней относительно выбранной диагонали. Вычеркнем вертикали и горизонтали, на которых стоят эти ладьи, и сомкнем ряды. Мы получим симметричное расположение \(n - 2\) ладей на доске \((n - 2) \times (n - 2)\).

Поскольку число таких расположений равно \(Q_{n-2}\), а ладью можно поставить на любое из \(n - 1\) полей первой вертикали, то получаем \((n - 1)Q_{n-2}\) способов. Отсюда и следует формула (18). Можно показать, что из нее следует равенство

\[
Q_n = 1 + C_n^2 + \frac{1}{1 \cdot 2} C_n^2 C_{n-2}^2 + \frac{1}{1 \cdot 2 \cdot 3} C_n^2 C_{n-2}^2 C_{n-4}^2 + ...,
\] (19)

оно выводится путем разбиения всех расположений ладей на классы — в \(s\)-й класс попадают расположения, при которых \(s\) пар ладей не попадают на диагональ.

Аналогично показывается, что число \(B_n\) расстановок \(n\) ладей на доске \(n \times n\), при которых ладьи не бьют друг друга и расположены симметрично относительно обеих диагоналей,