---
source_image: page_366.png
page_number: 366
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.42
tokens: 6736
characters: 2665
timestamp: 2025-12-24T07:50:58.748093
finish_reason: stop
---

Так как порядок элементов в группах не играет роли, получаем
\[
C_5^1 P(4, 4, 4, 4, 2) = \frac{5 \cdot 18!}{(4!)^4 \cdot 2!}
\]
способов раздела.

Во втором случае аналогично получаем
\[
\frac{C_5^2 \cdot 18!}{(4!)^3 \cdot (2!)^2}
\]
способов.

**52.** Сначала выберем 9 книг для \( C \). Это можно сделать \( C_{27}^9 \) способами. Оставшиеся 18 книг можно \( 2^{18} \) способами разделить между \( A \) и \( B \). Всего имеем \( 2^{18} C_{27}^9 \) способов раздела.

**53.** 8 пассажиров могут распределиться между этажами \( 4^8 \) способами. Из них в \( 3^8 \) случаях на данном этаже, в \( 2^8 \) — на данных двух этажах и в 1 — на данных трех этажах не выйдет ни один пассажир. Ответ \( 4^8 - C_4^1 \cdot 3^8 + C_4^2 \cdot 2^8 - C_4^3 \cdot 1^8 = 40\,824 \) получаем по формуле включений и исключений.

**54.** Если черный шар положен (\( n + 1 \) способ), то для каждой из \( n \) оставшихся луз надо сделать выбор — класть в нее белый шар или нет (\( 2^n \) способов), итого \( (n + 1)2^n \) способов. Если черный шар не положен, то для каждой из \( n + 1 \) луз надо сделать выбор — класть в нее белый шар или нет (\( 2^{n+1} \) способов), но один вариант недопустим — во все лузы класть шары нельзя, получается \( 2^{n+1} - 1 \) способов. Итого \( (n + 1)2^n + 2^{n+1} - 1 = (n + 3)2^n - 1 \).

**55.** а) Пусть первый получил \( x \) предметов первого вида, \( y \) предметов второго вида и \( z \) предметов третьего вида. Тогда \( x + y + z = 3n \), причем \( 0 \leq x \leq 2n, \ 0 \leq y \leq 2n, \ 0 \leq z \leq 2n \). Таким образом, нам надо найти число решений уравнения \( x + y + z = 3n \) в целых неотрицательных числах, не превосходящих \( 2n \).

Если отбросить условия \( x \leq 2n, \ y \leq 2n, \ z \leq 2n \), то число решений равно числу способов раздела \( 3n \) одинаковых предметов между тремя лицами, т. е. \( C_{3n+2}^2 \). Найдем теперь число решений, в которых \( x > 2n \). Оно равно общему числу решений в целых неотрицательных числах уравнений \( y + z = k, \ 0 \leq k < n \), т. е. разбиению \( n - 1 \) на сумму трех слагаемых (\( y, z \) и \( n - k \)), это можно сделать \( C_{n+1}^2 \) способами. В стольких же (но других!) решениях \( y > 2n \) и \( z > 2n \). Отбрасывая их, получаем \( C_{3n+2}^2 - 3C_{n+1}^2 = 3n^2 + 3n + 1 \) решений.

б) Аналогично получаем \( C_{4n+3}^3 - 4C_{2n+2}^3 = \frac{1}{3}(2n + 1)(8n^2 + 8n + 3) \) решений.

в) Так как части неразличимы, то решения \( x, y, z \) и \( 2n - x, 2n - y, 2n - z \) уравнения \( x + y + z = 3n \) отождествляются. Одно решение, а именно \( x = n, y = n, z = n \), отождествляется при этом с самим собой, а остальные — с отличными от них решениями. Поэтому ответ