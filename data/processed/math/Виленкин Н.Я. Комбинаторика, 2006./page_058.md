---
source_image: page_058.png
page_number: 58
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.58
tokens: 6502
characters: 2521
timestamp: 2025-12-24T07:42:35.273819
finish_reason: stop
---

Итак, число \( \overline{C}_n^k \) сочетаний с повторениями из элементов \( n \) типов по \( k \) равно числу \( P(k, n-1) \) перестановок с повторениями из \( n-1 \) палочек и \( k \) единиц. А \( P(k, n-1) = \frac{(k+n-1)!}{k! (n-1)!} \). Поэтому

\[
\overline{C}_n^k = \frac{(k+n-1)!}{k! (n-1)!} = C_{n+k-1}^k.
\] (9)

Эту же формулу можно доказать и иными способами — сразу приводящими к формуле \( \overline{C}_n^k = C_{n+k-1}^k \). Чтобы задать сочетание с повторениями из элементов \( n \) типов (типы занумерованы!) по \( k \), надо выписать в ряд \( n + k - 1 \) единицу, а затем выбрать из этих \( n + k - 1 \) позиций \( n - 1 \) и на выбранных позициях поменять 1 на | . Этот выбор можно сделать \( C_{n+k-1}^k \) способами. Полученная запись преобразуется в количество элементов каждого типа (число единиц, стоящих между соседними палочками).

А можно выписать в ряд числа от 1 до \( n + k - 1 \), выбрать \( k \) из них (\( C_{n+k-1}^k \) способами), а затем первое (наименьшее) выбранное число взять как есть, от второго отнять 1, от третьего отнять 2, ..., от \( k \)-го отнять \( k - 1 \). Сразу получится набор типов выбранных элементов (расположенных по возрастанию).

Фактически мы сейчас определили количество кортежей из \( n \) элементов вида \( (k_1, ..., k_n) \), где \( k_1, ..., k_n \) — неотрицательные целые числа, сумма которых равна \( k \), т. е. число способов представить число \( k \) в виде суммы \( n \) неотрицательных слагаемых. Оно равно \( \overline{C}_n^k = C_{n+k-1}^k \).

Встречаются задачи, в которых на сочетания с повторениями налагается дополнительное условие — в них обязательно должны входить элементы \( r \) фиксированных типов, где \( r \leq n \). Эти задачи легко сводятся к уже решенной. Чтобы обеспечить присутствие элементов заданных типов, возьмем с самого начала по одному элементу каждого такого типа. Тем самым в сочетании с повторениями из элементов \( n \) типов по \( k \) окажутся заняты \( r \) мест. Остальные же \( k - r \) мест можно заполнять любыми элементами, принадлежащими по условию к \( n \) типам. Поэтому комбинаций искомого вида столько же, сколько и сочетаний с повторениями из элементов \( n \) типов, содержащих по \( k - r \) элементов каждое, т. е. \( \overline{C}_n^{k-r} = C_{n+k-r-1}^{k-r} \). В частности, если \( k \geq n \) и требуется, чтобы в сочетания с повторениями из элементов \( n \) типов по \( k \) входил по крайней мере один элемент каждого из \( n \) типов, то получится \( C_{k-1}^{k-n} = C_{k-1}^{n-1} \) комбинаций.