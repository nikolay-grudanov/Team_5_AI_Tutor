---
source_image: page_104.png
page_number: 104
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.95
tokens: 6424
characters: 2032
timestamp: 2025-12-24T07:43:40.680054
finish_reason: stop
---

Представляем читателю разобрать следующую задачу.
Имеются \( n_1 \) предметов первого вида, \( n_2 \) предметов второго вида, ..., \( n_k \) предметов \( k \)-го вида. Сколькими способами можно раздать их \( m \) лицам так, чтобы каждый получил хотя бы один предмет?
Ответ на эту задачу такой:

\[
C_{n_1+m-1}^{m-1} C_{n_2+m-1}^{m-1} \cdots C_{n_k+m-1}^{m-1} - C_m^1 C_{n_1+m-2}^{m-2} C_{n_2+m-2}^{m-2} \cdots C_{n_k+m-2}^{m-2} + 
+ C_m^2 C_{n_1+m-3}^{m-3} C_{n_2+m-3}^{m-3} \cdots C_{n_k+m-3}^{m-3} - \ldots + (-1)^{m-1} C_m^{m-1}.
\] (9)

Например, если делят 8 яблок, 10 груш и 7 апельсинов между 4 ребятами и каждый должен получить хотя бы один фрукт, то раздел возможен

\[
C_{11}^3 C_{13}^3 C_{10}^3 - C_4^1 C_{10}^2 C_{12}^2 C_9^2 + C_4^2 C_9^1 C_{11}^1 C_8^1 - C_4^3 = 5\ 239\ 688
\]

способами.

46. Числа Стирлинга

Выведенная нами в предыдущем пункте формула (8) для числа способов положить \( n \) различных предметов в \( m \) различных ящиков так, чтобы в каждом ящике лежал хотя бы один предмет, наводит на некоторые размышления. Условие, что ящики различны, здесь существенно. Если предметы кладут в ящики одинакового вида, которые после этого перемешиваются так, что нельзя опознать эти ящика, то ответ будет иной. Из каждого способа распределения предметов по \( m \) различным ящикам можно получить \( m! \) способов, меняя содержимое ящиков местами (скажем, перекладывая содержимое первого ящика во второй, второго — в третий, а третьего — в первый). При перемешивании ящиков все эти \( m! \) способов дают один и тот же результат. Поэтому число \( S_n^m \) способов разложить \( n \) различных предметов в \( m \) неразличимых ящиков так, чтобы все ящики были непустыми, имеет вид

\[
S_n^m = \frac{1}{m!} \left[ m^n - C_m^1 (m-1)^n + C_m^2 (m-2)^n + \ldots + 
+ (-1)^k C_m^k (m-k)^n + \ldots + (-1)^{m-1} C_m^{m-1} \right].
\] (10)

Из этой формулы вытекает далеко не очевидный факт, что выражение в квадратных скобках делится на \( m! \) без остатка. Числа \( S_n^m \) называют числами Стирлинга второго рода.