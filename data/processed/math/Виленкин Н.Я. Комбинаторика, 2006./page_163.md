---
source_image: page_163.png
page_number: 163
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.63
tokens: 6168
characters: 1672
timestamp: 2025-12-24T07:45:04.229600
finish_reason: stop
---

женщины. В задаче о рыцарях этих условий нет — надо лишь, чтобы рядом не сидели никакие два врага. Мы решим задачу в общем виде, когда приглашено n пар враждующих рыцарей (n > 1). При этом будем считать, что кресла для гостей занумерованы (скажем, начиная с некоторого по ходу часовой стрелки), и способы рассадки различны, если хоть один рыцарь попадает в другое кресло.

Для решения задачи воспользуемся снова формулой включений и исключений. Обозначим через \( a_i \) событие, состоящее в том, что i-я пара враждующих между собой рыцарей сидит рядом. Подсчитаем, чему равно \( N(a_1a_2...a_k) \), т. е. во скольких случаях рядом сидят k пар врагов.

Первую пару можно усадить за стол 4n способами (2n способами выбрать место для одного, второго посадить на следующее по ходу часовой стрелки место и учесть, что рыцарей можно поменять местами). Для остальных рыцарей останется 2n - 2 мест, причем их надо занять так, чтобы вторая, третья, ..., k-я пары врагов оказались рядом. Каждую такую пару рядом сидящих враждующих рыцарей можно считать одним «объектом». Эти k - 1 пар рыцарей и 2n - 2k остальных рыцарей можно переставлять друг с другом (2n - k - 1)! способами. Если взять одну из таких перестановок и посадить рыцарей по порядку на свободные места (подряд по ходу часовой стрелки), то выбранные нами k - 1 пар врагов окажутся рядом. Это условие не нарушится и в случае, если мы поменяем местами некоторых рядом сидящих врагов. Так как такие пересадки можно сделать \( 2^{k-1} \) способами, то всего получаем \( 4n \cdot 2^{k-1} \cdot (2n - k - 1)! \) способов посадки. Таким образом,

![Карикатура с рыцарями и текстом "Я с ним не вожусь!"](../images/cartoon.png)