---
source_image: page_109.png
page_number: 109
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.54
tokens: 6388
characters: 2242
timestamp: 2025-12-24T07:43:47.046386
finish_reason: stop
---

Если не допускать, чтобы некоторые мачты пустовали, то вместо формулы (13) получаем

\[
C_n^m C_{m-1}^{m-1} m! + C_n^{m+1} C_m^{m-1}(m+1)! + 
+ C_n^{m+2} C_{m+1}^{m-1}(m+2)! + ... + C_n^n C_{n-1}^{m-1} n!
\]

способов.

50. Общая задача о ладьях

Задачи о расположении фигур на шахматной доске можно рассматривать как задачи о раскладках. Здесь элементы (фигуры) могут быть различными или одинаковыми, все «ящики» (поля доски) различны, но есть причудливые ограничения в виде связи различных полей. Впрочем, в этом есть своя «изюминка».

Цикл комбинаторных задач на шахматной доске связан с подсчетом числа расположений шахматных фигур, при которых они могут бить друг друга или, наоборот, не могут бить друг друга. Ясно, что эти числа взаимосвязаны — ведь общее число расположений двух фигур сразу подсчитывается по формуле для размещений.

Некоторые задачи такого типа мы уже решили — в п. 20 была разобрана задача о \( n \) ладьях на шахматной доске \( n \times n \). Обобщим эту задачу и возьмем \( m \times n \)-доску, т. е. доску из \( m \) горизонталей и \( n \) вертикалей. Мы хотим узнать, сколькими способами можно расставить \( k \) ладей на \( m \times n \)-доске так, чтобы они не могли бить друг друга.

Ясно, что для разрешимости задачи нужно, чтобы выполнялись условия \( k \leq m \) и \( k \leq n \) — иначе какие-то две ладьи попадут на одну и ту же горизонталь или вертикаль. Пусть эти условия выполнены. Тогда расстановку ладей можно осуществить в два этапа. Сначала выберем горизонтали, на которых будут стоять ладьи. Так как общее число горизонталей равно \( m \), а надо выбрать \( k \) горизонталей, то выбор можно сделать \( C_m^k \) способами. Точно так же вертикали, на которых будут стоять ладьи, можно выбрать \( C_n^k \) способами. Поскольку выбор вертикалей не зависит от выбора горизонталей, то по правилу произведения получаем \( C_m^k C_n^k \) способов выбора линий, где стоят ладьи.

Однако этим еще дело не кончено. Ведь \( k \) горизонталей и \( k \) вертикалей пересекаются по \( k^2 \) клеткам. Сдвигая, если понадобится, эти горизонтали и вертикали, мы получим новую доску из \( k \) горизонталей и \( k \) вертикалей. А мы уже знаем, что на такой доске расставить \( k \) ладей так, чтобы они не могли