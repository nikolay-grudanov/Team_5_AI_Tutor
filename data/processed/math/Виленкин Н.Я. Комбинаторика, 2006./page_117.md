---
source_image: page_117.png
page_number: 117
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.71
tokens: 6488
characters: 2374
timestamp: 2025-12-24T07:44:01.293674
finish_reason: stop
---

Если бы мы ставили коней одного и того же цвета так, чтобы они могли защищать друг друга, то получили бы вдвое меньше способов (из-за возможности поменять коней местами). А число способов расставить двух коней разного цвета так, чтобы они не могли бить друг друга, равно

\[
mn(mn - 1) - [4(m - 1)(n - 2) + 4(m - 2)(n - 1)] =
= m^2 n^2 - 9mn + 12m + 12n - 16,
\]

потому что поставить на доску \( m \times n \) две разные фигуры можно \( mn(mn - 1) \) способами.

Составители шахматных задач иногда вводят «сказочные» фигуры, которые ходят не так, как обычные. Например, \((p; q)\)-конь ходит на \( p \) полей в одном направлении и \( q \) полей в перпендикулярном. Обычный конь — это \((1; 2)\)-конь. Рассуждая точно так же, как и ранее, выводим, что если \( 0 < p, 0 < q, p \neq q \), то на доске \( m \times n \) можно \( 4(m - p)(n - q) + 4(m - q)(n - p) \) способами поставить двух \((p; q)\)-коней разного цвета так, чтобы они били друг друга (если \( p \) или \( q \) больше \( m \) или \( n \), то какая-либо скобка может оказаться отрицательной, тогда считаем ее равной нулю). Если же \( p \) или \( q \) равно нулю или \( p = q \), то получается вдвое меньше способов. Число способов уменьшается вдвое и в случае, когда кони одинакового цвета.

Любую шахматную фигуру можно рассматривать как объединение нескольких \((p; q)\)-коней при разных значениях \( p \) и \( q \). Например, шахматный король является объединением \((1; 0)\)- и \((1; 1)\)-коней. Поэтому двух шахматных королей разного цвета поставить на доску \( m \times n \) так, чтобы они били друг друга, можно \( 2[(m - 1)n + m(n - 1)] + 4(m - 1)(n - 1) \) способами. Отсюда легко найти, сколько есть способов поставить двух одноцветных королей, поддерживающих друг друга, и сколько — двух разноцветных королей, не бьющих друг друга.

Шахматный слон является объединением \((1; 1)\)-, \((2; 2)\)-, ..., \((p; p)\)-коней (\( p \) — наименьшее из чисел \( m - 1, n - 1 \)). Предположим для определенности, что \( m \leq n \). Тогда \( p = m - 1 \) и двух слонов разного цвета можно поставить

\[
4[(m - 1)(n - 1) + (m - 2)(n - 2) + ... + 1 \cdot (n - m + 1)]
\]

способами, чтобы они били друг друга. Раскрывая скобки и используя формулы для суммы натуральных чисел от 1 до \( m - 1 \) и суммы квадратов этих чисел, получаем, что число способов можно записать так:

\[
\frac{2m(m - 1)(3n - m - 1)}{3}.
\]