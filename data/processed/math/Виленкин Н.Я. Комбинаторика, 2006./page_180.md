---
source_image: page_180.png
page_number: 180
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.66
tokens: 6404
characters: 2334
timestamp: 2025-12-24T07:45:33.929396
finish_reason: stop
---

сыгравшей столь печальную роль в судьбе незадачливого царя Додона и его сыновей. Тот, кто попадал в ее царство, обратно уже не возвращался. Мы тоже будем считать, что те, кто попадают на левую половину оси, там и остаются. Требуется выяснить, сколько человек останется у Шемаханской царицы и где окажутся остальные люди через \( n \) часов после выхода \( 2^n \) человек из точки \( O \).

Оказывается, эта задача сводится к рассмотренной нами выше задаче об очереди в кассу кинотеатра. В самом деле, передвижения некоторого человека, вышедшего из точки \( O \), можно считать неким вариантом распределения в очереди полтинников и рублей. Его можно изобразить такой же ломаной, как и продвижение очереди в кассу: каждому передвижению направо соответствует звено ломаной, идущее направо и вверх (уплата полтинника), а каждому движению налево — звено ломаной, идущее налево и вверх (уплата рубля и изъятие из кассы полтинника). Если в этой последовательности \( k \) раз встречается передвижение вправо и \( n - k \) раз влево (напомним, что каждый раз — на \( 1/2 \) единицы длины), то в конце движения человек попадает в точку \( B_k\left(k - \frac{n}{2}\right) \). Однако это случится лишь в том случае, если наш путник по дороге не угодит в Шемаханское царство, т. е. ни в один момент времени число передвижений влево не окажется больше числа передвижений вправо. Последнее условие равносильно тому, что ломаная, изображающая движение очереди, не имеет общих точек с прямой \( x = -1 \). Можно сказать, что удвоенная координата местонахождения путника равна количеству полтинников, имеющихся в кассе, а попадание к Шемаханской царице соответствует тому, что очередь в кассу задержится.

Значит, число людей, попавших в точку \( B_k\left(k - \frac{n}{2}\right) \), равно числу случаев, когда очередь, в которой стоят \( k \) обладателей полтинников и \( n - k \) обладателей рублей, пройдет без задержки. А мы знаем, что это число отлично от нуля, лишь если \( k \geq n - k \). В этом случае оно равно (см. (5))

\[
C_n^k - C_n^{k+1} = \frac{2k - n + 1}{k + 1} \quad C_n^k = \frac{n!(2k - n + 1)}{(n - k)!(k + 1)!}.
\]

Итак, через \( n \) часов после выхода \( 2^n \) человек из точки \( O \) в точку \( B_k\left(k - \frac{n}{2}\right) \), где \( 2k \geq n \), придут (не попав к Шемаханской царице) \( C_n^k - C_n^{k+1} \) человек.