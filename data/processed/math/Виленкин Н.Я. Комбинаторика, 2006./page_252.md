---
source_image: page_252.png
page_number: 252
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.07
tokens: 6544
characters: 2207
timestamp: 2025-12-24T07:47:21.724814
finish_reason: stop
---

16. Пусть \( p \geq q \geq r \) — целые числа, такие, что \( p < q + r \) и \( p + q + r = 2s \). Имеется \( p \) черных, \( q \) белых и \( r \) красных шаров. Докажите, что есть \( s^2 + s + 1 - \frac{p^2 + q^2 + r^2}{2} \) способов раздела этих шаров между двумя лицами, при которых каждый получает \( s \) шаров. Как изменится ответ, если \( q + r < p \)?

17. Найдите количество и частоту появления счастливых 10-значных талонов на проезд.

119. Производящие функции и наборы гирь

В магазинах применяют гири разного веса: 1, 2, 3, 5, 10 кг и т. д. Такой набор гирь сложился исторически и менять его было бы, вероятно, нецелесообразно. Но с точки зрения комбинаторики более удачным был бы иной набор гирь: 1, 2, 4, 8 кг. Он позволил бы отвешивать любое целое число килограммов от 1 до 15 кг. При этом каждый вес получался бы единственным образом:

\[
\begin{align*}
1 &= 1, & 4 &= 4, & 8 &= 8, & 12 &= 8 + 4, \\
2 &= 2, & 5 &= 4 + 1, & 9 &= 8 + 1, & 13 &= 8 + 4 + 1, \\
3 &= 2 + 1, & 6 &= 4 + 2, & 10 &= 8 + 2, & 14 &= 8 + 4 + 2, \\
& & 7 &= 4 + 2 + 1, & 11 &= 8 + 2 + 1, & 15 &= 8 + 4 + 2 + 1.
\end{align*}
\]

Вообще, имея по одной гире весом в 1, 2, 4, ..., \( 2^n \) кг, можно единственным образом получить любой вес от 1 до \( (2^n - 1) \) кг, кладя гири на одну чашку весов. Это утверждение можно было бы доказать, использовав двоичную систему счисления. Но оно очень просто доказывается и с помощью производящих функций. Если в выражении

\[
f(x) = (1 + x)(1 + x^2)(1 + x^4) \ldots (1 + x^{2^n})
\]

раскрыть скобки, то коэффициентом при \( x^N \) будет число, показывающее, сколькими способами можно представить \( N \) в виде суммы чисел 1, 2, 4, ..., \( 2^n \), если каждое из них берется не более одного раза. Вместо того чтобы раскрывать скобки, умножим \( f(x) \) на \( 1 - x \) и вспомним, что \( (1 - x)(1 + x) = 1 - x^2 \), \( (1 - x^2)(1 + x^2) = 1 - x^4 \) и т. д. Поэтому, свернув все произведения, мы получим в конце концов \( (1 - x)f(x) = 1 - x^{2^{n+1}} \) и потому \( f(x) = \frac{1 - x^{2^{n+1}}}{1 - x} \). Но правая часть этой формулы не что иное, как выражение для суммы геометрической прогрессии со знаменателем \( x \) и первым членом 1, состоящей из \( 2^{n+1} \) членов.