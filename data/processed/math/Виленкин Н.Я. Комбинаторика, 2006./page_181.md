---
source_image: page_181.png
page_number: 181
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.90
tokens: 6363
characters: 2006
timestamp: 2025-12-24T07:45:36.234620
finish_reason: stop
---

Теперь уже нетрудно подсчитать, сколько человек останется в Шемаханском царстве. Для этого сложим сначала числа \( C_n^k - C_n^{k+1} \) для всех допустимых значений \( k \). Наименьшим допустимым значением \( k \) для \( n \) четных является \( k = \frac{n}{2} \). Для \( n \) нечетных, \( n = 2l + 1 \), имеем \( C_n^l = C_n^{l+1} \), т. е. \( C_n^l - C_n^{l+1} = 0 \), поэтому можно начать с \( k = l = \left[ \frac{n}{2} \right] \). Наибольшим допустимым является \( k = n \).

Итак, всего дошли до цели, не застряв в Шемаханском царстве,

\[
(C_n^k - C_n^{k+1}) + (C_n^{k+1} - C_n^{k+2}) + ... + (C_n^n - C_n^{n+1}) = C_n^k
\]

человек, где \( k = \left[ \frac{n}{2} \right] \), т. е. \( C_n^{\left[ \frac{n}{2} \right]} \) человек. А так как всего из точки \( O \) вышло \( 2^n \) человек, то во владениях Шемаханской царицы остались \( 2^n - C_n^{\left[ \frac{n}{2} \right]} \) человек.

Если бы Шемаханское царство начиналось не слева от точки \( O(0) \), а слева от точки \( O\left(-\frac{q}{2}\right) \), то до точки \( B_k\left(k - \frac{n}{2}\right) \) дошли бы \( C_n^k - C_n^{k+q+1} \) человек, \( k \geq \frac{n-q}{2} \), остальные застряли бы во владениях Шемаханской царицы. Это сразу вытекает из результатов п. 82 для варианта, когда в кассе изначально было \( q \) полтинников.

В фольклорном варианте задачи о блужданиях, как мы говорили, в точке \( O \) находилось питейное заведение. Здесь уже, разумеется, не было никакой Шемаханской царицы, а просто слева от точки \( O \) была вырыта канава, куда и попадали неумеренные поклонники Бахуса.

Предположим теперь, что вместо канавы в этой точке находилась стена, наткнувшись на которую, приходилось идти в обратную сторону. Мы предоставляем читателю убедиться, что в этом случае \( C_n^{k+1} \) надо не вычитать, а прибавлять к \( C_n^k \). Иными словами, тогда в точке \( B_k\left(k - \frac{n}{2}\right) \) окажется \( C_n^k + C_n^{k+1} \) людей. Аналогично рассматривается случай, когда стена находится в точке \( x = -\frac{q}{2} \).