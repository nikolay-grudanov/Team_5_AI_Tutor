---
source_image: page_210.png
page_number: 210
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 42.05
tokens: 6776
characters: 2503
timestamp: 2025-12-24T07:46:28.305551
finish_reason: stop
---

Легко видеть, что мы исчерпали все возможности, при которых среди \(2n + 2\) рыцарей за круглым столом окажутся \(m\) пар соседей-врагов. Поэтому \(F(m, n + 1)\) удовлетворяет при \(n \geq 2\) следующему рекуррентному соотношению:

\[
F(m, n + 1) =
= 2(2n - m + 1)F(m - 1, n) + [(2n - m)^2 - 2n + 3m]F(m, n) +
+ 2(m + 1)(2n - m - 1)F(m + 1, n) + (m + 1)(m + 2)F(m + 2, n).
\]

Непосредственный подсчет показывает, что \(F(0, 2) = 2,\ F(1, 2) = 0,\ F(2, 2) = 4\) (мы не считаем различными способы рассадки, получающиеся друг из друга циклической перестановкой). Опять заполняя с помощью формулы (6) (электронную) таблицу значений \(F(m, n)\), доходим до \(F(0, 6) = 12\ 771\ 840:\)

<table>
  <tr>
    <th>\(n\)</th>
    <th>2</th>
    <th>3</th>
    <th>4</th>
    <th>5</th>
    <th>6</th>
  </tr>
  <tr>
    <th>\(F(0, n)\)</th>
    <td>2</td>
    <td>32</td>
    <td>1488</td>
    <td>112512</td>
    <td>12771840</td>
  </tr>
  <tr>
    <th>\(F(1, n)\)</th>
    <td>0</td>
    <td>48</td>
    <td>1920</td>
    <td>138240</td>
    <td>15160320</td>
  </tr>
  <tr>
    <th>\(F(2, n)\)</th>
    <td>4</td>
    <td>24</td>
    <td>1152</td>
    <td>78720</td>
    <td>8409600</td>
  </tr>
  <tr>
    <th>\(F(3, n)\)</th>
    <td>0</td>
    <td>16</td>
    <td>384</td>
    <td>26880</td>
    <td>2841600</td>
  </tr>
  <tr>
    <th>\(F(4, n)\)</th>
    <td>0</td>
    <td>0</td>
    <td>96</td>
    <td>5760</td>
    <td>633600</td>
  </tr>
  <tr>
    <th>\(F(5, n)\)</th>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>768</td>
    <td>92160</td>
  </tr>
  <tr>
    <th>\(F(6, n)\)</th>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>7680</td>
  </tr>
</table>

**101. Решение рекуррентных соотношений**

Мы будем говорить, что *рекуррентное соотношение имеет порядок* \(k\), если оно позволяет выразить \(f(n + k)\) через \(f(n), f(n + 1), ..., f(n + k - 1)\). Например,

\[
f(n + 2) = f(n)f(n + 1) - 3f^2(n + 1) + 1
\]
— рекуррентное соотношение второго порядка, а

\[
f(n + 3) = 6f(n)f(n + 2) + f(n + 1)
\]
— рекуррентное соотношение третьего порядка.

Если задано рекуррентное соотношение \(k\)-го порядка, то ему может удовлетворять бесконечно много последовательностей. Дело в том, что первые \(k\) элементов последовательности можно задать совершенно произвольно — между ними нет никаких соотношений. Но если первые \(k\) элементов заданы, то все остальные элементы определяются совершенно однозначно — элемент \(f(k + 1)\) выражается в силу рекуррентного соотношения