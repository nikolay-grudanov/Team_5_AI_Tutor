---
source_image: page_116.png
page_number: 116
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.40
tokens: 6453
characters: 2309
timestamp: 2025-12-24T07:43:58.780036
finish_reason: stop
---

40. а) Куб n×n×n разбит на n^3 единичных кубиков. Обозначим через A_n наименьшее количество «трехмерных ладей», которые держат под ударом все кубики. Докажите, что A_n = n^2/2 при четном n и A_n = (n^2 + 1)/2 при нечетном n.

б) Найдите наибольшее число ладей, которые можно поставить в кубе n×n×n так, чтобы они не били друг друга.

54. Два коня

В этом пункте мы ограничимся всего двумя фигурами и посмотрим, сколько есть способов расставить их на доске так, чтобы они не могли бить друг друга или, наоборот, могли бить (защищать) друг друга.

Сколько способами можно расставить на доске m×n белого и черного коней так, чтобы они не били друг друга?

Решение этой задачи осложняется тем, что на разных полях доски конь имеет различное число ходов — если m ≥ 5 и n ≥ 5, то в углу доски у коня всего два хода, на одних крайних полях — три хода, на других — четыре хода, а в центре — 8 ходов. Это связано с тем, что конь может пойти на одно поле в одном направлении (вверх, вниз, направо, налево) и на два в перпендикулярном (в любую из двух сторон). Всего у коня 8 видов ходов, которые можно задать, указав, сколько полей он проходит в горизонтальном направлении и сколько в вертикальном. Эти ходы имеют, таким образом, следующий вид: (2; 1), (2; -1), (1; 2), (1; -2), (-1; 2), (-1; -2), (-2; 1), (-2; -1). Но если на доске стоит белый конь, который держит под ударом черного, то определен и единственный ход, которым он ему угрожает. Поэтому рассмотрим все 8 ходов по отдельности.

При ходе (2; 1) белый конь может стоять на любой вертикали, кроме последних двух, и любой горизонтали, кроме самой последней — иначе при ходе (2; 1) он выйдет за пределы доски. Значит, вертикаль можно выбрать n - 2 способами, а горизонталь m - 1 способами, а всего получаем (m - 1)(n - 2) способов поставить белого коня так, чтобы ходом (2; 1) он держал под обстрелом какое-то поле доски (на которое и надо ставить черного коня). В силу симметрии ясно, что столько же способов поставить белого коня при ходах (2; -1), (-2; 1), (-2; -1). А для каждого из ходов (1; 2), (1; -2), (-1; 2), (-1; -2) число способов равно (m - 2)(n - 1). Отсюда следует, что общее число способов расстановки белого и черного коней, при которых они бьют друг друга, выражается формулой

\[
4(m - 1)(n - 2) + 4(m - 2)(n - 1) = 8mn - 12m - 12n + 16.
\]