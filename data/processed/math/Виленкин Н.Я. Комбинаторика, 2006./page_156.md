---
source_image: page_156.png
page_number: 156
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.92
tokens: 6246
characters: 1760
timestamp: 2025-12-24T07:44:54.206082
finish_reason: stop
---

Рис. 31        Рис. 32        Рис. 33

Посадим сначала за стол женщин. Хозяйка дома может выбрать любое из 12 мест. После этого для остальных женщин остается 5 мест (ведь две женщины не должны сидеть рядом друг с другом). Их можно посадить на эти места 5! = 120 способами. Всего получилось 12·5! = 1440 способов. А теперь будем рассаживать мужчин. Перенумеруем занятые места по часовой стрелке цифрами 1, 2, 3, 4, 5, 6, где 1 — место, занятое Леонтьевой (рис. 32), а свободные места — римскими цифрами I, II, III, IV, V и VI, где I — место, следующее за местом хозяйки дома. Тогда хозяин дома может сесть на любое место, кроме мест I и VI (они находятся рядом с его супругой), муж гостьи, занявшей место 2 — на любом из мест, кроме I и II и т. д. Иными словами, рассадить гостей — это все равно, что расставить ладьи на доске, изображенной на рис. 33.

Обобщая эту задачу, приходим к такой постановке вопроса.
Сколькими способами можно поставить n ладей на (n×n)-доску так, чтобы они не били друг друга, и чтобы ни одна ладья не стояла на полях вида (k; k), 1 ≤ k ≤ n, (k; k + 1), 1 ≤ k ≤ n − 1 и (n; 1)?

Если бы мы знали число способов \( t_k' \) поставить k ладей на запретные поля так, чтобы они не били друг друга, то задача решалась бы по формуле (10):

\[
t_n = n! - (n-1)! t_1' + \\
+ (n-2)! t_2' - ... + (-1)^k (n-k)! t_k' + ... + (-1)^n t_n'.
\] (14)

Задача свелась к подсчету числа способов поставить k ладей на запретные поля, а это легче, так как их меньше, чем допустимых полей. Запишем 2n запретных полей по кругу, выписав сначала поля первой горизонтали, потом — второй и т. д. Если поставить единицы на полях, занятых ладьями, а на остальных полях написать нули, то получим круговую расстановку k единиц и 2n − k нулей. При этом соседние поля