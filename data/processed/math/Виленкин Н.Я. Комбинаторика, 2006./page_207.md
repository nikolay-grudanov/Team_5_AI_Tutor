---
source_image: page_207.png
page_number: 207
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.02
tokens: 6588
characters: 2375
timestamp: 2025-12-24T07:46:18.404347
finish_reason: stop
---

Второй же вариант может быть в \( \frac{1}{n} C_n \) случаях (имеется \( C_n \) случаев, когда какая-нибудь пара врагов сидит рядом; если указать, какая именно пара должна сидеть рядом, получим в \( n \) раз меньше случаев).

Здесь тоже можно вернуться к исходной компании 4 способами, и мы получаем всего \( 2(n+1)C_n \) способов. Отсюда вытекает, что при \( n \geq 1 \)

\[
D_{n+1} = 2n(n+1)B_n + 2(n+1)C_n.
\]

Мы получили систему рекуррентных соотношений

\[
\begin{align*}
B_{n+1} &= 2n(2n-1)B_n + 2(2n-1)C_n + 2D_n, \\
C_{n+1} &= 4n(n+1)B_n + 2(n+1)C_n, \\
D_{n+1} &= 2n(n+1)B_n + 2(n+1)C_n,
\end{align*}
\]

справедливых при \( n \geq 2 \). Непосредственный подсчет показывает, что \( B_2 = 2, C_2 = 0, D_2 = 4 \). Поэтому из соотношений (2) – (4) вытекает, что \( B_3 = 32, C_3 = 48, D_3 = 24 \). Продолжая далее (это удобно делать на компьютере в виде электронной таблицы), доходим до \( B_6 = 12\ 771\ 840 \):

<table>
  <tr>
    <th>n</th>
    <th>2</th>
    <th>3</th>
    <th>4</th>
    <th>5</th>
    <th>6</th>
  </tr>
  <tr>
    <th>B<sub>n</sub></th>
    <td>2</td>
    <td>32</td>
    <td>1488</td>
    <td>112512</td>
    <td>12771840</td>
  </tr>
  <tr>
    <th>C<sub>n</sub></th>
    <td>0</td>
    <td>48</td>
    <td>1920</td>
    <td>138240</td>
    <td>15160320</td>
  </tr>
  <tr>
    <th>D<sub>n</sub></th>
    <td>4</td>
    <td>24</td>
    <td>1152</td>
    <td>78720</td>
    <td>8409600</td>
  </tr>
</table>

Разобранная задача похожа на следующую задачу, называемую часто «задачей о гостях» (мы ее рассматривали в п. 74).

Сколькими способами можно рассадить за круглым столом \( n \) супружеских пар так, чтобы мужчины и женщины чередовались и никакие два супруга не сидели рядом?

Эта задача решается примерно так же, как и задача о рассадке рыцарей. Сначала рассаживают женщин. Если занумеровать места, то либо все женщины окажутся на четных местах, либо они займут нечетные места. Но число четных мест равно \( n \), и женщины могут сесть на них \( n! \) способами. Сколькими же способами они могут занять нечетные места. Значит, женщин можно посадить \( 2 \cdot n! \) способами. А потом рассматривают случаи, когда ни один из мужей не сидит рядом со своей женой, когда рядом сидит одна супружеская пара и, наконец, когда рядом сидят две супружеские пары. Предоставляем читателю составить соответствующую систему рекуррентных соотношений.