---
source_image: page_113.png
page_number: 113
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.29
tokens: 6454
characters: 2342
timestamp: 2025-12-24T07:43:56.125172
finish_reason: stop
---

удовлетворяет соотношениям \( B_{2n+1} = B_{2n} \).

\[
B_{2n} = 2B_{2n-2} + (2n - 2)B_{2n-4},
\]

52. Восемь ферзей

Теперь попробуем поставить на шахматную доску наибольшее число ферзей так, чтобы ни один из них не мог взять другого (ферзи могут бить по горизонталям, вертикалям и диагоналям).

Так как на шахматной доске только 8 горизонталей, то ясно, что больше 8 ферзей поставить на доску не удастся. Поэтому попробуем поставить 8 ферзей так, чтобы выполнялось указанное условие. При любой такой расстановке на каждую вертикаль и каждую горизонталь попадет только один ферзь, а потому можно записать занятые поля в порядке возрастания номеров вертикалей. Но тогда каждое расположение однозначно определяется номерами горизонталей занятых полей, т. е. некоторой перестановкой чисел 1, 2, 3, 4, 5, 6, 7, 8. Например, перестановка 35281746 означает, что на доске заняты поля (1; 3), (2; 5), (3; 2), (4; 8), (5; 1), (6; 7), (7; 4), (8; 8), где (1; 3) — поле, стоящее на пересечении первой вертикали и третьей горизонтали (рис. 18) и т. д. Эту задачу можно решить лишь прямым перебором вариантов.

![Рис. 18](https://i.imgur.com/3Q5z5QG.png)

Организовать этот перебор можно так. Сначала ставят ферзя в левый нижний угол. Затем ставят ферзей на каждую следующую вертикаль на первое снизу поле, не находящееся под боем ранее поставленных ферзей. Если доходят до вертикали, все поля которой биты, то передвигают ферзя на последней из занятых вертикалей, ставя его на следующее поле этой вертикали, не находящееся под боем. Когда исчерпаны все возможности получить хоть одно свободное от боя поле на данной вертикали, передвигая ферзя на предыдущей вертикали, а нужной расстановки не найдено, начинают исправлять положение на вертикали, расположенной еще на один ряд влево. Через несколько таких шагов получают расстановку ферзей, которую можно задать последовательностью чисел 1, 5, 8, 6, 3, 7, 2, 4. Продолжая описанный процесс, можно найти 92 положения ферзей, обладающих требуемым свойством.

Если \( n \) не делится ни на 2, ни на 3, то на доске \( n \times n \) существуют такие \( n \) расположений \( n \) ферзей, что каждое поле занято в одном и только одном расположении. Иными словами, в этом случае на доску можно поставить по \( n \) ферзей \( n \) различных цветов так, чтобы ферзи одного и того же цвета не могли бить друг друга.