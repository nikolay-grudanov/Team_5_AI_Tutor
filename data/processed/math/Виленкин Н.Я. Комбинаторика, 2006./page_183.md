---
source_image: page_183.png
page_number: 183
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.03
tokens: 6549
characters: 2421
timestamp: 2025-12-24T07:45:46.141620
finish_reason: stop
---

каждого из этих звеньев надо знать, в каком направлении он идет. Например, изображенный на рис. 44 путь приводит в точку \( A(1; 2) \) и задается последовательностью букв (л, н, н, п, п, в, в, в, п, в, п, н, л, л, в), где буква «п» означает движение вправо, «л» — влево, «в» — вверх и «н» — вниз. Здесь \( n = 15,\ p = 1,\ q = 2 \).

Обозначим через \( X \) множество всех номеров звеньев, которые идут влево или вниз, а через \( Y \) — множество всех номеров звеньев, которые идут вправо или вниз. Например, для пути на рис. 44 эти множества таковы:

\[
X = \{1, 2, 3, 12, 13, 14\},\ Y = \{2, 3, 4, 5, 9, 11, 12\}.
\]

Оказывается, эти два набора полностью определяют путь. Совсем легко найти те номера звеньев, которые идут вниз — они входят и в \( X \), и в \( Y \) (в примере это номера 2, 3 и 12). Движениям влево соответствуют числа из \( X \), не входящие в \( Y \) (в примере — числа 1, 13, 14); вправо — числа из \( Y \), не входящие в \( X \) (в примере — числа 4, 5, 9, 11); вверх — числа, не входящие ни в \( X \), ни в \( Y \) (в примере — числа 6, 7, 8, 10, 15).

Таким образом, задав множества \( X \) и \( Y \), мы для каждого момента времени задаем направление движения, а тем самым и весь путь из точки \( O \) в некоторую точку \( A \). Множества \( X \) и \( Y \) можно задавать произвольно при одном лишь ограничительном условии — после \( n \) шагов нам надо оказаться в точке \( A(p; q) \). Это условие позволяет найти число элементов в \( X \) и в \( Y \). В самом деле, обозначим через \( x_{\text{п}}, x_{\text{л}}, x_{\text{в}}, x_{\text{н}} \) количество звеньев, идущих соответственно вправо, влево, вверх и вниз. Тогда \( x_{\text{п}} - x_{\text{л}} = p,\ x_{\text{в}} - x_{\text{н}} = q,\ x_{\text{п}} + x_{\text{л}} + x_{\text{в}} + x_{\text{н}} = n \). Множество \( X \) состоит из \( k \) номеров, которым отвечают движения влево или вниз. Легко находим \( k = \frac{1}{2}(n - p - q) \). Это понятно — если из всех \( n \) движений убрать \( p \) движений вправо и \( q \) движений вверх, то мы как бы приедем обратно в точку \( O \), т. е. движений вниз и влево будет столько же, сколько оставшихся вверх и вправо — они погашают друг друга. В нашем примере \( X \) состоит из 6 элементов.

В множество \( Y \) берутся ходы вправо, а не ходы влево, их на \( p \) больше, чем ходов влево (за счет этого мы и попадаем в точку с абсциссой \( p \)). Ходы же вниз в обоих множествах \( X \) и