---
source_image: page_318.png
page_number: 318
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.25
tokens: 5679
characters: 2806
timestamp: 2025-12-24T07:24:13.430202
finish_reason: stop
---

операцию над порождающими их КС-грамматиками \( G_1 \) и \( G_2 \). Пусть \( G_1 = \langle V_1, W_1, R_1, I_1 \rangle,\ G_2 = \langle V_2, W_2, R_2, I_2 \rangle \). Тогда язык \( L = L_1\ (a \to L_2) \) порождается грамматикой \( G = \langle V, W, R, I \rangle \), которая определяется через \( G_1 \) и \( G_2 \) следующим образом: \( V = (V_1 \cup V_2) \setminus \{a\};\ W = W_1 \cup W_2 \cup \{a\};\ I = I_1;\ R = R_1 \cup R_2 \cup \{a \to I_2\} \). Иначе говоря, символ \( a \) становится нетерминальным, и грамматика \( G_2 \) «подставляется» в грамматику \( G_1 \) посредством КС-правила \( a \to I_2 \). Правда, такое определение подстановки грамматики в грамматику корректно только при выполнении условий: 1) \( a \notin (V_2 \cup W_2) \); 2) \( W_1 \cup W_2 = \varnothing \). Действительно, \( a \in V_2 \) приводит к противоречию: по определению подстановки языков в этом случае \( a \in V \), тогда как определению грамматики \( G \), порождающей \( L = L_1\ (a \to L_2) \), \( a \notin V \); если \( W_1 \cap W_2 \neq \varnothing \), то включение в \( R \) правила \( a \to I_2 \) приводит к подстановке в \( L_1 \) не языка \( L_2 \), а языка \( \tilde{L} \), который содержит язык \( L_2 \), но не совпадает с ним; если же \( a \in W_2 \), то к \( a \) можно применить не только специальное правило \( a \to I_2 \), но и некоторые правила из \( R_2 \) с \( a \) в левой части, в результате чего может оказаться, что \( L(G) \neq L_1\ (a \to L_2) \). Кроме того, необходимы условия: 3) \( V_1 \cap W \neq \varnothing \); 4) \( V_2 \cap W_1 = \varnothing \), поскольку при их нарушении \( V \cap W \neq 0 \). Поэтому, когда хотя бы одно из условий 1–4 не выполнено, перед подстановкой \( G_2 \) в \( G_1 \) нужно переименовать некоторые символы из \( V_1 \) и \( W_1 \) так, чтобы эти условия выполнялись. С учетом этих оговорок подстановка КС-грамматики \( G_2 = \langle V_2, W_2, R_2, I_2 \rangle \) в КС-грамматику \( G_1 = \langle V_1, W_1, R_1, I_1 \rangle \) определяется как операция, которая грамматикам \( G_1 \) и \( G_2 \) сопоставляет грамматику \( G = \langle V, W, R, I \rangle \), для которой \( V = (V_1' \cup V_2) \setminus \{a\};\ W = W_1' \cup W_2 \cup \{a\};\ I = I_1;\ R = R_1' \cup R_2 \cup \{a' \to I_2\} \), где \( V_1', W_1', R_1', a' \) — результат переименования \( V_1, W_1, R_1, a \) соответственно в случае, когда условия 1–4 не выполнены, и \( V_1' = V_1; W_1' = W_1; R_1' = R_1; a' = a \), если условия 1–4 выполнены. Независимо от того, производится переименование или нет, \( L(G) = L(G_1)\ (a \to L(G_2)) \).

Таким образом, подстановка КС-языка в КС-язык может быть представлена как подстановка КС-грамматики в КС-грамматику, дающая снова КС-грамматику. Отсюда следует, что класс КС-языков замкнут относительно подстановки, а следовательно, также относитель-