---
source_image: page_306.png
page_number: 306
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.90
tokens: 7422
characters: 1432
timestamp: 2025-12-24T08:38:50.174838
finish_reason: stop
---

лает сообщение-запрос getdata, которое выглядит как сообщение inv, но имеет другой смысл: getdata означает «я хочу получить это», тогда как inv означает «у меня есть что предложить».

Кошелек Джона получает сообщение getdata и посылает узлу Тома сообщение tx, содержащее транзакцию целиком. Том проверяет транзакцию и сохраняет ее, а затем пересылает эту транзакцию своим соседям в сети.

Вы можете спросить: «Почему кошелек Джона сразу не отправляет транзакцию целиком? К чему все эти реверансы с сообщениями inv и getdata?» Причины станут очевидны чуть позже, но если вкратце, то дело в том, что узлы могут уже иметь транзакцию; такой порядок действий, когда вместо целых транзакций отправляются только их хеши, помогает сэкономить сетевой трафик.

Том пересылает транзакцию

Если транзакция действительно, узел Тома проинформирует о ней своих соседей (рис. 8.13), используя сообщение inv, как это делал кошелек Джона, когда сообщал узлу Тома о транзакции.

Узел Тома пересылает транзакцию своим соседям, используя ту же процедуру, что и кошелек Джона, когда посылал транзакцию Тому

![Рис. 8.13. Том пересылает транзакцию своим соседям](https://i.imgur.com/3Q5z5QG.png)

Рис. 8.13. Том пересылает транзакцию своим соседям

При этом выполняется тот же процесс обмена тремя сообщениями, который использовал кошелек Джона, когда впервые отправлял транзакцию Тому (рис. 8.14). В результате Лиза, Ци и Рашид получат сообщение от Тома.