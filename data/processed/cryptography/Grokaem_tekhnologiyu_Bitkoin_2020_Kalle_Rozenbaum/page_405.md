---
source_image: page_405.png
page_number: 405
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.99
tokens: 7489
characters: 1465
timestamp: 2025-12-24T08:41:32.603544
finish_reason: stop
---

Решение segwit позволяет сделать то же самое, если оформить платеж на хеш сценария свидетеля (pay-to-witness-script-hash), который является segwit-версией для p2sh. И кто после этого скажет, что названия в Биткоин не фантастичны?

Предположим, что Джон, Элен и Фаиза используют segwit для своего благотворительного кошелька и предыдущий владелец машины для попкорна решил отдать на благотворительность деньги, вырученные от продажи.

Джон, Элен и Фаиза должны передать бывшему владельцу адрес p2wsh. Их сценарий свидетеля — это тот же сценарий погашения, который они использовали для получения платежей p2sh (рис. 10.21).

![Сценарий свидетеля](../images/ch10_21.png)

Рис. 10.21. Сценарий свидетеля хешируется в хеш сценария свидетеля

Они используют этот хеш сценария свидетеля для создания адреса p2wsh точно так же, как при создании адреса p2wpkh. Они кодируют

00 983b977f86b9bce124692e68904935f5e562c88226befb8575b4a51e29db9062

с использованием алгоритма Bech32 и получают адрес p2wsh:

bc1qnqaewluxhx7wzfrf9e5fqjf47hjk9jyzy6l0hpt4kjj3u2wmjp3qr31ft8

Этот адрес передается бывшему владельцу машины для попкорна, который создает и посылает транзакцию, подобную изображенной на рис. 10.22.

К транзакции прикладывается свидетель, точно так же как к вашей транзакции с переводом бывшему владельцу машины для попкорна. Единственная разница между этими транзакциями состоит в том, что их выходы имеют разную длину программы свидетеля. В вашей транзакции программа