---
source_image: page_226.png
page_number: 226
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.64
tokens: 7314
characters: 1172
timestamp: 2025-12-24T08:36:35.476598
finish_reason: stop
---

Эти два хеша объединяются в одно 512-битное значение. Это значение снова хешируется, и получается 256-битный корень дерева Меркла, который записывается в заголовок блока. Если какая-то транзакция добавится, удалится или изменится, корень дерева Меркла необходимо пересчитать (рис. 6.24).

![Дерево Меркла с транзакциями и подписью](../images/chapter6/merkle-tree.png)

Рис. 6.24. Любые изменения в транзакциях вызывают изменение корня дерева Меркла, что делает подпись недействительной

Это хорошо, потому что если кто-то вмешается в транзакции после того, как Лиза подпишет заголовок блока, подпись станет недействительной.

Доказательство включения транзакции в блок

Полный узел должен послать транзакции Tx_2 и Tx_3 в кошелек Джона, потому что считает, что они представляют для него интерес. Кроме того, полный узел должен доказать, что обе транзакции, Tx_2 и Tx_3, включены в блок. Но для начала рассмотрим доказательство включения только одной транзакции, Tx_2. Более объемный и сложный пример мы рассмотрим позже в этой главе.

Как полный узел может доказать, что транзакция Tx_2 включена в блок? Он может передать частичное дерево Меркла, связывающее Tx_2 с корнем