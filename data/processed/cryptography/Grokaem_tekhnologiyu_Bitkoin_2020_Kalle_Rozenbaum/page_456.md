---
source_image: page_456.png
page_number: 456
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.87
tokens: 7494
characters: 1735
timestamp: 2025-12-24T08:43:04.062571
finish_reason: stop
---

Рис. 11.30. Ветвь пользователей станет сильнее, и ветвь с большими блоками будет стерта

Пользователи победили.

Один из первых софт-форков в Биткоин — развертывание BIP16 (p2sh) — был софт-форком, активируемым пользователями. Развертывание выполнялось вручную, в том смысле, что разработчики в определенный день вручную подсчитывали количество блоков, сигнализировавших о поддержке, а затем определили день флага, который они добавили в следующую версию программного обеспечения Биткоин. После этой даты все блоки, не соответствующие новым правилам, стали отклоняться узлами, использующими это программное обеспечение.

Чтобы учесть уроки, извлеченные из недавнего развертывания segwit, начал создаваться новый механизм развертывания, работа над которым еще продолжалась, когда писались эти строки. Он широко известен под названием «софт-форк, активируемое пользователями». Идея в том, чтобы начать с развертывания в стиле BIP9, но если развертывание не перейдет в состояние LOCKED_IN до наступления тайм-аута, блоки, не сигнализирующие о поддержке ветвления, начинают отбрасываться. Это обеспечит 100%-ную поддержку, потому что несовместимые блоки перестанут учитываться и развертывание перейдет в состояние LOCKED_IN.

Повторение

В этой главе рассказывалось о различных форках, а также о том, как выполнить софт-форк без расщепления блокчейна. Мы поговорили о нескольких софт-форках, активируемых майнерами, и о нескольких софт-форках, активируемых пользователями.

Хард- и софт-форки можно проиллюстрировать следующим рисунком (с. 457).

В хард-форк правила смягчаются, из-за чего новый блок может оказаться недействительным с точки зрения старых правил. В случае расщепления блокчейна новая ветвь может быть стерта старой ветвью.