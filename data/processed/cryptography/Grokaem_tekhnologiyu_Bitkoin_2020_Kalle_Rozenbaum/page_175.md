---
source_image: page_175.png
page_number: 175
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.33
tokens: 7396
characters: 1602
timestamp: 2025-12-24T08:35:24.299405
finish_reason: stop
---

вает, допустима ли передача средств в выход. Если на стеке лежит значение true — признак OK, — значит, операция расходования средств законна. Если на стеке лежит значение false — признак ошибки, — транзакция должна быть отклонена. Лиза смотрит на верхний элемент в стеке и видит признак OK. Теперь она знает, что вход с индексом 0 в транзакции Джона допустим (рис. 5.16).

![Первый вход проверен](../images/5_16.png)

Рис. 5.16. Первый вход проверен

Затем Лиза выполняет аналогичную проверку для второго входа в транзакции Джона, с индексом 1. Если и эта программа завершится с признаком OK, значит, вся транзакция является действительной и ее можно добавить в электронную таблицу.

Почему выбрано решение с использованием программы?

Часть программы — сценарий открытого ключа — описывает, как именно должно оформляться расходование средств в транзакции. Единственный способ потратить средства — предоставить сценарий подписи, который завершается признаком OK на вершине стека.

В только что представленном примере сценарий подписи завершается с признаком успеха, только если за действительной подписью следует открытый ключ, соответствующий РКН в сценарии открытого ключа.

Использование языка программирования Script в транзакциях делает их очень гибкими. В этой книге вы увидите несколько разных видов программ на языке Script. Если бы в транзакциях не использовались программы, все варианты использования пришлось бы предусмотреть заранее.

ОПЕРАТОРЫ
В программах на языке Script можно использовать множество самых разных операторов. Полный их список можно найти на веб-ресурсе 13 (приложение B).