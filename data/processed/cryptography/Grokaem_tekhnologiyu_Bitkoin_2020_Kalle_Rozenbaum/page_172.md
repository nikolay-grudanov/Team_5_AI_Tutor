---
source_image: page_172.png
page_number: 172
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.44
tokens: 7412
characters: 1568
timestamp: 2025-12-24T08:35:15.737866
finish_reason: stop
---

транзакции, расходующей средства. Если Лиза безошибочно выполнит все инструкции в программе и получит в результате OK, то транзакция будет считаться подлинной.

Возможность добавления компьютерных программ внутрь транзакций может пригодиться в самых разных случаях использования. В этой книге мы рассмотрим несколько вариантов применения специализированных программ.

Допустим, Лиза решила проверить вход 0 транзакции Джона. Она должна выполнить инструкции в программе сверху вниз. Для хранения промежуточных результатов используется стек. Стек напоминает стопку листов бумаги. Вы можете положить лист на вершину стопки и снять лист с вершины.

Итак, взгляните на рис. 5.12. Первый (верхний) элемент в программе — это подпись, которая играет роль данных. Когда в программе встречаются данные, они просто переносятся в стек. Лиза переносит подпись на вершину изначально пустого стека. Затем она встречает открытый ключ, который тоже играет роль обычных данных. Она кладет этот ключ на вершину стека. Теперь стек содержит подпись и открытый ключ, причем открытый ключ лежит сверху.

![Подпись и открытый ключ переносятся на стек](https://i.imgur.com/3Q5z5QG.png)

Рис. 5.12. Подпись и открытый ключ переносятся на стек

Следующий элемент в программе — OP_DUP (рис. 5.13). Это уже не данные, а оператор. Оператор производит вычисления с элементами в стеке и, в некоторых случаях, с проверяемой транзакцией. Этот конкретный оператор довольно прост: он означает «Скопировать верхний элемент в стеке (не удаляя его) и поместить копию сверху». Лиза выполняет инструкцию и по-