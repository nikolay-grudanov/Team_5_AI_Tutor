---
source_image: page_361.png
page_number: 361
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.42
tokens: 7263
characters: 1018
timestamp: 2025-12-24T08:40:10.516779
finish_reason: stop
---

Рис. 9.11. Джон и Фатима создают контрактные транзакции. Детали контракта определяются сценарием погашения выхода p2sh

Выход контрактной транзакции Джона можно потратить:

★ Предоставив исходный образ хеша H и подпись Фатимы. Джон знает исходный образ — это его секретное число S, о котором говорилось выше, но Фатима не знает его.

★ Предоставив подпись Джона спустя 48 часов.

Аналогично выход контрактной транзакции Фатимы можно потратить:

★ Предоставив исходный образ хеша H и подпись Джона.

★ Предоставив подпись Фатимы спустя 24 часа.

Оператор OP_CHECKSEQUENCEVERIFY устанавливает относительную временную блокировку. Он гарантирует, что Джон не сможет потратить выход своей контрактной транзакции, пока не пройдет 48 часов с момента ее подтверждения. Оператор в контрактной транзакции Фатимы гарантирует, что Фатима не сможет потратить ее выход, пока не пройдет 24 часа.

Фатима знает, что у Джона есть секретное число. Если Фатима отправит свою контрактную транзакцию прямо сейчас, Джон может забрать деньги