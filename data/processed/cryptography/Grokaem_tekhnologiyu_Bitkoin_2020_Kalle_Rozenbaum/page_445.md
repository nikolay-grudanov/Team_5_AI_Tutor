---
source_image: page_445.png
page_number: 445
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.28
tokens: 7600
characters: 1824
timestamp: 2025-12-24T08:42:44.970140
finish_reason: stop
---

Старые узлы производят блоки, совместимые с новыми правилами

Высота отсутствует в монетарной транзакции. Отвергается новыми узлами

Старые узлы продолжают строить цепочку за отвергнутым блоком

Новые узлы построили более сильную цепочку. Старые узлы покинули старую цепочку

Рис. 11.20. Старые узлы могут вызвать расщепление цепочки, но это расщепление едва ли будет длиться долго

Когда большая часть блоков — 95% из последних 1000 — будет содержать сигнал в виде номера версии 2, начнется следующий и последний шаг, шаг 5. С этого момента все блоки с номером версии < 2 будут отбрасываться.

Зачем нужны все эти этапы? Не совсем понятно, зачем понадобилось правило 75%, которое, как было описано, удаляет ложные сигналы. Внедрение изменения вполне можно было бы провести с единственным правилом 95%. Мы не будем изучать обоснование правила 75%, а просто примем, что оно использовалось в развертывании этого и некоторых других изменений. В табл. 11.2 перечислены софт-форки, которые были введены с использованием этого механизма.

Таблица 11.2. Изменения, внедрявшиеся с использованием увеличения номера версии блока

<table>
  <tr>
    <th>BIP</th>
    <th>Название</th>
    <th>Дата</th>
    <th>Номер версии блока</th>
  </tr>
  <tr>
    <td>BIP34</td>
    <td>«Block v2, Height in Coinbase»</td>
    <td>март 2013</td>
    <td>2</td>
  </tr>
  <tr>
    <td>BIP66</td>
    <td>«Strict DER Encoding»</td>
    <td>июль 2015</td>
    <td>3</td>
  </tr>
  <tr>
    <td>BIP65</td>
    <td>OP_CHECKLOCKTIMEVERIFY</td>
    <td>декабрь 2015</td>
    <td>4</td>
  </tr>
</table>

Только что описанный механизм обновления называется активированием майнерами. Майнеры начинают применять новые правила, и все или большинство полных узлов следуют за ними, потому что новые блоки принимаются как старыми, так и новыми полными узлами.