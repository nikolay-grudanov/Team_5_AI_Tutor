---
source_image: page_422.png
page_number: 422
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.05
tokens: 7479
characters: 1467
timestamp: 2025-12-24T08:42:07.010889
finish_reason: stop
---

Корень дерева Меркла теперь удостоверяет свидетелей, включая свидетельство в монетарную транзакцию

Ваша segwit-транзакция
Монетарная транзакция
Свидетельство сохраняется в выходе монетарной транзакции
Корневой хеш свидетельства
Идентификатор монетарной segwit-транзакции определяется как 32 нулевых байта
0000...0000
Ваша segwit-транзакция со свидетелем
Тх1
Тх2
Тх3
Тх3
Зарезервированное значение свидетеля: зарезервировано для будущих усовершенствований
То же, что и раньше
Идентификатор segwit-транзакции: хеш dSHA256 транзакции + witness
Новое. Вычисление свидетельства и его сохранение в монетарной транзакции

Старые узлы смогут работать как прежде, потому что не знают о свидетельстве в монетарной транзакции. Это позволяет внедрять решение segwit, не разрушая блокчейн и не расщепляя его на две отдельные криптовалюты.

Упражнения

Для разминки

10.1. Какая часть транзакции является причиной пластичности?

10.2. Почему пластичность транзакций расценивается как проблема?

10.3. Почему время проверки старых транзакций увеличивается в квадратичной зависимости от увеличения числа входов?

10.4. Почему легким кошелькам нужны подписи в старых транзакциях, чтобы убедиться, что они включены в блок?

10.5. Предположим, вы решили добавить новую инструкцию в язык сценариев Биткоин и переопределить поведение OP_NOP5. О чем следует помнить при разработке нового поведения, чтобы избежать расщепления блокчейна (из-за того что не все узлы обновятся одновременно)?