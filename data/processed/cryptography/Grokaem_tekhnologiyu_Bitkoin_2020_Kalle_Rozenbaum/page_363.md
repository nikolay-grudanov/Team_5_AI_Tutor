---
source_image: page_363.png
page_number: 363
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.59
tokens: 7317
characters: 1203
timestamp: 2025-12-24T08:40:15.708002
finish_reason: stop
---

пись. И снова обратите внимание, что Джон тратит выход p2sh. Это означает, что во время проверки подлинности сценария сначала будет вычислен хеш сценария погашения Джона, который он указал в сценарии подписи, и сравнен с хешем в сценарии открытого ключа. Затем будет выполнен фактический сценарий погашения.

![Рис. 9.12. Первый этап фактического обмена. Джон заявляет право на 100 NMC, принадлежащих Фатиме, передавая ей секретное число S](https://i.imgur.com/3Q5z5QG.png)

Я не буду подробно описывать, как работает программа, но отмечу, что когда запускается сценарий погашения, на вершине стека будет лежать число 1. В Namecoin оно соответствует истинному значению (true), так же как и в Биткоин. В результате программа выполнит ту часть сценария, которая использует исходный образ и подпись Джона. Другая часть вообще не будет использована.

Сценарий оставит на вершине стека значение true, потому что Джон предоставил оба обязательных элемента в правильном порядке — свою подпись и исходный образ S. Он благополучно подтвердил свое право на 100 NMC.

Как только Фатима увидит обменную транзакцию Джона в сети Namecoin, она сможет создать свою обменную транзакцию для блокчейна Биткоин (рис. 9.13).