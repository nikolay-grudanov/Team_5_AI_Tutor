---
source_image: page_396.png
page_number: 396
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.21
tokens: 7542
characters: 1866
timestamp: 2025-12-24T08:41:21.957502
finish_reason: stop
---

длину, вероятность пропустить ее составляет менее одной миллиардной. Это намного лучше 4-байтной контрольной суммы в base58check, которая не дает никаких гарантий.

Segwit-адрес состоит из двух частей. Первые два символа, bc (сокращение от bitcoin), — это читаемая человеком часть. Следующая далее цифра 1 — это разделитель между частью, читаемой человеком, и фактическими данными, которые Эми будет использовать для создания выхода транзакции:

★ номер версии, в данном случае 0;
★ программа свидетеля, в данном случае РКН с8052b79...3176cba8.

Что такое программа свидетеля, я расскажу чуть ниже, а пока просто считайте ее аналогом хеша открытого ключа (РКН). Версию и программу-свидетеля нельзя получить напрямую из адреса, потому что они закодированы с использованием алгоритма bech32. Вы передаете Эми адрес bc1qeqzj...ag6jdmkj в виде QR-кода. Она пользуется современным кошельком, который понимает адреса в этом формате, поэтому она сканирует ваш адрес и извлекает версию и программу свидетеля, как показано на рис. 10.12.

Делается это в несколько этапов:

① Часть с данными отделяется от части, предназначенной для чтения человеком.

② Часть с данными, символ за символом, преобразуется в числа с использованием таблицы base32. Первое число является версией свидетеля — 0. Следующие числа, кроме последних шести, составляют программу свидетеля. Последние шесть чисел — это контрольная сумма.

③ Производится проверка контрольной суммы; в данном примере ошибки отсутствуют.

④ Программа свидетеля переписывается как последовательность 5-битных чисел.

⑤ Биты переупорядочиваются в группы по 8 бит. Каждая такая группа представляет байт программы свидетеля.

⑥ Эми извлекает программу свидетеля как с8052b7...3176cba8.

КОНТРОЛЬНАЯ СУММА
Я не буду углубляться в детали, связанные с контрольной суммой. Желающие могут обратиться непосредственно к тексту BIP173.