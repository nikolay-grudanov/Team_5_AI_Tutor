---
source_image: page_442.png
page_number: 442
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.86
tokens: 7362
characters: 1183
timestamp: 2025-12-24T08:42:32.665646
finish_reason: stop
---

В определенный день разработчики Биткоин проверили, содержат ли хотя бы 550 блоков из последних 1000 строку /P2SH/. Это условие было выполнено, поэтому разработчики выпустили новую версию программного обеспечения, которое с 1 апреля 2012 года, в день флага, начало применять правила p2sh.

Все прошло без сучка и задоринки; майнеры быстро приняли софт-форк, и вся сеть обновилась в разумные сроки. Расщепления не произошло, потому что больше 50% хешрейта было обновлено до внесения в систему изменений.

Использование увеличенного номера версии блока — BIP34, 66 и 65

Раньше я лишь вскользь упоминал о том, что заголовок блока включает номер версии (рис. 11.17). Номер версии кодируется в первых 4 байтах перед хешем предыдущего блока.

Номер версии равен 1

Рис. 11.17. Заголовок содержит номер версии блока.
Первый блок имеет версию 1

Версия — единственное, что отсутствовало в предыдущих примерах заголовков блоков. Вот как в действительности устроен 80-байтовый заголовок блока в Биткоин:

4 байта с номером версии
32 байта с идентификатором предыдущего блока
32 байта с корнем дерева Меркла
4 байта с отметкой времени
4 байта с целью
4 байта с временным номером

Всего 80 байт