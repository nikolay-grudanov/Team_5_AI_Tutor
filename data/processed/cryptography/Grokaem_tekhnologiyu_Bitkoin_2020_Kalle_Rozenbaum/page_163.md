---
source_image: page_163.png
page_number: 163
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.20
tokens: 7623
characters: 2066
timestamp: 2025-12-24T08:35:10.163793
finish_reason: stop
---

Выход с индексом 1 описывает возврат сдачи 3 СТ на один из собственных ключей Джона, РКН_3. Мы называем эту операцию сдачей, потому что она напоминает традиционную сдачу, когда вы платите 75 долларов 100-долларовой купюрой и получаете 25 долларов назад: Джон платит 13 СТ и возвращает 3 СТ на свой адрес для сдачи РКН_3.

Сдача необходима, потому что нельзя потратить только часть неизрасходованного выхода транзакции. Вы должны потратить его полностью или не потратить вообще.

Выходы и входы намного сложнее, чем может показаться: они содержат не только РКН в выходе и подпись во входе. В действительности выход содержит компьютерную программу, которая проверит подпись во входе. Мы поговорим об этом позже.

Чтобы транзакция была действительно, сумма во входах должна быть больше или равна сумме в выходах. Разница, если таковая имеется, называется комиссией за транзакцию, о которой мы поговорим в главе 7. Пока Джон не платит комиссию за транзакцию, поэтому его сумма на выходе точно соответствует сумме на входе.

Теперь транзакция создана, но еще не подписанна. Любой может создать такую транзакцию, потому что она основана на общедоступной информации. Входы просто ссылаются на транзакции в электронной таблице и индексы внутри них. Но только Джон сможет подписать эту транзакцию, потому что только у него есть закрытые ключи, соответствующие РКН_1 и РКН_2.

Подписывание транзакции

Чтобы подтвердить транзакцию, Джон нажимает кнопку ОК в своем кошельке. После этого кошелек должен создать две подписи, по одной для РКН_1 и РКН_2, а для этого у Джона должны иметься оба закрытых ключа — для РКН_1 и для РКН_2 (рис. 5.5).

Каждый вход должен подписываться отдельно. Вход с индексом 0 должен быть подписан закрытым ключом, соответствующим хешу РКН_1, потому что этот вход описывает оплату деньгами с адреса РКН_1. Аналогично вход с индексом 1 должен быть подписан закрытым ключом, соответствующим хешу РКН_2, потому что описывает оплату деньгами с адреса РКН_2.

КОМИССИЯ ЗА ТРАНЗАКЦИЮ
Обычно вы должны заплатить сети Биткоин комиссию за обработку транзакции.