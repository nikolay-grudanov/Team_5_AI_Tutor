---
source_image: page_209.png
page_number: 209
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.10
tokens: 7336
characters: 1242
timestamp: 2025-12-24T08:36:11.165075
finish_reason: stop
---

Рис. 6.8. Транзакции должны добавляться только в порядке расходования выходов. Никаких других ограничений не накладывается

Все транзакции в этом блоке расходуют выходы транзакций, уже включенных в блокчейн, то есть все они ссылаются на транзакции слева от себя. Но блок на рис. 6.9 является недействительным.

Рис. 6.9. Этот блок недействителен, потому что транзакция расходует выход, еще не включенный в блокчейн

Этот блок недействителен, потому что транзакция расходует выход, который находится после — справа от расходующей транзакции.

Как этот процесс защищает от удаления транзакций?

Допустим, Лиза решила съесть булочку, не заплатив за нее. Она создает транзакцию и помещает ее в текущий создаваемый блок, имеющий высоту 21. Она создает заголовок блока, подписывает его и записывает блок в новый файл (block_21.dat) в общей папке (рис. 6.10).

В кафе наблюдают за общей папкой, ожидая появления новых блоков. Когда Лиза сохраняет файл с блоком в общей папке, в кафе загружают его и проверяют. В том числе проверяются:

★ действительность подписи заголовка блока с использованием открытого ключа Лизы, полученного на доске объявлений или во внутренней сети;
★ существование идентификатора предыдущего блока, в данном случае блока 20;