---
source_image: page_436.png
page_number: 436
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.55
tokens: 7412
characters: 1476
timestamp: 2025-12-24T08:42:21.534694
finish_reason: stop
---

Софт-форки

Мы уже несколько раз обсуждали софт-форки в этой книге. Софт-форк — это такое изменение в правилах согласования, после внедрения которого новые блоки будут приниматься старыми узлами. Правила согласования ужесточаются. В примере с вегетарианским рестораном софт-форком была бы ситуация, когда ресторан меняет вегетарианское меню на вегансское.

Segwit — пример софт-форка. Это изменение тщательно прорабатывалось, чтобы старые узлы не терпели неудачу при проверке блоков, содержащих segwit-транзакции. Все старые узлы будут принимать любые действительно новые блоки и включать их в блокчейн.

С другой стороны, старый узел может создать блок, недопустимый с точки зрения новых правил Биткоин. Например, майнер, не поддерживающий segwit-транзакции, может включить в свой блок транзакцию, которая тратит segwit-выход, как если бы это был выход «любой может потратить» (рис. 11.9).

Рис. 11.9. Старый майнер рассматривает segwit-выход как выход «любой может потратить» и добавляет в блок транзакцию, которая расходует его именно таким способом

Предположим, что есть только один майнер с небольшим хешрейтом, использующий новую версию Биткоин. Также предположим, что старые майнеры создали блок, недопустимый с точки зрения новых правил, как в предыдущем примере с не-segwit-транзакцией. Старые узлы создали блок, недействительный для нового майнера. Новый майнер отклонит недействительный старый блок. Это та точка, где блокчейн разделится на две части (рис. 11.10).