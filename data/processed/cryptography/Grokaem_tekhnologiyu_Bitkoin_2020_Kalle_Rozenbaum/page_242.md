---
source_image: page_242.png
page_number: 242
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.61
tokens: 7513
characters: 1713
timestamp: 2025-12-24T08:37:08.738448
finish_reason: stop
---

6.14. В разделе «Обработка тысяч транзакций в блоке» мы сконструировали частичное дерево Меркла для блока с 12 транзакциями. Какие транзакции полный узел сочтет интересными?

Получено от полного узла:
Число транзакций: 12
Флаги: VVXXVVXVXXVXXVXX
Хеши: 3 6 7 8 12 13 14

На каждом шаге:
• Получить следующий флаг из списка.
• Если установлен флаг X или достигнут самый нижний уровень, использовать следующий хеш из списка и прекратить дальнейший спуск по дереву.

6.15. Представьте, что вы вычислили корень частичного дерева Меркла, как в предыдущем упражнении. Что еще нужно сделать, чтобы убедиться, что в этот блок включена определенная транзакция?

Итоги

★ Лиза помещает транзакции в блоки и подписывает их. Это позволяет привлечь ее к ответственности, если она попытается удалить транзакции.

★ Подпись фиксирует транзакции в этом и во всех предыдущих блоках, что исключает возможность подделки без повторной подписи мошеннического и всех последующих блоков.

★ Транзакции в блоке упорядочиваются в древовидную структуру и хешируются все вместе для создания корня дерева Меркла, который записывается в заголовок блока. Это позволяет создать легкий кошелек.

★ Легкие кошельки позволяют экономить трафик, но за счет ухудшения безопасности.

★ Безопасность легкого кошелька снижается из-за невозможности выполнить полную проверку транзакций, а также потому, что полный узел может скрыть какие-то транзакции от него.

★ Единственный способ добиться абсолютной уверенности в соблюдении всех правил составления блоков — запустить свой полный узел.

★ Безопасность легкого кошелька можно улучшить, подключив его к нескольким полным узлам или к доверенному узлу.

★ Лиза все еще может подвергать транзакции цензуре.