---
source_image: page_412.png
page_number: 412
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.81
tokens: 7415
characters: 1533
timestamp: 2025-12-24T08:41:42.832347
finish_reason: stop
---

Расширение языка сценариев

Байт версии можно использовать для расширения языка сценариев в будущем. До появления решения segwit для внедрения новых возможностей в язык сценариев, таких как OP_CSV, можно было использовать только инструкции OP_NOP. Это не лучший подход, потому что:

★ незанятые инструкции OP_NOP могут закончиться — их осталось всего восемь;
★ инструкции OP_NOP нельзя переопределить произвольным образом; они все еще должны действовать как OP_NOP в случаях, когда новое поведение приводит к успеху.

Байт версии позволяет вводить в будущем более радикальные изменения. Нам доступны и небольшие изменения в поведении отдельных операторов, и реализация совершенно новых языковых конструкций.

Совместимость кошельков

Большинство старых кошельков не поддерживает отправку биткоинов на segwit-адреса. Обычно они поддерживают только адреса p2pkh и p2sh. Поэтому разработчики решения segwit создали p2wsh, вложенный в p2sh, и p2wpkh, вложенный в p2sh, — способы выполнить segwit-проверку вместо старой проверки сценария.

Предположим, у вас есть кошелек с поддержкой segwit и вы решили продать свою машину для попкорна своей соседке Нине. Но у Нины нет кошелька с поддержкой segwit. Она проводит платежи только по обычным адресам, таким как p2pkh и p2sh. Вы можете создать p2sh-адрес, на который Нина сможет перевести деньги (рис. 10.28).

![Схема перевода денег с помощью p2wpkh внутри p2sh](https://i.imgur.com/3Q5z5QG.png)

Рис. 10.28. Нина переводит 0,1 BTC на ваш segwit-кошелек, используя p2wpkh внутри адреса p2sh