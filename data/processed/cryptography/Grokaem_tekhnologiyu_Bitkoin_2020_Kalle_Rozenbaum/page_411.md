---
source_image: page_411.png
page_number: 411
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.00
tokens: 7408
characters: 1538
timestamp: 2025-12-24T08:41:42.592669
finish_reason: stop
---

выходов, кошелек должен откуда-то получить эти суммы, чтобы иметь возможность подписать транзакцию. Предположим, что суммы входов каким-то образом передаются в автономный кошелек вместе с транзакцией для подписания. Тогда кошелек может подписать транзакцию, используя эти суммы, и даже показать пользователю перед подписанием сумму комиссии.

![Автономный кошелек не знает величину комиссии за транзакцию](https://i.imgur.com/3Q5z5QG.png)

Рис. 10.27. Автономный кошелек не знает величину комиссии за транзакцию

Если автономный кошелек получит неправильную сумму, он не сможет определить это. Он не сможет проверить значения входов. Но поскольку теперь подписи удостоверяют суммы, транзакция окажется недействительной. Проверяющий узел будет знать правильные суммы и использовать их при проверке подписей. Проверка подписи завершится с ошибкой. Новый алгоритм хеширования подписи не позволяет обмануть кошелек и заставить его подписать действительную транзакцию с суммой, которую пользователь не намеревался платить.

Экономия пропускной способности

Решение segwit выносит подписи из транзакции, поэтому, когда легкий кошелек запрашивает транзакцию у полного узла, тот может отправить транзакцию без данных свидетеля. Это означает, что на передачу транзакции требуется меньше трафика. Этот факт можно использовать, чтобы:

★ сохранить размер фильтра Блума и уменьшить объем трафика примерно на 50%;

★ улучшить конфиденциальность за счет уменьшения размера фильтра Блума, чтобы получить больше маскирующих данных без увеличения трафика.