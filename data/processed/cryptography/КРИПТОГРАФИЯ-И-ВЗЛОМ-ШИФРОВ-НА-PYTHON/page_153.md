---
source_image: page_153.png
page_number: 153
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.24
tokens: 7497
characters: 2094
timestamp: 2025-12-24T08:49:50.177981
finish_reason: stop
---

В Python 2 результат деления двух целых чисел автоматически округляется вниз. Вызов функции float() позволяет избежать этого, не влияя на поведение, свойственное версии Python 3.

В строке 27 вычисляется количество строк, которое равно целому значению, сохраненному в переменной key. Это значение записывается в переменную numOfRows.

В строке 29 вычисляется количество "заштрихованных" ячеек сетки, равное числу строк, умноженному на число столбцов, за вычетом длины сообщения.

При расшифровке сообщения "Cenoonommstmme oo snnio. s s c" с ключом 8 переменная numOfColumns будет равна 4, переменная numOfRows — 8, а переменная numOfShadedBoxes — 2.

Аналогично тому как в программе шифрования была предусмотрена переменная ciphertext, представляющая список строк в виде таблицы шифротекста, в функции decryptMessage() тоже предусмотрена переменная plaintext, представляющая список строк.

<table>
  <tr>
    <th>31.</th>
    <td># Каждая строка в списке plaintext представляет столбец</td>
  </tr>
  <tr>
    <th>32.</th>
    <td>plaintext = [''] * numOfColumns</td>
  </tr>
</table>

Сначала этот список содержит пустые строки, по одной на каждый столбец таблицы. Используя операцию репликации, можно умножить список, содержащий одну строку, на количество столбцов (numOfColumns) и получить список из нескольких пустых строк, количество которых равно числу столбцов.

Имейте в виду, что эта переменная plaintext отличается от переменной plaintext в функции main(). Поскольку каждая из функций decryptMessage() и main() имеет собственную локальную область видимости, обе переменные plaintext совершенно разные, даже несмотря на то что их имена совпадают.

Вспомните, как выглядит таблица с текстом "Cenoonommstmme oo snnio. s s c" (см рис. 8.1). Переменная plaintext будет содержать список строк, и каждая строка в этом списке будет представлять собой отдельный столбец этой таблицы. Мы ожидаем, что список plaintext будет выглядеть так:

['Common s', 'ense is ', 'not so c', 'ommon.']

После этого мы сможем объединить все строки этого списка и вернуть строку 'Commonsense is not so common.'.