---
source_image: page_185.png
page_number: 185
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.97
tokens: 7445
characters: 1931
timestamp: 2025-12-24T08:50:36.974504
finish_reason: stop
---

1. # Шифрование/дешифрование файлов с помощью перестановочного шифра
2. # https://www.nostarch.com/crackingcodes/ (BSD Licensed)
3.
4. import time, os, sys, transpositionEncrypt, transpositionDecrypt
5.
6. def main():
7.     inputFilename = 'frankenstein.txt'
8.     # БУДЬТЕ ВНИМАТЕЛЬНЫ: если файл с именем outputFilename
9.     # уже существует, программа перезапишет его
10.    outputFilename = 'frankenstein.encrypted.txt'
11.    myKey = 10
12.    myMode = 'encrypt'  # задать 'encrypt' или 'decrypt'

Переменная inputFilename предназначена для хранения имени файла, подлежащего чтению, а зашифрованный (или дешифрованный) текст записывается в файл, имя которого хранится в переменной outputFilename. Целочисленное значение ключа, используемое в перестановочном шифре, хранится в переменной myKey. Программа ожидает, что в качестве значения переменной myMode будет указана строка 'encrypt' или 'decrypt', задающая соответственно шифрование или дешифрование файла. Но прежде чем пытаться прочитать файл inputFilename, мы должны убедиться в том, что он существует, используя функцию os.path.exists().

Проверка существования файла

Чтение файла — безопасная операция, тогда как в отношении записи в файл следует проявлять осторожность. В случае вызова функции open() в режиме записи для уже существующего файла его исходное содержимое будет заменено новым текстом. С помощью функции os.path.exists() можно проверить, существует ли указанный файл.

Функция os.path.exists()

Функция os.path.exists() имеет единственный строковый аргумент, задающий имя файла или путь к файлу, и возвращает значение True, если указанный файл существует, в противном случае возвращается значение False. Функция os.path.exists() находится в модуле path, который, в свою очередь, находится в модуле os, поэтому, когда мы импортируем модуль os, одновременно с ним импортируется также модуль path.

Введите в интерактивной оболочке следующие инструкции.