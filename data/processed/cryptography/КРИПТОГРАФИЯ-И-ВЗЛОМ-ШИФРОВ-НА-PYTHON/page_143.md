---
source_image: page_143.png
page_number: 143
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.72
tokens: 7509
characters: 2157
timestamp: 2025-12-24T08:49:39.917304
finish_reason: stop
---

Когда выполняется инструкция import, интерпретатор Python ищет файл модуля, присоединяя расширение .py к имени файла (вот почему инструкция import pyperclip импортирует файл pyperclip.py). Еще до того, как программа начнет выполняться, переменной __name__ присваивается имя файла без расширения .py. Именно так наша программа выясняет, выполняется ли она в качестве основной программы или импортируется в виде модуля другой программой. (Мы будем импортировать файл transpositionEncrypt.py в виде модуля в главе 9.)

При импорте модуля transpositionEncrypt выполняются все содержащиеся в нем инструкции def, и в результате будет определена функция encryptMessage(). А вот функция main() не будет вызвана, поэтому код шифрования строки 'Common sense is not so common.' с ключом 8 не будет выполнен.

Именно по этой причине код, реализующий шифрование строки myMessage с помощью ключа myKey, помещен в тело функции (которой по общепринятому соглашению обычно присваивается имя main()). Он не будет выполнен, если файл transpositionEncrypt.py импортируется другими программами, в то же время программы по-прежнему смогут вызывать его функцию encryptMessage(). Это обеспечивает повторное использование кода данной функции другими программами.

Примечание

Полезный способ изучить работу программы — выполнить ее пошагово, отслеживая промежуточные результаты. Вы сможете проследить за работой функции, выводящей приветствие, и программы шифрования на основе перестановочного шифра, воспользовавшись трассировщиками по адресу https://goo.gl/KzXaRr (helloFunction.py) и https://goo.gl/b5nTeu (transpositionEncrypt.py). Трассировщик в наглядной форме представит вам результаты выполнения каждой строки кода.

Резюме

В этой главе мы изучили новые функции, операторы и типы данных, что позволило нам реализовать более сложные алгоритмы обработки данных. Программа шифрования на основе перестановочного шифра сложнее, чем программа шифрования на основе шифра Цезаря, рассмотренная в главе 6, зато перестановочный шифр намного более стойкий. Главное — помнить, что залог успешного понимания кода — умение пошагово анализировать его, как это делает интерпретатор Python.