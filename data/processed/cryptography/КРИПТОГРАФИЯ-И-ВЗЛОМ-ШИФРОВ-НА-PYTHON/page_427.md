---
source_image: page_427.png
page_number: 427
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.71
tokens: 7492
characters: 2004
timestamp: 2025-12-24T08:56:52.481672
finish_reason: stop
---

Теперь, когда вы знаете, как определить, является ли число простым, мы применим эту функцию для генерирования больших простых чисел, которые понадобятся нам в программе шифрования с открытым ключом в главе 23.

Генерирование больших простых чисел

Функция generateLargePrime() использует бесконечный цикл для получения простого числа. Для этого генерируется большое случайное число, сохраняемое в переменной num, которая затем передается функции isPrime() для проверки на простоту.

93. def generateLargePrime(keysize=1024):
94.     # Возвращает случайное простое число размером keysize бит
95.     while True:
96.         num = random.randrange(2**(keysize-1), 2**(keysize))
97.         if isPrime(num):
98.             return num

Если num — простое число, то в строке 98 функция возвращает num. В противном случае функция снова переходит к строке 96 для получения нового случайного числа. Цикл продолжается до тех пор, пока не будет найдено число, определяемое функцией isPrime() как простое.

По умолчанию параметр keysize функции generateLargePrime() равен 1024. Чем выше это значение, тем больше количество возможных ключей и тем труднее взломать шифр методом грубой силы. Обычно длина открытого ключа измеряется в битах, о чем пойдет речь в главах 23 и 24. А пока что достаточно знать, что 1024-битовый ключ — это очень большое число: в нем почти 300 цифр!

Резюме

Простые числа обладают рядом замечательных математических свойств. Как вы узнаете в главе 23, такие числа служат основой шифров, используемых в профессиональных криптографических приложениях. Определение простого числа звучит довольно тривиально: это число, которое нацело делится только на единицу и на само себя. В то же время программный код, позволяющий определять, какие числа являются простыми, далеко не так тривиален.

В этой главе мы написали функцию isPrimeTrialDiv(), реализующую тест простоты путем проверки делимости числа на каждое из чисел в интервале от 2 до квадратного корня из данного числа. Такой алгоритм назы-