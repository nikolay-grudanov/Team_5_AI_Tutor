---
source_image: page_467.png
page_number: 467
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.43
tokens: 7619
characters: 2226
timestamp: 2025-12-24T08:58:08.958087
finish_reason: stop
---

наборе. Мы должны извлекать эти индексы из переменной blockInt в обратном порядке, поскольку в процессе шифрования сообщения мы начи- нали с наименьших показателей степени (66^0, 66^1, 66^2 и т.д.), тогда как в процессе дешифрования операции деления и деления с остатком должны выполняться сначала для наибольших показателей. Вот почему переменная вложенного цикла for, начинающегося в строке 59, имеет начальное значение blockSize - 1, а затем уменьшается на 1 на каждой итерации, пока не станет равна 0.

Прежде чем преобразовать индекс в символ, необходимо убедиться в том, что в процессе декодирования блоков мы не вышли за пределы сообщения. Это делается путем проверки того, что количество преобразованных на данный момент символов, т.е. len(message) + i, все еще не превышает значение messageLength (строка 60).

<table>
  <tr>
    <th>60.</th>
    <td>if len(message) + i &lt; messageLength:</td>
  </tr>
  <tr>
    <th>61.</th>
    <td># Декодирование строки сообщения для нужного числа</td>
  </tr>
  <tr>
    <th>62.</th>
    <td># символов (задается переменной blockSize) из блока</td>
  </tr>
  <tr>
    <th>63.</th>
    <td>charIndex = blockInt // (len(SYMBOLS) ** i)</td>
  </tr>
  <tr>
    <th>64.</th>
    <td>blockInt = blockInt % (len(SYMBOLS) ** i)</td>
  </tr>
</table>

Для извлечения символов из блока мы следуем процедуре, описанной в разделе "Преобразование блока в строку". Каждый символ добавляется в список blockMessage. В процессе шифрования блоков порядок следования символов фактически меняется на противоположный, поэтому декодированный символ нельзя присоединить в конец списка blockMessage. Вместо этого символ вставляется в начало списка с помощью метода insert().

Использование спискового метода insert()

Списковый метод append() добавляет значение в конец списка, тогда как метод insert() позволяет вставить значение в любую позицию списка. В качестве аргументов метод insert() получает целочисленный индекс позиции вставки и добавляемое значение. Чтобы увидеть, как это работает, введите в интерактивной оболочке следующие инструкции.

>>> spam = [2, 4, 6, 8]
>>> spam.insert(0, 'hello')
>>> spam
['hello', 2, 4, 6, 8]
>>> spam.insert(2, 'world')
>>> spam
['hello', 2, 'world', 4, 6, 8]