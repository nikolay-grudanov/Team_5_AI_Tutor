---
source_image: page_379.png
page_number: 379
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.89
tokens: 7373
characters: 1587
timestamp: 2025-12-24T08:55:30.253640
finish_reason: stop
---

В строке 47 проверяется, содержится ли подстрока seq в качестве ключа в словаре seqSpacings. Если такого ключа еще нет, то в строке 48 он добавляется в словарь, а его значением становится пустой список.

Интервал между последовательностью message[i:i + seqLen] и исходной последовательностью message[seqStart:seqStart + seqLen] равен разности i - seqStart. Обратите внимание на то, что i и seqStart — это начальные индексы срезов, указанные перед двоеточием. Следовательно, выражение i - seqStart дает нам количество букв, разделяющих обе последовательности, и мы присоединяем это значение к списку, хранящемуся в позиции seqSpacings[seq].

По завершении всех циклов словарь seqSpacings будет содержать все повторяющиеся последовательности длиной 3, 4 и 5 букв, а также значения всех интервалов между ними. Словарь seqSpacings возвращается функцией findRepeatSequencesSpacings() в строке 53:

53. return seqSpacings

Итак, вы узнали, как реализуется первый этап метода Касиски, на котором мы находим повторяющиеся последовательности букв в шифротексте и подсчитываем количество букв между ними. Теперь можно перейти к следующему этапу.

Вычисление множителей интервалов повторения

Вспомните, что следующий этап метода Касиски заключается в нахождении множителей интервалов повторения. Мы ищем множители, выражаемые числами в диапазоне от 2 до MAX_KEY_LENGTH. Для этого предназначена функция getUsefulFactors(), которая получает параметр num и возвращает список, содержащий только множители, удовлетворяющие этому критерию.

56. def getUsefulFactors(num):
    --опущено--
61. if num < 2: