---
source_image: page_387.png
page_number: 387
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.30
tokens: 7330
characters: 1430
timestamp: 2025-12-24T08:55:42.074335
finish_reason: stop
---

Получение букв, зашифрованных одним и тем же подключом

Чтобы извлечь из шифротекста буквы, зашифрованные одним и тем же подключом, необходимо написать функцию, которая создает строку, используя 1-е, 2-е или n-е буквы сообщения. Первое, что должна сделать такая функция, получив начальный индекс, длину ключа и сообщение, — это удалить из сообщения небуквенные символы, используя объект регулярного выражения и метод sub() (строка 145).

Примечание
Регулярные выражения обсуждались в главе 17.

Строка, содержащая лишь буквы, сохраняется в виде нового значения переменной message.

Далее мы формируем список, присоединяя к нему буквы, а затем используем метод join() для объединения элементов списка в одну строку.

Переменная i задает индекс той буквы в строке message, которую требуется присоединить к списку letters. Начальным значением переменной i является nth - 1 (строка 147), а начальным значением переменной letters — пустой список (строка 148).

Цикл while, начинающийся в строке 149, продолжает выполняться до тех пор, пока значение i остается меньшим, чем длина строки message. На каждой итерации цикла буква message[i] добавляется в список letters. Затем значение i увеличивается на keyLength в строке 151, что позволяет перейти к следующей букве подключа.

По завершении цикла однобуквенные строки, содержащиеся в списке letters, объединяются в одну строку, и эта строка возвращается функцией getNthSubkeysLetters().