---
source_image: page_224.png
page_number: 224
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.59
tokens: 7459
characters: 2027
timestamp: 2025-12-24T08:51:36.073543
finish_reason: stop
---

Функция print() в строке 26 сообщает пользователю о том, что он может в любой момент выйти из программы, нажав комбинацию клавиш <Ctrl+C> (Windows) или <Ctrl+D> (macOS и Linux). Данная комбинация позволяет завершить работу любой программы на языке Python.

В следующих строках определяется диапазон возможных ключей, которые программа должна перебрать, пытаясь взломать перестановочный шифр.

28.    # Перебор всех возможных ключей методом грубой силы
29.    for key in range(1, len(message)) :
30.        print('Trying key #%s...' % (key))

Возможные ключи берутся из интервала от 1 до длины сообщения. Все они перебираются в цикле for, который начинается в строке 29. В строке 30 программа отображает текущий ключ.

В строке 32 вызывается функция decryptMessage() из созданной нами ранее программы transpositionDecrypt.py, которая получает дешифрованное сообщение, соответствующее текущему тестируемому ключу, и сохраняет его в переменной decryptedText.

32.    decryptedText = transpositionDecrypt.decryptMessage(key, message)

Дешифрованный текст, содержащийся в переменной decryptedText, будет представлять собой осмысленный текст на английском языке только в случае использования корректного ключа. В противном случае мы получим "мусор".

Далее строка, содержащаяся в переменной decryptedText, передается функции detectEnglish.isEnglish(), которую мы создали в главе 11. Если функция определяет текст как английский, то программа выводит фрагмент текста из переменной decryptedText и выдает запрос пользователю.

34.    if detectEnglish.isEnglish(decryptedText):
35.        # Запросить у пользователя подтверждение корректности ключа
36.        print()
37.        print('Possible encryption hack:')
38.        print('Key %s: %s' % (key, decryptedText[:100]))
39.        print()
40.        print('Enter D if done, anything else to continue hacking:')
41.        response = input('>' )

Тот факт, что функция detectEnglish.isEnglish() вернула значение True, еще не означает, что программе удалось найти корректный ключ. Это