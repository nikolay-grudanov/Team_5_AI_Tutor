---
source_image: page_207.png
page_number: 207
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.87
tokens: 7488
characters: 2094
timestamp: 2025-12-24T08:51:10.893142
finish_reason: stop
---

вызвать. Именно по этой причине инструкция присваивания располагается после определения функции loadDictionary().

Подсчет количества английских слов в сообщении

В строках 24–27 программы создается функция getEnglishCount(), которая имеет строковый аргумент и возвращает вещественное значение, определяющее долю распознанных английских слов по отношению к общему количеству слов в сообщении. Мы представим это отношение в виде значения в интервале от 0,0 до 1,0. Значению 0,0 соответствует отсутствие английских слов в сообщении, тогда как значение 1,0 означает, что все слова в сообщении — английские. На основании этого значения функция isEnglish() будет возвращать значение True или False.

24. def getEnglishCount(message):
25.    message = message.upper()
26.    message = removeNonLetters(message)
27.    possibleWords = message.split()

В функции сначала создается список слов, содержащихся в строке сообщения. В строке 25 символы строки преобразуются в верхний регистр. В строке 26 с помощью функции removeNonLetters() из строки удаляются все небуквенные символы, такие как числа и знаки препинания (о том, как работает эта функция, вы узнаете далее). Наконец, в строке 27 метод split() разбивает строку на слова и сохраняет их в переменной possibleWords.

Например, если функции getEnglishCount() была передана строка 'Hello there. How are you?', то после выполнения строк 25–27 список possibleWords будет содержать ['HELLO', 'THERE', 'HOW', 'ARE', 'YOU'].

Если в строке сообщения содержатся цифры, например '12345', то функция removeNonLetters() вернет пустую строку, и метод split() сформирует пустой список. В данной программе пустой список эквивалентен отсутствию слов на английском языке, т.е. случаю, когда их количество равно нулю, что может повлечь за собой ошибку деления на нуль.

Ошибка деления на нуль

Чтобы вернуть вещественное значение в интервале от 0,0 до 1,0, мы делим количество слов в переменной possibleWords, распознанных как английские, на общее количество слов, сохраненных в этой переменной. Несмотря на простоту данной операции, следует убедиться в том, что