---
source_image: page_303.png
page_number: 303
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.80
tokens: 7524
characters: 2116
timestamp: 2025-12-24T08:53:32.830396
finish_reason: stop
---

Например, первая буква 'P' в слове 'PUPPY' может быть добавлена в словарь letterMapping на первой итерации цикла, но когда i станет равно 2 на третьей итерации, буква 'P' в позиции candidate[2] не будет добавлена в словарь, поскольку она уже была добавлена в него на первой итерации.

Если вариант дешифрования отсутствует в словаре, то в строке 52 новая буква, candidate[i], добавляется в список вариантов дешифрования по ключу letterMapping[cipherword[i]].

Помните: в Python в качестве параметра передается ссылка на словарь, а не сам словарь, поэтому любые изменения, внесенные в словарь letterMapping в функции addLettersToMapping(), будут сохранены и после ее завершения. Соответственно, изменится также словарь candidateMap, передаваемый в функцию addLettersToMapping() в строке 126.

Пройдя по всем индексам в строке cipherword, функция завершит добавление букв в словарь letterMapping. Теперь необходимо выяснить, как программа сравнивает полученный словарь со словарями других шифророслов для выявления пересечений.

Пересечение двух словарей

Функция hackSimpleSub() использует функцию intersectMappings(), которая получает два словаря шифробукв, передаваемых ей в качестве параметров mapA и mapB, и возвращает объединенный словарь. Предварительно создается пустой словарь, а затем в него добавляются варианты дешифрования букв, но только в том случае, если они имеются в обоих словарях, что позволяет избежать появления дубликатов.

56. def intersectMappings(mapA, mapB):
57.     # Чтобы построить пересечение словарей, создаем пустой словарь и
58.     # добавляем в него только варианты, существующие в ОБОИХ словарях
59.     intersectedMapping = getBlankCipherletterMapping()

Сначала в строке 59 с помощью функции getBlankCipherletterMapping() создается пустой словарь шифробукв, который сохраняется в переменной intersectedMapping.

В строке 60 начинается цикл for, в котором перебираются все буквы, хранящиеся в константе LETTERS. Переменная letter используется в качестве ключа в словарях mapA и mapB.

60.     for letter in LETTERS:
61.
62.         # Пустой список означает "возможна любая буква";