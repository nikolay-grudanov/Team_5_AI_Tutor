---
source_image: page_393.png
page_number: 393
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.60
tokens: 7813
characters: 2396
timestamp: 2025-12-24T08:56:13.905858
finish_reason: stop
---

Получив строку 'ABC' и целое число 4 в качестве аргумента repeat, функция itertools.product() возвращает объект декартового произведения (1), который после преобразования в список содержит кортежи из четырех значений, представляющих возможные комбинации букв 'A', 'B' и 'C'. В конечном итоге мы получаем список, содержащий в общей сложности \(3^4\), или 81, кортеж.

Также допускается передавать в функцию itertools.product() списки и им подобные значения, например объекты range, возвращаемые функцией range(). Чтобы увидеть это на конкретном примере, введите в интерактивной оболочке следующий код.

```python
>>> import itertools
>>> list(itertools.product(range(8), repeat=5))
[(0, 0, 0, 0, 0), (0, 0, 0, 0, 1), (0, 0, 0, 0, 2), (0, 0, 0, 0, 3),
(0, 0, 0, 0, 4), (0, 0, 0, 0, 5), (0, 0, 0, 0, 6), (0, 0, 0, 0, 7),
(0, 0, 0, 1, 0), (0, 0, 0, 1, 1), (0, 0, 0, 1, 2), (0, 0, 0, 1, 3),
(0, 0, 0, 1, 4),
--опущено--
(7, 7, 7, 6, 6), (7, 7, 7, 6, 7), (7, 7, 7, 7, 0), (7, 7, 7, 7, 1),
(7, 7, 7, 7, 2), (7, 7, 7, 7, 3), (7, 7, 7, 7, 4), (7, 7, 7, 7, 5),
(7, 7, 7, 7, 6), (7, 7, 7, 7, 7)]
```

Получив объект диапазона, создаваемый вызовом range(8), а также число 5 в качестве аргумента repeat, функция itertools.product() возвращает список, элементами которого являются кортежи из пяти значений, представляющих собой целые числа в диапазоне от 0 до 7.

Мы не можем просто передать список потенциальных подключей в функцию itertools.product(), так как она создает комбинации одних и тех же значений, а для каждого из подключей, вероятнее всего, будут существовать разные варианты потенциальных букв. Вместо этого, поскольку наши подключи хранятся в виде кортежей в списке allFreqScores, мы будем получать доступ к буквам с помощью индексов, имеющих значения от 0 до желаемого количества букв минус 1. Мы знаем, что количество букв в каждом кортеже равно NUM_MOST_FREQ_LETTERS, поскольку именно это значение задавалось для каждого кортежа в строке 176. Соответственно, константу NUM_MOST_FREQ_LETTERS нужно будет передать функции itertools.product(). Вместе с ней мы передадим также вероятную длину ключа в качестве второго аргумента, чтобы длина создаваемых кортежей была равна длине потенциального ключа.

Например, если мы хотим испытать только первые четыре наиболее вероятные буквы каждого подключа (их количество определяется константой NUM_MOST_FREQ_LETTERS), в то время как сам ключ, вероятнее