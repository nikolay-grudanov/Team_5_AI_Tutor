---
source_image: page_251.png
page_number: 251
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.37
tokens: 7485
characters: 1892
timestamp: 2025-12-24T08:52:10.884011
finish_reason: stop
---

то выполняется строка 16, и в переменной translated сохраняется значение, возвращаемое функцией decryptMessage(). Работу этих функций мы рассмотрим позже.

В итоге в переменной translated будет содержаться зашифрованная или дешифрованная версия сообщения, хранящегося в переменной myMessage.

В строке 17 отображается ключ шифрования (подставляется с помощью заполнителя %s), а в строке 18 пользователю сообщается о том, что выводится на экран: зашифрованный или дешифрованный текст.

17. print('Key: %s' % (myKey))
18. print('%sed text:' % (myMode.title()))
19. print(translated)
20. pyperclip.copy(translated)
21. print('Full %sed text copied to clipboard.' % (myMode))

В строке 19 на экране отображается содержимое переменной translated, представляющее собой зашифрованную или дешифрованную версию текста, хранящегося в переменной myMessage, а в строке 20 это содержимое копируется в буфер обмена. В строке 21 программа информирует пользователя о том, что текст скопирован в буфер обмена.

Вычисление и проверка ключей

В отличие от шифра Цезаря, в котором используется один ключ и операция сложения, в аффинном шифре используются два ключа, которые мы назовем ключами A и B, и две операции: сложение и умножение. Поскольку запомнить один ключ легче, чем два, мы воспользуемся математическим трюком, позволяющим преобразовать два ключа в один.

В строке 24 начинается определение функции getKeyParts(), которая разбивает целочисленный ключ на два целых числа, которые будут служить нам ключами A и B.

24. def getKeyParts(key):
25.   keyA = key // len(SYMBOLS)
26.   keyB = key % len(SYMBOLS)
27.   return (keyA, keyB)

Подлежащий разбиению ключ передается в качестве параметра key. В строке 25 ключ A вычисляется путем целочисленного деления ключа key на размер символьного набора, len(SYMBOLS). Оператор целочисленного деления (//) возвращает частное от деления без остатка. В строке 26