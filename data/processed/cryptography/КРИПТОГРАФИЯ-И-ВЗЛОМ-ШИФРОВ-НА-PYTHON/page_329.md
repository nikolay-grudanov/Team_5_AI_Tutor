---
source_image: page_329.png
page_number: 329
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.63
tokens: 7446
characters: 1921
timestamp: 2025-12-24T08:54:18.603499
finish_reason: stop
---

записывается текущее время, и выполняется цикл, в котором создается строка той же длины, но путем присоединения элементов списка. В конце программа тоже сообщает время, затраченное на эту операцию. На компьютере автора на создание 10 000 строк длиной 10 000 символов каждая ушло примерно 40 секунд, тогда как на выполнение той же задачи с помощью списков — всего 10 секунд. Таким образом, если в программе создается большое количество строк, использование списков позволит существенно ускорить ее работу.

В дальнейшем мы будем создавать строки в программах именно с помощью списковых методов.

Шифрование и дешифрование сообщения

Поскольку код шифрования и дешифрования почти одинаков, мы создадим две функции-обертки, encryptMessage() и decryptMessage(), которые будут вызывать функцию translateMessage(), содержащую сам код.

26. def encryptMessage(key, message):
27.     return translateMessage(key, message, 'encrypt')
28.
29.
30. def decryptMessage(key, message):
31.     return translateMessage(key, message, 'decrypt')

Функция translateMessage() создает зашифрованную (дешифрованную) строку символ за символом, сохраняя их в списке translated, содержимое которого может быть объединено, когда строка будет готова.

34. def translateMessage(key, message, mode):
35.     translated = [] # хранит зашифрованное/дешифрованное сообщение
36.
37.     keyIndex = 0
38.     key = key.upper()

Не забывайте о том, что шифр Виженера — это уже знакомый вам шифр Цезаря, за исключением того, что ключ, применяемый к букве, зависит от ее позиции в сообщении. Начальным значением переменной keyIndex, с помощью которой отслеживается текущий подключ, является 0, поскольку для шифрования/дешифрования первого символа сообщения используется буква key[0].

В программе предполагается, что ключ содержит только буквы в верхнем регистре. Чтобы гарантировать допустимость ключа, в строке 38 к строке ключа применяется метод upper().