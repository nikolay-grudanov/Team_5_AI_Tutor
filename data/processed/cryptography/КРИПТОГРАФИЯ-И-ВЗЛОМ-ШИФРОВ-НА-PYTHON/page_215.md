---
source_image: page_215.png
page_number: 215
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.69
tokens: 7546
characters: 2355
timestamp: 2025-12-24T08:51:24.248606
finish_reason: stop
---

True. (Вспомните, что оператор сравнения >= вычисляет булево выражение.) В противном случае переменная wordsMatch будет равна False.

Процентная доля буквенных символов в строке message вычисляется в строках 52–54 путем деления количества буквенных символов на общее количество символов в сообщении.

<table>
  <tr>
    <th>52.</th>
    <td>numLetters = len(removeNonLetters(message))</td>
  </tr>
  <tr>
    <th>53.</th>
    <td>messageLettersPercentage = float(numLetters) / len(message) * 100</td>
  </tr>
  <tr>
    <th>54.</th>
    <td>lettersMatch = messageLettersPercentage &gt;= letterPercentage</td>
  </tr>
</table>

Ранее в программе мы создали функцию removeNonLetters(), предназначенную для нахождения всех буквенных и пробельных символов в строке, поэтому нам достаточно вызвать ее. В строке 52 функция removeNonLetters(message) возвращает строку, содержащую только буквенные и пробельные символы из аргумента message. Передача этой строки функции len() позволяет получить общее количество буквенных и пробельных символов в строке message, которое мы сохраняем в виде целого числа в переменной numLetters.

Процентная доля букв определяется в строке 53 путем деления вещественной версии целого числа, сохраненного в переменной numLetters, на результат вызова len(message). Значение, возвращаемое функцией len(message), будет равно общему количеству символов в строке message. Как уже обсуждалось, функция float() нужна для того, чтобы гарантировать, что в строке 53 выполняется обычное, а не целочисленное деление, если модуль detectEnglish подключается к программе, которая выполняется под управлением Python 2.

В строке 54 проверяется, превышает ли процентная доля, хранящаяся в переменной messageLettersPercentage, значение параметра letterPercentage. Результатом вычисления этого выражения будет булево значение, которое сохраняется в переменной lettersMatch.

Мы хотим, чтобы функция isEnglish() возвращала значение True только в том случае, если обе переменные, wordsMatch и lettersMatch, равны True. В строке 55 эти значения комбинируются с помощью оператора and.

<table>
  <tr>
    <th>55.</th>
    <td>return wordsMatch and lettersMatch</td>
  </tr>
</table>

Если обе переменные равны True, то функция isEnglish() признает сообщение как текст на английском языке и возвращает True. В противном случае возвращается значение False.