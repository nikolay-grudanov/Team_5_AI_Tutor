---
source_image: page_116.png
page_number: 116
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.19
tokens: 7617
characters: 2213
timestamp: 2025-12-24T08:48:58.674401
finish_reason: stop
---

В результате такого вычитания значение translatedIndex может оказаться меньшим нуля, что потребует от нас обработать "заворачивание" строки, хранящейся в константе SYMBOLS, для определения позиции, соответствующей дешифрованному символу. Необходимость этой операции проверяется в строке 22, и если значение translatedIndex меньше нуля, то в строке 23 к нему прибавляется 66 (т.е. значение, возвращаемое вызовом len(SYMBOLS)).

Дешифрованный символ определяется выражением SYMBOLS[translatedIndex]. В строке 26 этот символ добавляется в конец строки, хранящейся в переменной translated.

<table>
  <tr>
    <th>25.</th>
    <td># Присоединить дешифрованный символ</td>
  </tr>
  <tr>
    <th>26.</th>
    <td>translated = translated + SYMBOLS[translatedIndex]</td>
  </tr>
  <tr>
    <th>27.</th>
    <td></td>
  </tr>
  <tr>
    <th>28.</th>
    <td>else:</td>
  </tr>
  <tr>
    <th>29.</th>
    <td># Присоединить символ без шифрования/дешифрования</td>
  </tr>
  <tr>
    <th>30.</th>
    <td>translated = translated + symbol</td>
  </tr>
</table>

В строке 30 символ, не найденный в символьном наборе SYMBOLS, добавляется в неизменном виде в конец строки, хранящейся в переменной translated.

Использование строкового форматирования для отображения ключа и дешифрованных сообщений

Несмотря на то что в строке 33 содержится лишь один вызов функции print(), эта функция будет выполняться множество раз, поскольку она вызывается на каждой итерации цикла for, создаваемого в строке 8.

<table>
  <tr>
    <th>32.</th>
    <td># Отобразить каждый возможный вариант расшифровки</td>
  </tr>
  <tr>
    <th>33.</th>
    <td>print('Key #%s: %s' % (key, translated))</td>
  </tr>
</table>

Аргументом функции print() является строковое значение, в котором используется строковое форматирование (интерполяция). Параметр %s служит для включения одной строки в другую. Первые символы %s в строке заменяются первым из значений, заключенных в круглые скобки в конце строки.

Введите следующие инструкции в интерактивной оболочке.

>>> 'Hello %s!' % ('world')
'Hello world!'
>>> 'Hello ' + 'world' + '!'
'Hello world!'
>>> 'The %s ate the %s that ate the %s.' % ('dog', 'cat', 'rat')
'The dog ate the cat that ate the rat.'