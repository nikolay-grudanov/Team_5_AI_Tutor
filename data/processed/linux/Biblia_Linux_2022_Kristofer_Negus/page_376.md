---
source_image: page_376.png
page_number: 376
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.21
tokens: 7680
characters: 2572
timestamp: 2025-12-24T04:55:55.122514
finish_reason: stop
---

и emerg) и разделяются точкой (. ). Так, параметр mail.info соответствует всем сообщениям из почтовой службы, которые относятся к уровню информации и выше.

Что касается того, куда отправляются сообщения, то большинство из них направляется в файлы в каталоге /var/log. Можно, однако, направить сообщения с другого устройства (например, устройства /dev/) либо с удаленного хоста (например, @loghost.example.com). Знак @ указывает, что это имя удаленного хоста.

По умолчанию журналы ведутся только для локальных файлов в каталоге /var/log. Однако, если раскомментировать строку kern.*, вы сможете легко направлять сообщения ядра всех уровней на экран консоли вашего компьютера.

Первая рабочая запись в предыдущем примере показывает, что сообщения уровня информации от всех служб (*) соответствуют этому правилу, за исключением сообщений от служб mail, authpriv и cron (которые исключаются со словом none). Все совпадающие сообщения направляются в файл /var/log/messages.

Службы mail, authpriv (сообщения аутентификации) и cron (сообщения функции cron) имеют собственные файлы журналов, перечисленные в столбцах справа от них. Чтобы вы могли понять, как работают эти и другие файлы журнала, далее описывается файл /var/log/messages.

Работа файла журнала сообщений

Из-за того, что множество программ и служб записывают информацию в файл журнала сообщений, важно понимать формат работы этого файла. Изучив его, вы заранее можете получить предупреждение о проблемах, возникших в системе. Каждая строка файла — это одно сообщение, записанное какой-либо программой или службой. Вот фрагмент фактического файла журнала сообщений messages:

Feb 25 11:04:32 toys network: Bringing up loopback: succeeded
Feb 25 11:04:35 toys network: Bringing up interface eth0: succeeded
Feb 25 13:01:14 toys vsftpd(pam_unix)[10565]: authentication failure;
    logname= uid=0 euid=0 tty= ruser= rhost=10.0.0.5 user=chris
Feb 25 14:44:24 toys su(pam_unix)[11439]: session opened for
    user root by chris(uid=500)

Формат сообщений по умолчанию в файле /var/log/messages разделен на пять основных частей. Он определяется следующей записью в файле /etc/rsyslog.conf:

module(load="builtin:omfile" Template="RSYSLOG_TraditionalFileFormat")

При просмотре сообщений в файлах из каталога /var/log слева направо части сообщений выглядят следующим образом:

● дата и время регистрации сообщения;
● имя компьютера, с которого пришло сообщение;
● имя программы или службы, к которой относится сообщение;
● номер процесса (в квадратных скобках) программы, отправляющей сообщение;
● сам текст сообщения.