---
source_image: page_411.png
page_number: 411
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.05
tokens: 7607
characters: 2245
timestamp: 2025-12-24T04:56:52.514408
finish_reason: stop
---

файлов ifcfg и загрузив необходимый модуль. Вы можете начать с одного файла объединения (например, ifcfg-bond0), а затем добавить еще несколько файлов ifcfg-eth?. Затем загрузите модуль объединения.

В зависимости от типа объединения можете установить различные режимы своего интерфейса объединения. Используя переменную BONDING_OPTS, выберите режим и другие параметры объединения (все они передаются в модуль объединения). Можете прочитать о модуле объединения, введя команду modinfo bonding или установив пакет kernel-doc и изучив файл bonding.txt из каталога /usr/share/doc/kernel-doc*/Documentation/networking/.

Далее приведен пример файла, который определяет интерфейс объединения. Файл здесь — это etc/sysconfig/network-scripts/ifcfg-bond0:

DEVICE=bond0
ONBOOT=yes
IPADDR=192.168.0.50
NETMASK=255.255.255.0
BOOTPROTO=none
BONDING_OPTS="mode=active-backup"

Интерфейс bond0 в этом примере использует IP-адрес 192.168.0.50. Запускается при загрузке системы. Параметр Bonding_opts устанавливает режим активного резервного копирования в файл объединения. Это означает, что одновременно активна только одна карта сетевого интерфейса, а следующая карта вступает в действие только при сбое предыдущей (реализована функция отказоустойчивости). С интерфейсом bond0 еще не связана ни одна карта сетевого интерфейса. Для этого необходимо добавить отдельные параметры для файла ifcfg. Например, создайте файл /etc/sysconfig/network-scripts/ifcfg-eth0, который выглядит как в примере далее, а затем — eth1, eth2, eth3 и т. д. для карты сетевого интерфейса, которую нужно добавить в интерфейс объединения:

DEVICE=eth0
MASTER=bond0
SLAVE=yes
BOOTPROTO=none
ONBOOT=yes

При использовании интерфейса eth0 в качестве части интерфейса bond0 IP-адрес не назначается. Это происходит потому, что интерфейс eth0 применяет IP-адрес из интерфейса bond0, определяя себя подчиненным (SLAVE=yes) для bond0 (MASTER=bond0).

В конце нужно убедиться, что интерфейс bond0 задействует модель объединения. Для этого создайте файл /etc/modprobe.d/bonding.conf, который содержит следующую строку:

alias bond0 bonding

Поскольку все интерфейсы настроены на параметр ONBOOT=yes, запускается интерфейс bond0 и все интерфейсы становятся eth?-доступными по мере необходимости.