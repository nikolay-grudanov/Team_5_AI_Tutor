---
source_image: page_184.png
page_number: 184
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.75
tokens: 7628
characters: 2523
timestamp: 2025-12-24T04:50:12.531757
finish_reason: stop
---

Снова запустив команду top, можно заметить, что команда updatedb теперь находится в верхней части списка процессов, потребляющих ЦП, благодаря установленному приоритету.

Ограничения для процессов с помощью cgroups

Используйте функцию установки приоритета, чтобы дать одному процессу больший или меньший доступ к процессорному времени. Однако значение приоритета процесса не применяется к его дочерним процессам или любым другим связанным процессам. Другими словами, приоритет не ограничивает общее количество ресурсов, которые конкретный пользователь или приложение может потреблять из системы Linux.

По мере развития облачных вычислений многие системы Linux будут работать скорее как гипервизоры, чем как компьютеры общего пользования. Их память, вычислительная мощность и доступ к хранилищу станут широко задействоваться множеством обычных пользователей. В таком случае необходимо иметь больше возможностей для управления объемом системных ресурсов, к которым имеют доступ конкретный пользователь, приложение, конвейер или виртуальная машина в системе Linux.

Вот тут-то и появляются контрольные группы механизма cgroups.

Данный механизм используется для идентификации процесса как задачи, принадлежащей определенной контрольной группе. Задачи могут быть выстроены в соответствии с иерархией, вверху которой может находиться, например, задача-демон, устанавливающая ограничения по умолчанию для всех процессов сервера демонов, а ниже — подзадачи, которые задают определенные ограничения для демона веб-сервера (httpd) и демона службы FTP (vsftpd).

Поскольку задача запускает процесс, то процессы, начатые начальным процессом (их называют дочерними), имеют те же ограничения, что и родительский процесс. Ограничиваться может доступ к определенным процессорам или определенным наборам оперативной памяти. Можно также ограничить доступ к 30 % общей вычислительной мощности.

Типы ресурсов, которые могут быть ограничены механизмом cgroups, таковы.

• Устройства (blkio) — устанавливает лимиты на доступ к запоминающим устройствам (жестким дискам, USB-накопителям и т. д.).
• Процессор (cpu) — обеспечивает доступ процессов в рамках контрольной группы к CPU.
• Учет процессов (cruacct) — генерирует отчеты об использовании ресурсов процессора. С помощью данной информации можно рассчитать, сколько клиенты должны будут заплатить за объем задействуемой ими вычислительной мощности.
• Распределение процессоров (cpuset) — при наличии нескольких процессорных ядер распределяет между ними задачи в рамках контрольной группы.