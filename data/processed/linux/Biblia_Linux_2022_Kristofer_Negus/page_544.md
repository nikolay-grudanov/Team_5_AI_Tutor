---
source_image: page_544.png
page_number: 544
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.50
tokens: 7624
characters: 2435
timestamp: 2025-12-24T05:00:38.789484
finish_reason: stop
---

Допустимые пользователи также идентифицируются доменом или рабочей группой (%D), разделителем winbind (%w) и именем текущей службы (%S).

Параметр browseable = No запрещает серверу Samba отображать доступные общие домашние каталоги. Пользователи, которые могут предоставить собственные имена пользователей и пароли Samba, могут читать и писать в своих домашних каталогах (read only = no). Если для параметра inherit acls установлено значение Yes, списки контроля доступа можно наследовать, чтобы добавить еще один уровень безопасности к общим файлам.

Если после запуска службы smb вы не можете войти в систему с помощью действительной учетной записи пользователя, необходимо изменить некоторые функции безопасности в системе. В частности, в системах Fedora и RHEL нужно изменить функции SELinux, чтобы пользователи могли получить доступ к своим домашним каталогам, если система SELinux находится в принудительном режиме.

Например, если вы попытаетесь применить команду smbclient для входа в свой домашний каталог, то войдете успешно, но при попытке перечислить содержимое домашнего каталога появится следующее сообщение:

NT_STATUS_ACCESS_DENIED listing \*

Чтобы настроить SELinux и разрешить пользователям Samba доступ к своим домашним каталогам в качестве общих ресурсов Samba, включите логический тип samba_enable_home_dirs, введя следующее как суперпользователь из оболочки:

# setsebool -P samba_enable_home_dirs on

Команда setsebool разрешает совместное применение домашних каталогов (что по умолчанию отключено). Сначала создайте пароль для пользователя с помощью команды smbpasswd, а затем войдите в систему посредством команды smbclient. Команда smbclient для проверки доступа к домашнему каталогу пользователя chris будет выглядеть так (замените IP-адреса именем или адресом вашего сервера Samba):

$ smbpasswd -a chris
New SMB password: **********
Retype new SMB password: **********
Added user chris.

$ smbclient -U chris //192.168.0.119/chris

Enter SAMBA\chris's password:
Try "help" to get a list of possible commands.
smb: \> ls file.txt
    file.txt 149946368   Sun Jan  4 09:28:53 2020
        39941 blocks of size 524288. 28191 blocks available
smb:\> quit

Главное, что нужно помнить: даже если общий ресурс недоступен для просмотра, вы можете запросить его, указав имя хоста или IP-адрес сервера Samba, а затем имя пользователя (в данном случае chris), чтобы получить доступ к домашнему каталогу пользователя.