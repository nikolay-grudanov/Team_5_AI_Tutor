---
source_image: page_412.png
page_number: 412
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.06
tokens: 7747
characters: 2361
timestamp: 2025-12-24T04:57:05.569704
finish_reason: stop
---

Настройка пользовательских маршрутов

При простой настройке сети сообщения, предназначенные для локальной сети, направляются на соответствующий интерфейс в ней, а сообщения для хостов вне локальной сети — на шлюз по умолчанию для отправки на удаленные хосты. В качестве альтернативы можно настроить пользовательские маршруты, чтобы обеспечить дополнительные пути к определенным сетям.

Чтобы задать пользовательский маршрут в системах Fedora и RHEL, нужно создать файл конфигурации в каталоге /etc/sysconfig/network-scripts. Для маршрута необходимо определить:

● переменную шлюза GATEWAY?. Установите IP-адрес узла в локальной сети, который обеспечивает маршрут к подсети, представленной статическим маршрутом;
● переменную адресов ADDRESS?. Установите IP-адрес, представляющий сеть, до которой можно добраться по статическому маршруту;
● переменную маски сети NETMASK?. Установите маску сети, которая определяет, какая часть переменной ADDRESS? является сетью, и представляет хосты в ней.

Имя файла каждого пользовательского маршрута начинается с route-interface. Например, маршрут через интерфейс eth0 будет называться route-eth0. У вас может быть несколько пользовательских маршрутов в этом файле, причем каждая запись маршрута заменит вопросительный знак (?) номером интерфейса:

ADDRESS0=192.168.99.0
NETMASK0=255.255.255.0
GATEWAY0=192.168.0.5

В примере любой пакет, предназначенный для хоста в сети 192.168.99, будет отправлен через локальный интерфейс eth0 и направлен на узел шлюза 192.168.0.5. Предположительно, этот узел обеспечит маршрут к другой сети, содержащей хосты в диапазоне адресов 192.168.99. Данный маршрут вступит в силу после перезапуска сетевого интерфейса eth0. Чтобы проверить, работает ли маршрут после перезагрузки сетевого интерфейса, введите следующее:

# route
Kernel IP routing table
Destination Gateway      Genmask         Flags Metric Ref Use Iface
default     192.168.0.1   0.0.0.0         UG    0      0   0   eth0
192.168.0.0 *             255.255.255.0   U     1      0   0   eth0
192.168.99.0 192.168.0.5   255.255.255.0   UG    0      0   0   eth0

Выходные данные команды route -n показывают, что маршрут по умолчанию (все, что не предназначено для локальной сети 192.168.0 или сети 192.168.99) проходит через адрес 192.168.0.1. Любые пакеты, предназначенные для сети 192.168.99, направляются по адресу 192.168.0.5.