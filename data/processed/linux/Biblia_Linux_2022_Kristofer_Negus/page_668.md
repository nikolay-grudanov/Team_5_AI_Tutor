---
source_image: page_668.png
page_number: 668
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.66
tokens: 7506
characters: 1809
timestamp: 2025-12-24T05:04:07.294040
finish_reason: stop
---

gpg: CAST5 encrypted data
gpg: encrypted with 1 passphrase
...

В результате исходный файл tar расшифровывается и копируется в файл /tmp/backup.tar.gz. Если в системе работает демон gpg-agent, то парольная фраза кэшируется, чтобы файл можно было расшифровать, не вводя ее снова.

Криптография с симметричным ключом довольно проста и понятна. Асимметричная криптография гораздо сложнее, и при ее реализации часто совершают ошибки.

Криптография с асимметричным ключом. Асимметричная криптография, также называемая криптографией с закрытым/открытым ключом, использует два ключа, называемых парой ключей. Пара ключей состоит из открытого и закрытого ключей. Открытый ключ именно открытый. Нет никакой необходимости держать его в секрете. А вот секретный ключ раскрывать никому нельзя.

Суть криптографии с асимметричным ключом показана на рис. 23.2. Обычный текстовый файл шифруется с помощью открытого ключа из пары ключей. Затем зашифрованный файл может быть передан другому человеку. Для его расшифровки используется закрытый ключ. Он тоже должен быть из пары открытого/закрытого ключей. Таким образом, данные, зашифрованные с помощью открытого ключа, могут быть расшифрованы только с помощью соответствующего закрытого ключа. Преимуществом асимметричной криптографии является повышенная безопасность, недостатком — скорость и управление ключами.

Открытый ключ
Закрытый ключ
Незашифрованный файл
Зашифрованный файл
Зашифрованный файл
Незашифрованный файл

Рис. 23.2. Базовая криптография с асимметричным ключом

Создание пары ключей. Асимметричное шифрование в системе Linux осуществляется с помощью утилиты gpg2. Это универсальная утилита криптографии. Прежде чем зашифровать файл, вы должны создать пару ключей и связку ключей. В примере далее была применена команда gpg2 --gen-key. Она создает пару из от-