---
source_image: page_167.png
page_number: 167
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.25
tokens: 7595
characters: 2223
timestamp: 2025-12-24T04:49:44.611213
finish_reason: stop
---

● При поиске можно назначить несколько требований. Например, файл должен принадлежать пользователю joe и быть более 1 Мбайт:

$ find /var/allusers/ -user joe -and -size +1M -ls
679977 1812 -rw-r--r-- 1 joe root 1854379 Dec 31 13:09
    /var/allusers/dict.dat

Поиск файлов и выполнение команд

Одна из самых мощных функций команды find — возможность выполнять команды для любых найденных файлов. С параметром -exes используемая команда выполняется для каждого выявленного файла без запроса. С параметром -ok команда останавливается на каждом совпадении и спрашивает, нужно ли выполнить команду для этого файла.

Преимущество параметра -ok заключается в возможности убедиться в том, что пользователь подтверждает любое действие для каждого файла по отдельности. Синтаксис для параметров -exes и -ok один и тот же:

$ find [ параметры ] -exes команда {} \;
$ find [ параметры ] -ok команда {} \;

Можно запустить команду find с любым из параметров, -exes или -ok, чтобы найти нужные файлы. В этом случае вводится параметр -exes или -ok, за которым следует команда, которую нужно запустить для каждого файла. Фигурные скобки указывают, где в командной строке читать каждый найденный файл. Любой файл может быть включен в командную строку не один раз. Чтобы закончить строку, нужно добавить обратную косую черту и точку с запятой (\;). Вот несколько примеров.

● Эта команда ищет любой файл с именем passwd в каталоге /etc и включает это имя в выходные данные команды echo:

$ find /etc -iname passwd -exec echo "I found {}" \;
I found /etc/pam.d/passwd
I found /etc/passwd

● Такая команда находит каждый файл в каталоге /usr/share размером более 5 Мбайт. Затем перечисляет размеры всех файлов с помощью команды du. Дальше выходные данные find сортируются по размеру, от самого большого до самого маленького. При вводе параметра -exes все найденные записи обрабатываются без запроса:

$ find /usr/share -size +5M -exec du {} \; | sort -nr
116932 /usr/share/icons/HighContrast/icon-theme.cache
69048 /usr/share/icons/gnome/icon-theme.cache
20564 /usr/share/fonts/cjkuni-uming/uming.ttc

● Параметр -ok позволяет выбрать, будет ли каждый найденный файл обрабатываться с помощью введенной команды. Например, нужно найти все файлы