---
source_image: page_764.png
page_number: 764
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.52
tokens: 7707
characters: 2321
timestamp: 2025-12-24T05:06:51.831612
finish_reason: stop
---

3. Загрузите образ контейнера vsftpd. Создайте образ vsftpd, как описано в разделе «Создание образа контейнера» далее в этой главе. Чтобы проверить, можно ли его запустить, введите следующее:

# podman images
REPOSITORY    TAG    IMAGE ID    CREATED    SIZE
vsftpd        latest 487d0db26098 5 seconds ago 208 MB

4. Запустить образ контейнера vsftpd. При запуске контейнера vsftpd необходимо предоставить доступ к портам и монтировать файлы с хоста в контейнер. Вот пример (вы можете использовать команду docker вместо podman):

# podman run -d -p 20:20 -p 21:21 \
    -p 21100-21110:21100-21110 \
    -v /etc/vsftpd/:/etc/vsftpd/ \
    -v /var/ftp/pub:/var/ftp/pub \
    --name vsftpd vsftpd
# podman ps
CONTAINER ID    IMAGE    COMMAND    CREATED    STATUS    PORTS    NAMES
3a5d094dd4b5    vsftpd:latest    /usr/local/s2...    9 seconds ago    Up 10 seconds ago    0.0.0.0:20-21->20-21/tcp    vsftpd

В примере используются следующие параметры:

• -d — запускает контейнер отдельно, поэтому служба vsftpd работает в фоновом режиме;
• -p — стандартные FTP-порты (TCP 20 и TCP 21) сопоставляются с одинаковыми номерами портов на сетевых интерфейсах хоста, поэтому доступ к службе можно получить за пределами локального хоста. Ряд портов, необходимых для пассивного сервера FTP, также открыт для их аналогов на хосте (21100-21110);
• --rm — хотя этот параметр не входит в пример, при добавлении в командную строку он будет удалять контейнер при выходе из него;
• -v — чтобы использовать файлы конфигурации (каталог /etc/vsftpd) и содержимое, которым вы хотите поделиться (каталог /var/ftp) из хост-системы, эти каталоги привязываются к тем же местоположениям в контейнере с параметром -v;
• --name — установите имя контейнера vsftpd (или любое другое, которое вам нравится).

Имейте в виду, что можно привязать содержимое контейнера и порты к другим местам расположения на хосте. Таким образом вы получите несколько версий одного и того же программного обеспечения, работающих на одном хосте и не конфликтующих друг с другом.

Чтобы сделать свою службу vsftpd доступной за пределами локальной системы, обязательно откройте FTP-порты и пассивные FTP-порты, которые вы только что назначили, следующим образом:

# firewall-cmd --zone=public --add-service=ftp
# firewall-cmd --zone=public \
    --permanent --add-service=ftp