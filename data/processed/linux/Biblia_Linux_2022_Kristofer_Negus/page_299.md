---
source_image: page_299.png
page_number: 299
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.11
tokens: 7653
characters: 2607
timestamp: 2025-12-24T04:53:37.737933
finish_reason: stop
---

При создании учетной записи для sara команда useradd выполняет несколько действий.

● Считывает файлы /etc/login.defs и /etc/default/useradd, чтобы найти значения по умолчанию для использования при создании учетных записей.
● Проверяет параметры командной строки, чтобы узнать, какие значения по умолчанию следует переопределить.
● Создает новую запись пользователя в файлах /etc/passwd и /etc/shadow на основе значений по умолчанию и параметров командной строки.
● Создает все новые записи группы в файле /etc/group. (Fedora создает группу, используя имя нового пользователя.)
● Создает домашний каталог на основе имени пользователя в каталоге /home.
● Копирует все файлы, находящиеся в каталоге /etc/skel, в новый домашний каталог. Обычно это сценарии входа в систему и запуска приложений.

В предыдущем примере применены лишь несколько доступных параметров useradd. Большинство параметров учетной записи назначаются с использованием значений по умолчанию. При желании можно установить свои значения параметров.

Вот пример с несколькими вариантами:

# useradd -g users -G wheel,apache -s /bin/tcsh -c "Sara Green" sara

В этом случае useradd получает указание сделать users основной группой, к которой принадлежит sara (-g), добавляет ее в группы wheel и apache и назначает tcsh в качестве ее основной командной оболочки (-s). По умолчанию создается домашний каталог в /home под именем пользователя (/home/sara). Эта командная строка приводит к тому, что в файл /etc/passwd добавляется следующая строка:

sara:x:1002:1007:Sara Green:/home/sara:/bin/tcsh

Каждая строка в файле /etc/passwd представляет собой одну учетную запись пользователя. Каждое поле отделяется от следующего двоеточием (:). Положение поля в строке определяет его значение. Как видно в примере, первым идет имя пользователя. В поле с паролем содержится элемент x, поскольку здесь файл пароля shadow применяется для хранения зашифрованного пароля (в файле /etc/shadow).

Идентификатор (ID) пользователя выбран автоматически и равен 1002. Основной идентификатор группы — 1007, что соответствует частной группе в файле /etc/group. В поле комментария правильно введено полное имя пользователя Sara Green, домашний каталог был автоматически назначен как /home/sara, а командная оболочка — это /bin/tcsh, как и указано в параметрах useradd.

Многие параметры опускаются, как я сделал в первом примере с useradd, и в большинстве случаев значения устанавливаются по умолчанию. Например, если не использовать параметры -g sales или -G wheel, apache, имя группы будет назначено новому пользователю. Некоторые системы Linux (кроме Fedora и RHEL)