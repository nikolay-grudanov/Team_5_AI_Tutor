---
source_image: page_371.png
page_number: 371
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.20
tokens: 7619
characters: 2437
timestamp: 2025-12-24T04:55:43.922097
finish_reason: stop
---

Глава 13. Администрирование серверов

Интерактивное копирование с помощью команды sftp

Если вы не знаете точно, что хотите скопировать в удаленную систему или из нее, примените команду sftp для создания интерактивного сеанса в стиле FTP через службу SSH. С помощью команды sftp можно подключиться к удаленной системе через службу SSH, изменить каталоги, перечислить содержимое каталога, а затем (при наличии соответствующих прав) получить нужные файлы и поместить их на сервер. Имейте в виду, что, несмотря на свое название, команда sftp не имеет ничего общего с протоколом FTP и не использует FTP-серверы. Она просто применяет стиль взаимодействия FTP между клиентом и сервером sshd.

В следующем примере показано, как пользователь johndoe подключается к jd.example.com:

$ sftp johndoe@jd.example.com
Connecting to jd.example.com
johndoe@jd.example.com's password: ***************
sftp>

На этом этапе можно начать интерактивный сеанс FTP. Вы можете использовать команды get и put для файлов, как и для любого FTP-клиента, зная при этом, что соединение безопасно и зашифровано. Поскольку протокол FTP передает имена пользователей, пароли и данные в виде открытого текста, применение команды sftp через службу SSH (по возможности) — лучшая альтернатива для того, чтобы позволить пользователям копировать файлы в интерактивном режиме из системы.

Аутентификация на основе ключей (без пароля)

Если вы применяете инструменты SSH для подключения к одним и тем же системам в течение всего дня, то введение своего пароля снова и снова может быстро надоесть. Вместо аутентификации на основе пароля SSH позволяет настроить аутентификацию на основе ключа. Вот как это работает.

● Вы создаете открытый и закрытый ключи.
● Вы защищаете закрытый ключ, но копируете открытый ключ в учетную запись пользователя на удаленном узле, для которого хотите выполнить аутентификацию.
● Когда ключ скопирован в нужное место, вы с помощью любых инструментов SSH подключаетесь к учетной записи пользователя на удаленном узле. Вместо того чтобы запрашивать пароль, удаленная служба SSH сравнивает открытый и закрытый ключи и разрешает доступ, если они совпадают.

При создании ключа можно добавить к закрытому ключу кодовую фразу. Если вы решили сделать это, то, даже если для аутентификации в удаленной системе не нужен пароль, необходимо вводить кодовую фразу, чтобы разблокировать закрытый ключ. Если не добавлять фразу, то подключаться можно с помощью пар