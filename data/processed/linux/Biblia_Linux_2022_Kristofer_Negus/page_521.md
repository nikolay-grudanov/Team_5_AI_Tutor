---
source_image: page_521.png
page_number: 521
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.58
tokens: 7629
characters: 2666
timestamp: 2025-12-24T05:00:06.125799
finish_reason: stop
---

С учетной записью пользователя, установленной с /sbin/nologin в качестве оболочки по умолчанию, любые попытки войти в систему с консоли или через ssh в качестве учетной записи пользователя bill будут отклонены. Однако до тех пор, пока у пользователя bill есть пароль и включен доступ локальной учетной записи к FTP-серверу, он сможет войти на сервер через FTP-клиент.

Не каждый пользователь с учетной записью в системе Linux имеет доступ к FTP-серверу. Параметр userlist_enable=YES в файле vsftpd.conf сообщает об отказе в доступе к FTP-серверу всем учетным записям, перечисленным в файле /etc/vsftpd/user_list. В этот список входят административные пользователи root, bin, daemon, adm, lp и др. Можете добавить в этот список других пользователей, которым хотели бы запретить доступ.

Если вы измените параметр userlist_enable на значение NO, то файл user_list станет списком только тех пользователей, которые имеют доступ к серверу. Другими словами, установка значения параметру userlist_enable=NO, удаление всех имен пользователей из файла user_list и добавление имен пользователей chris, joe и mary1 в этот файл приводят к тому, что сервер разрешает только этим трем пользователям входить на него.

Независимо от того, как задано значение userlist_enable, файл /etc/vsftpd/ftpusers всегда включает в себя пользователей, которым отказано в доступе к серверу. Как и файл userlist_enable, файл ftpusers содержит список пользователей. Вы можете добавить в него пользователей, если хотите, чтобы им было отказано в доступе по FTP.

Один из способов ограничить доступ в систему пользователям с обычными учетными записями — это применить настройки команды chroot. Примеры некоторых параметров chroot:

chroot_local_user=YES
chroot_list_enable=YES
chroot_list_file=/etc/vsftpd/chroot_list

С помощью этих настроек вы можете создать список локальных пользователей и добавить их в файл /etc/vsftpd/chroot_list. После того как один из этих пользователей войдет в систему, ему будет запрещено переходить в те места в ней, которые находятся за пределами структуры его домашнего каталога.

Если загрузка на FTP-сервер разрешена, каталоги, в которые пользователь хочет загрузить данные, должны быть доступны для записи этим пользователем. Однако загруженные файлы могут храниться под именем пользователя, отличным от имени пользователя, загрузившего файл. Это одна из функций, которая будет описана далее, в пункте «Права на загрузку».

Права на загрузку

Чтобы разрешить любую форму записи на сервер vsftpd, необходимо установить параметр write_enable=YES в файле vsftpd.conf (по умолчанию установлен). Поэтому, если включены локальные учетные записи, пользователи могут войти