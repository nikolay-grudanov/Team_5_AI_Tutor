---
source_image: page_639.png
page_number: 639
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.03
tokens: 7695
characters: 2178
timestamp: 2025-12-24T05:03:24.544795
finish_reason: stop
---

Такие команды, как passwd и sudo, предназначены для применения в качестве SUID-программ. Несмотря на то что они выполняются от имени суперпользователя, как обычный пользователь вы можете изменить собственный пароль только с помощью команды passwd и перейти к правам суперпользователя только с помощью команды sudo, если вам были даны соответствующие права в файле /etc/sudoers. Наиболее опасно, если хакер применяет команду SUID bash: любой, кто запускает ее, может изменить все в системе, имеющей корневой доступ.

С помощью команды find вы можете выполнить поиск в своей системе, чтобы увидеть скрытые или иным образом выделяющиеся команды SUID и SGID, например:

# find / -perm /6000 -ls
4597316 52 -rwxr-sr-x 1 root games 51952 Dec 21 2013 /usr/bin/atc
4589119 20 -rwxr-sr-x 1 root tty 19552 Nov 18 2013 /usr/bin/write
4587931 60 -rwsr-xr-x 1 root root 57888 Aug 2 2013 /usr/bin/at
4588045 60 -rwsr-xr-x 1 root root 57536 Sep 25 2013 /usr/bin/crontab
4588961 32 -rwsr-xr-x 1 root root 32024 Nov 18 2013 /usr/bin/su
...
5767487 85 -rwsrwsr-x 1 root root 68928 Sep 13 11:52 /var/.bin/myvi
...

Обратите внимание на то, что команда find раскрывает команды SUID и SGID, которые обычные пользователи могут запускать для добавления дополнительных прав по определенным причинам. В этом примере также есть файл, который пользователь пытался скрыть (myvi). Это копия команды vi, которая из-за разрешений и права собственности может изменять файлы, принадлежащие суперпользователю. И это, очевидно, то, что пользователь не должен делать.

Защита файлов с паролями

Файл /etc/passwd — это файл, который система Linux применяет для проверки информации об учетной записи пользователя и который мы рассмотрели ранее в этой главе. Файл /etc/passwd должен иметь следующие настройки прав:

● Owner: root;
● Group: root;
● Permissions: (644) Owner: rw- Group: r-- Other: r--.

В следующем примере показано, что у файла /etc/passwd имеются соответствующие настройки:

# ls -l /etc/passwd
-rw-r--r--. 1 root root 1644 Feb 2 02:30 /etc/passwd

Эти настройки необходимы для того, чтобы пользователи могли войти в систему и увидеть имена, связанные с ID пользователей и групп. Однако они не должны