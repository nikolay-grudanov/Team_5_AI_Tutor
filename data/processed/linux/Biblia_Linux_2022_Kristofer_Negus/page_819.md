---
source_image: page_819.png
page_number: 819
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.85
tokens: 7604
characters: 2488
timestamp: 2025-12-24T05:08:24.545756
finish_reason: stop
---

более свежая версия. Однако если вы задействуете переменную latest, то более новая версия пакета будет установлена, если он не обновлен.

Параметры позволяют добавлять информацию для изменения задачи. Например, с помощью модуля user при добавлении пользователя в систему можно определить его имя, пароль, идентификатор и оболочку.

Помимо настройки модулей выполнения, из файлов playbooks вы также можете запускать модули непосредственно из командной строки. Это позволяет действовать на хосте немедленно, без запуска всего файла playbook. Например, можно пропинговать набор хостов, чтобы убедиться, что они запущены, или проверить состояние службы. (См. подраздел «Запуск ad-hoc-команд в системе Ansible» далее в этой главе для получения дополнительной информации.)

Чтобы узнать больше о конкретном модуле, перейдите на сайт Ansible (выберите раздел Modules на странице docs.ansible.compage) или используйте команду ansible-doc. Например, чтобы прочитать о том, как применить модуль copy для копирования файлов в удаленное место, введите следующее:

# ansible-doc copy
> COPY (/usr/lib/python3.7/site-packages/ansible/modules/files/copy.py)
    The 'copy' module copies a file from the local or remote machine to a location on the remote machine...

Большинство модулей имеют возвращаемые значения и предоставляют информацию о результатах своих действий. Общие возвращаемые значения включают логические типы, указывающие, была ли задача не выполнена (failed), пропущена (skipped) или изменена (changed).

Роли, импорты и вложения

По мере роста вашей коллекции файлов playbooks вы можете захотеть разбить их на более мелкие части, которые можно включить в несколько файлов playbooks. Можете разделить большой файл playbook на отдельные многоразовые файлы, а затем добавить их в основной файл файлов playbooks, используя вложения и импорты, охватывающие больший функционал, чем задачи: модули, переменные и обработчики.

Дополнительные сведения о применении вложений, импортов и ролей есть в разделе Creating Reusable Playbooks на странице docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html.

Развертывание с помощью системы Ansible

Чтобы начать использовать Ansible, необходимо выполнить развертывание веб-службы на множестве хостов. В следующем примере показано, как после установки Ansible создать файлы inventories и playbooks, необходимые для развертывания этой службы. Затем мы рассмотрим, как применять ansible-playbook для фактического развертывания файла playbook.