---
source_image: page_158.png
page_number: 158
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.22
tokens: 7644
characters: 2319
timestamp: 2025-12-24T04:49:34.388207
finish_reason: stop
---

Выход из редактора vi

Чтобы завершить работу, используйте следующие команды для сохранения или выхода из файла:

• ZZ — сохраняет текущие изменения в файле и выходит из vi;
• :w — сохраняет текущий файл, можно продолжать редактирование;
• :wq — делает то же самое, что и ZZ;
• :q — выходит из текущего файла. Работает только в случае, если все изменения сохранены;
• :q! — завершает работу с текущим файлом, не сохраняя только что внесенные в него изменения.

СОВЕТ
Если вы удалили файл по ошибке, команда :q! — лучший способ выйти из редактора и отменить все изменения. Файл вернется к последней измененной версии. Поэтому, если вы просто сохранили его с помощью :w, все сделанные до этого момента изменения сохранились. Но, несмотря на то что файл сохранен, можно ввести и и отказаться от изменений (вплоть до начала всего редактирования), а затем сохранить снова.

Мы рассмотрели несколько команд редактирования в редакторе vi. В следующих разделах полезных команд будет еще больше. Однако для начала дам несколько советов, чтобы упростить для вас начало взаимодействия с vi.

• Esc. Помните, что клавиша Esc возвращает программу в командный режим. (Я видел, как люди тыкали в каждую клавишу, пытаясь выйти из файла.) Нажмите Esc, затем введите ZZ, и редактор вернется в командный режим, сохранит файл и завершит работу.
• u. Нажмите u, чтобы отменить предыдущее изменение. Продолжайте нажимать u, чтобы отменить и более ранние.
• Ctrl+R. Если вы отменили лишнее, используйте сочетание клавиш Ctrl+R, чтобы вернуть отмененное. По сути, эта команда отменяет отмену.
• Caps Lock. Постарайтесь случайно не нажать клавишу Caps Lock. Все, что вводится в vi, имеет другое значение при наборе прописных букв. Редактор не предупреждает о смене регистра, а в тексте начинают происходить не те действия.
• : !команда. Находясь в vi, вы можете запустить команду оболочки, набрав : ! после имени оболочки. Например, введите : !date, чтобы увидеть текущие дату и время, : !pwd, чтобы опознать текущий каталог, : !jobs, чтобы узнать о процессах, протекающих в фоновом режиме. Когда команда завершится, нажмите клавишу Enter — и вернетесь к редактированию файла. Этот метод можно использовать даже для запуска оболочки : !bash из vi. Выполните несколько команд в оболочке, а затем введите exit, чтобы вернуться в vi. (Я рекомендую