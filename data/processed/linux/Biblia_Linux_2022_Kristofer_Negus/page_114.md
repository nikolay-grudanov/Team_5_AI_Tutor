---
source_image: page_114.png
page_number: 114
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.47
tokens: 7792
characters: 2618
timestamp: 2025-12-24T04:48:26.949012
finish_reason: stop
---

Вместо того чтобы сразу запускать команду history, можно вызвать конкретную строку и отредактировать ее. Для этого используйте сочетания клавиш из табл. 3.4.

Таблица 3.4. Сочетания клавиш для работы с историей

<table>
  <tr>
    <th>Сочетание клавиш</th>
    <th>Название</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>Клавиши стрелок</td>
    <td>Шаг</td>
    <td>Нажимайте клавиши со стрелками ↑ и ↓, чтобы перемещаться по командным строкам в списке истории и добираться до нужной (Ctrl+P и Ctrl+N соответственно выполняют те же функции)</td>
  </tr>
  <tr>
    <td>Ctrl+R</td>
    <td>Обратный последовательный поиск</td>
    <td>Нажмите и удерживайте это сочетание клавиш и начните печатать, чтобы найти команду из истории bash</td>
  </tr>
  <tr>
    <td>Ctrl+S</td>
    <td>Последовательный поиск вперед</td>
    <td>Делает то же самое, но ищет по списку вперед (не всегда может сработать)</td>
  </tr>
  <tr>
    <td>Alt+P</td>
    <td>Обратный поиск</td>
    <td>Нажмите и введите строку для выполнения обратного поиска. После нажмите клавишу Enter, чтобы увидеть самую последнюю командную строку, содержащую эту строку</td>
  </tr>
  <tr>
    <td>Alt+N</td>
    <td>Поиск вперед</td>
    <td>Делает то же самое, но ищет по списку вперед (не всегда может сработать)</td>
  </tr>
</table>

Еще один способ работы со списком истории — использование команды fc. Введите fc, за которой следует номер строки в истории, и эта командная строка откроется в текстовом редакторе (в vi по умолчанию введите :wq для сохранения и выхода или :q! для выхода, если происходят ошибки в vi). Внесите нужные изменения. При выходе из редактора команда будет выполнена.
Можно также указать диапазон номеров строк (например, fc 100 105). Все команды открываются в текстовом редакторе, а затем выполняются одна за другой при выходе из редактора.
После закрытия интерпретатора список истории сохраняется в файле .bash_history в домашнем каталоге. По умолчанию в истории сохраняется до 1000 команд.

ПРИМЕЧАНИЕ
Некоторые суперпользователи отключают функцию истории, вызывая переменную HISTFILE в /dev/null или просто оставляя пустой переменную HISTSIZE. Таким образом предотвращается потенциальное использование информации о действиях суперпользователя. Если вы администратор с правами суперпользователя, вам может быть полезно отключить эту функцию по тем же причинам. Кроме того, так как история сохраняется при правильном выходе из интерпретатора, предотвратить сохранение можно, завершив процесс интерпретатора. Например, чтобы завершить оболочку с идентификатором процесса 1234, введите kill -9 1234 из любого интерпретатора.