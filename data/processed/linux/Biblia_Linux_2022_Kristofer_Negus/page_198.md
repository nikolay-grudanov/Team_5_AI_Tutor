---
source_image: page_198.png
page_number: 198
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.84
tokens: 7434
characters: 1813
timestamp: 2025-12-24T04:50:40.841226
finish_reason: stop
---

Существует также сокращенный метод проверки, полезный для простых однокомандных действий. В примере далее два конвейера (||) указывают, что если проверяемого каталога не существует (-d dirname), то нужно создать его (mkdir$$dirname):

# [ test ] || action
# Выполнить однокомандное действие, если тест неверен.
dirname="/tmp/testdir"
[ -d "$dirname" ] || mkdir "$dirname"

Вместо конвейеров можно использовать два амперсанда и проверить выражение. В следующем примере проверяется, содержит ли команда по крайней мере три аргумента командной строки:

# [ test ] && {action}
# Выполнить однокомандное действие, если тест верен.
[ $# -ge 3 ] && echo "There are at least 3 command line arguments."

Можно комбинировать операторы && и ||, чтобы ускорить проверку с помощью if...then...else. В следующем примере проверяется, существует ли уже каталог $dirname. Если да, появится сообщение о том, что каталог существует. Если нет, конструкция создаст его:

# dirname=mydirectory
[ -e $dirname ] && echo $dirname already exists || mkdir $dirname

Команда case
Часто используется и конструкция с командой case. Подобно оператору switch в языках программирования, он может заменить несколько операторов if. Далее приводится общая форма выражения case:

case "VAR" in
    Result1)
        { body };;
    Result2)
        { body };;
    *)
        { body } ;;
esac

Помимо прочего, можно использовать команду case, чтобы разобраться с резервными копиями. Следующее выражение проверяет первые три буквы текущего дня (case 'date+%a' in). Затем в зависимости от дня недели устанавливаются определенный каталог резервных копий (BACKUP) и носитель (TAPE):

# Значение VAR не обязательно должно быть переменной,
# оно также может быть выводом команды.
# Выполняйте действия в зависимости от дня недели
case `date +%a` in
    "Mon")