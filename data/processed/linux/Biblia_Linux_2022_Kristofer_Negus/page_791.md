---
source_image: page_791.png
page_number: 791
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.90
tokens: 7620
characters: 2238
timestamp: 2025-12-24T05:07:39.101509
finish_reason: stop
---

● совместное сетевое хранилище между гипервизорами;
● одни и те же сетевые интерфейсы, настроенные на каждом гипервизоре;
● совместимые процессоры между гипервизорами (набор гипервизоров имеет точно такое же оборудование);
● быстрое сетевое соединение между гипервизорами и хранилищем;
● те же или аналогичные версии программного обеспечения виртуализации на гипервизорах (мы использовали на обоих Fedora 30).

Если вся эта подготовка выполнена, сам процесс переноса потребует всего нескольких действий и можно будет начать работать.

Шаг 1. Идентифицировать другие гипервизоры

Предположим, что окно программы Virtual Machine Manager все еще работает на одном из ваших гипервизоров. Перейдите в него и выполните следующие действия, чтобы подключиться к другому гипервизору.

1. Подключитесь к гипервизору. Выберите File ▶ Add Connection (Файл ▶ Добавить соединение). Должно появиться окно Add Connection (Добавить соединение).
2. Добавьте соединение. Установите флажок Connect to Remote Host (Подключиться к удаленному хосту), выберите SSH в качестве метода подключения, примените имя суперпользователя и введите имя хоста другого гипервизора (например, host1.example.com). Когда вы нажмете кнопку Connect (Подключиться), нужно будет ввести пароль суперпользователя удаленного гипервизора и другую информацию. Обратите внимание на то, что может потребоваться установить пакет openssh-askpass, чтобы получить запрос на ввод пароля.

Запись о новом гипервизоре должна появиться в окне программы Virtual Machine Manager.

Шаг 2. Перенести запущенную виртуальную машину на другой гипервизор

Прежде чем переносить виртуальную машину на другой гипервизор, может потребоваться изменить правила брандмауэра. При наличии правил брандмауэра по умолчанию прямая миграция libvirt завершится неудачно. Случайный TCP-порт должен быть открыт, чтобы разрешить перенос. По умолчанию используется 49 152, но можно выбрать любой доступный незанятый порт. Туннельный перенос требует аутентификации по SSH-ключу.

Открыв программу Virtual Machine Manager, щелкните правой кнопкой мыши на любой запущенной в данный момент виртуальной машине и выберите пункт Migrate (Перенести). Откроется окно Migrate (Перенос) виртуальной машины, как показано на рис. 27.3.