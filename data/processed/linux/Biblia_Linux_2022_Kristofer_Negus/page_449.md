---
source_image: page_449.png
page_number: 449
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.14
tokens: 7508
characters: 2087
timestamp: 2025-12-24T04:58:07.434133
finish_reason: stop
---

Добавление новых служб к демону systemd

При добавлении новой или пользовательской службы systemd на сервер Linux необходимо выполнить три шага, чтобы передать управление службой демону systemd.

1. Создайте файл конфигурации для нового или пользовательского юнита службы.
2. Переместите скрипт новой или пользовательской службы в нужное место для управления демоном systemd.
3. Добавьте службу к параметру Wants целевого юнита, чтобы новая или пользовательская служба автоматически запускалась вместе с другими службами.

Шаг 1. Создайте файл конфигурации для нового или пользовательского юнита службы

Если вы изменяете файл конфигурации юнита службы, просто сделайте копию исходного файла юнита из файла /lib/systemd/system и добавьте все необходимые настройки.

Для новых файлов нужно создать файл конфигурации юнита службы с нуля. Рассмотрим базовый шаблон файла юнита службы. Как минимум вам понадобятся описание и параметры ExecStart для файла конфигурации юнита службы:

# cat My_New_Service.service
[Unit]
Description=My New Service
[Service]
ExecStart=/usr/bin/My_New_Service

Для получения дополнительной информации о настройке или создании нового файла конфигурации юнита и нужных параметров воспользуйтесь справочными страницами. В командной строке введите man systemd service, чтобы больше узнать о различных параметрах файла юнита службы.

Шаг 2. Переместите файл конфигурации юнита службы

Перед перемещением нового или измененного файла конфигурации службы необходимо знать, что существует два возможных места хранения таких файлов. То место, которое вы выберете, определяет, вступят ли настройки в силу и останутся ли они постоянными при обновлении программного обеспечения.

Поместите файл конфигурации юнита службы в одно из следующих двух мест.

● Файл /etc/systemd/system.
  ▪ Это место расположения применяется для хранения пользовательских файлов конфигурации юнитов службы.
  ▪ Здесь файлы не перезаписываются установкой или обновлениями программного обеспечения. Файлы используются системой, даже если в каталоге /lib/systemd/system есть файл с таким же именем.