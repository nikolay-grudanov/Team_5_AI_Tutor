---
source_image: page_205.png
page_number: 205
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.44
tokens: 7527
characters: 1960
timestamp: 2025-12-24T04:50:53.279110
finish_reason: stop
---

TAPE=/dev/rft0

# Rewind the tape device $TAPE
mt $TAPE rew
# Get a list of home directories
HOMES=`grep /home /etc/passwd | cut -f6 -d'::'`
# Back up the data in those directories
tar cvf $TAPE $HOMES
# Rewind and eject the tape.
Mt $TAPE rewoffl

Резюме

Скрипты оболочки дают возможность автоматизировать многие наиболее распространенные задачи системного администрирования. В этой главе мы рассмотрели общие команды и функции, которые можно применять в скриптах с оболочкой bash. Мы также рассмотрели конкретные примеры скриптов для создания резервных копий и других процессов.

В следующей главе мы перейдем от изучения пользовательских функций к изучению тем системного администрирования. Глава 8 описывает, как стать суперпользователем, а также как использовать административные команды, отслеживать файлы журналов и работать с файлами конфигурации.

Упражнения

Выполните данные упражнения, чтобы попробовать написать простые скрипты оболочки. Задачи подходят для систем Fedora или Red Hat Enterprise Linux (не-которые сработают и в других системах Linux). Если затрудняетесь с решением заданий, воспользуйтесь ответами к упражнениям, приведенными в приложении Б (хотя Linux позволяет решать задачи разными способами).

1. Создайте скрипт myownscript в каталоге $HOME/bin. Скрипт должен будет вывести информацию, которая выглядит следующим образом:

Сегодня Sat Jan 4 15:45:04 EST 2020.
Вы находитесь в каталоге /home/joe и ваш хост-адрес — это abc.example.com.

Конечно, у вас будут свои значения даты/времени, текущего рабочего каталога и имени хоста. Включите сюда комментарии о работе скрипта и укажите, что скрипт должен работать с оболочкой /bin/bash.

2. Создайте скрипт, который считывает из командной строки три позиционных параметра, присваивает их переменным с именами ONE, TWO и THREE и выводит эту информацию в следующем формате:

Существует X параметров, которые включают в себя параметр Y.
Первый — это А, второй — это В, третий — это С.