---
source_image: page_522.png
page_number: 522
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.80
tokens: 7628
characters: 2553
timestamp: 2025-12-24T05:00:06.454980
finish_reason: stop
---

в систему и сразу же начать загрузку файлов в свои домашние каталоги. Однако анонимные пользователи по умолчанию лишены возможности загружать файлы.

Чтобы разрешить анонимную загрузку с помощью службы vsftpd, необходимо добавить первый параметр из примера, приведенного далее, а также вторую строку кода (оба варианта можно подключить, раскомментировав их из файла vsftpd.conf). Первый параметр позволяет анонимным пользователям загружать файлы, второй — создавать каталоги:

anon_upload_enable=YES
anon_mkdir_write_enable=YES

Следующим шагом является создание каталога, в котором анонимные пользователи могут записывать файлы. Любой каталог в каталоге /var/ftp, имеющий права на запись для пользователя ftp, группы ftp или other, может быть записан анонимным пользователем. Чаще всего создается каталог загрузок с правами на запись. Далее приведены примеры команд, выполняемых на сервере:

# mkdir /var/ftp/uploads
# chown ftp:ftp /var/ftp/uploads
# chmod 775 /var/ftp/uploads

Если брандмауэр открыт и логические типы SELinux установлены правильно, анонимный пользователь может перейти в каталог загрузок и поместить в него файл из локальной системы пользователя. На сервере файл будет находиться в собственности пользователя ftp и группы ftp. Права, установленные в каталоге (775), позволят вам видеть загруженные файлы, но не изменять и не перезаписывать их.

Одна из причин, почему нужно разрешить анонимным пользователям загружать файлы на сервер, заключается в том, чтобы позволить людям, которых вы не знаете, сбрасывать файлы в вашу папку загрузок. Поскольку любой, кто может найти сервер, способен записывать файлы в этот каталог, для сервера должна быть какая-то форма безопасности. Нужно запретить анонимному пользователю видеть файлы, загруженные другими пользователями, а также принимать или удалять файлы, загруженные другими анонимными пользователями FTP. Одной из форм безопасности является функция chown FTP.

Установив следующие два значения, вы можете разрешить анонимную загрузку. В результате, когда анонимный пользователь загружает файл, последний сразу же присваивается другому пользователю. Далее приведен пример настроек chown, которые вы можете поместить в файл vsftpd.conf для использования со своим каталогом анонимной загрузки:

chown_uploads=YES
chown_username=joe

Если анонимный пользователь загрузит файл после перезапуска службы vsftpd с этими настройками, этот файл будет принадлежать пользователю Joe и группе ftp. Для владельца установлены права на чтение/запись, а для остальных права не установлены (rw-------).