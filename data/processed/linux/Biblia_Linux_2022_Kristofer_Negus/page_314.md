---
source_image: page_314.png
page_number: 314
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.95
tokens: 7621
characters: 2265
timestamp: 2025-12-24T04:54:09.680785
finish_reason: stop
---

6. Зайдите от имени пользователя mary (запустите команду su – mary). Как пользователь mary создайте файл в общем каталоге и рассмотрите права. При перечислении прав видно, что каталог является каталогом set GID, потому что нижний регистр для параметра s появляется там, где должно быть право на выполнение для группы (rwxrwsr-x):

# su - mary
[mary]$ touch /mnt/salestools/test.txt
[mary]$ ls -ld /mnt/salestools/ /mnt/salestools/test.txt
drwxrwsr-x. 2 root sales 4096 Jan 22 14:32 /mnt/salestools/
-rw-rw-r--. 1 mary sales 0 Jan 22 14:32 /mnt/salestools/test.txt

Как правило, файл, созданный mary, будет иметь назначенную ему группу mary. Но поскольку файл test.tx был создан в каталоге set group ID, файл присваивается группе sales. Теперь любой, кто принадлежит к группе sales, может читать или записывать этот файл, основываясь на правах группы.

Создание каталогов с ограниченным удалением (бит sticky)

Каталог с ограниченным удалением создается после включения функции бит sticky. Чем каталог с ограниченным удалением отличается от других каталогов? Обычно, если для пользователя открыто право на запись в файле или каталоге, он может удалить этот файл или каталог. Однако вы не сможете удалить файлы другого пользователя в каталоге с ограниченным удалением, если не являетесь суперпользователем или владельцем каталога.

Как правило, каталог с ограниченным удалением используется там, где множество различных пользователей могут создавать файлы. Например, каталог /tmp — это каталог с ограниченным удалением:

$ ls -ld /tmp
drwxrwxrwt . 116 root root 36864 Jan 22 14:18 /tmp

Видно, что права открыты, но вместо x для бита execute для other устанавливается бит sticky. Далее приведен пример создания каталога с ограниченным удалением с файлом, который открыт для записи любым пользователем:

[mary]$ mkdir /tmp/mystuff
[mary]$ chmod 1777 /tmp/mystuff
[mary]$ cp /etc/services /tmp/mystuff/
[mary]$ chmod 666 /tmp/mystuff/services
[mary]$ ls -ld /tmp/mystuff /tmp/mystuff/services
drwxrwxrwt. 2 mary mary 4096 Jan 22 15:28 /tmp/mystuff/
-rw-rw-rw-. 1 mary mary 640999 Jan 22 15:28 /tmp/mystuff/services

Имея значение прав 1777 в каталоге /tmp/mystuff, вы можете видеть, что все права доступны, но вместо последнего бита выполнения появляется t. Если в файл