---
source_image: page_817.png
page_number: 817
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.37
tokens: 7524
characters: 2255
timestamp: 2025-12-24T05:08:17.086129
finish_reason: stop
---

Глава 29. Автоматизация с помощью системы Ansible

Элементы системы Ansible

Действие запущенных файлов playbooks распространяется на одну или несколько целевых хост-систем (представлены файлами inventories), они выполняют элементы, называемые plays. Каждый такой элемент содержит одну или несколько задач. Для выполнения задачи элемент вызывает модули, которые выполняются в том порядке, в котором установлены. Перед использованием Ansible необходимо изучить компоненты системы.

Файлы inventories

Собирая хост-системы (узлы), которыми вы хотите управлять в так называемых файлах inventories, вы можете управлять машинами, отчасти похожими на группы. Сходство заключается в следующем:

● они расположены в аналогичных местах;
● предоставляют такие же услуги;
● назначаются конкретному этапу процесса, например разработке, тестированию, постановке и производству.

Вхождение хостов более чем в одну группу позволяет воздействовать на них с помощью различных типов атрибутов. Например, host01 может находиться как в группе newyork (ее местоположение), так и в группе ftp (приложение, которое она предоставляет). Задачи, выполняемые в этих группах inventory, могут позволить каждому хосту получать сетевые настройки в зависимости от его местоположения и приложений, которые он запускает, то есть в зависимости от его назначения.

Существует множество способов создания файлов inventories. Вы можете установить линию статических серверов или создать ряд систем. А можете использовать динамические списки серверов от облачных провайдеров, таких как Azure, AWS и GCP.

Задействуя переменные, вы можете назначить атрибуты набору узлов в файле inventory. Эти переменные могут настраивать такие функции, как порт, с которого служба доступна с хоста, значение тайм-аута для службы или местоположение службы, используемой хостом (например, база данных для сервера протокола сетевого времени).

Подобно файлам playbooks, файлы inventory могут быть простыми текстовыми файлами, а также реализоваться из скрипта inventories.

Файлы playbooks

Файлы playbooks создаются в формате YAML и описывают конечное состояние чего-либо. Такое состояние может привести к установке программного обеспечения, настройке приложений или запуску служб. Этот формат может фокусироваться