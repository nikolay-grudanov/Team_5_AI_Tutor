---
source_image: page_631.png
page_number: 631
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.75
tokens: 7561
characters: 2050
timestamp: 2025-12-24T05:03:05.706273
finish_reason: stop
---

Далее показано, как настроить переменную оболочки TODAY:

# TODAY=$(echo $((($(date --utc --date "$1" +%s)/86400)))
# echo $TODAY
16373

Затем учетные записи и даты их истечения извлекаются из файла /etc/shadow с помощью команды gawk. Команда gawk — это версия программы GNU, используемая в UNIX. Вывод команды показан в следующем примере. Как и следовало ожидать, многие учетные записи не имеют срока действия. Однако две записи, Consultant и Intern, показывают дату истечения срока действия в формате «дней с 1 января 1970 года». Обратите внимание на то, что этот шаг вы можете пропустить. Он служит лишь для демонстрации.

# gawk -F: '{print $1,$8}' /etc/shadow
...
chrony
tcpdump
johndoe
Consultant 13819
Intern 13911

Параметры $1 и $8 в команде gawk представляют поля имени пользователя и даты истечения срока действия в записях файла /etc/shadow. Чтобы проверить даты истечения срока действия этих учетных записей, необходима усовершенствованная версия команды gawk:

# gawk -F: '{if (($8 > 0) && ($TODAY > $8)) print $1}' /etc/shadow
Consultant
Intern

После команды gawk ($8 > 0) отображаются только записи с истекшим сроком действия. Чтобы убедиться, что эти даты миновали, переменная TODAY сравнивается с полем даты $8. Если TODAY больше, чем дата истечения срока действия учетной записи, она появится в списке. Как видно в предыдущем примере, в системе есть две просроченные учетные записи, которые необходимо удалить.

Это все, что нужно сделать. Настройте переменную TODAY и выполните команду gawk. Все просроченные учетные записи в файле /etc/shadow будут перечислены. Чтобы удалить их, примените команду userdel.

Учетные записи пользователей — это только часть процесса аутентификации, позволяющего им входить в систему Linux. Пароли учетных записей пользователей также играют важную роль.

Защита паролей

Пароли — это основной инструмент безопасности любой современной операционной системы, и, следовательно, их атакуют чаще всего. Естественно, пользователи хотят установить пароль, который легко запомнить, но его легко и угадать.