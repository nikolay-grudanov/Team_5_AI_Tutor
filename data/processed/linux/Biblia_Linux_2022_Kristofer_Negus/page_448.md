---
source_image: page_448.png
page_number: 448
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.77
tokens: 7516
characters: 1876
timestamp: 2025-12-24T04:58:04.461802
finish_reason: stop
---

можете изменить строку hkconfig в скрипте службы так, чтобы служба запускалась раньше (используйте меньшее число) или позже (взмите большее число) в списке скриптов службы.

Шаг 2. Добавьте скрипт службы в файл /etc/rc.d/init.d

После того как вы изменили или создали и протестировали файл скрипта службы, можете переместить его в нужное место — в файл /etc/rc.d/init.d:

# cp My_New_Service /etc/rc.d/init.d
# ls /etc/rc.d/init.d/My_New_Service
/etc/rc.d/init.d/My_New_Service

Шаг 3. Установите соответствующие права на скрипт

Скрипт должен иметь права на выполнение:

# chmod 755 /etc/rc.d/init.d/My_New_Service

Шаг 4. Добавьте службу в каталоги уровней выполнения

Последний шаг настраивает скрипты службы для запуска и остановки на разных уровнях выполнения и проверяет, работают ли они.

1. Чтобы добавить скрипт на основе строки chkconfig в скрипт службы, введите следующее:

# chkconfig --add My_New_Service
# ls /etc/rc?.d/*My_New_Service
/etc/rc0.d/K10My_New_Service   /etc/rc4.d/S25My_New_Service
/etc/rc1.d/K10My_New_Service   /etc/rc5.d/S25My_New_Service
/etc/rc2.d/S25My_New_Service   /etc/rc6.d/K10My_New_Service
/etc/rc3.d/S25My_New_Service

Как и в предыдущем примере (chkconfig: 2345 25 10), символические ссылки на скрипт устанавливают запуск службы в позиции 25 (S25) для уровней выполнения 2, 3, 4 и 5. Кроме того, ссылки останавливаются (или не запускаются) на уровнях выполнения 0, 1 и 6.

2. После того как вы создали символическую ссылку (ссылки), проверьте, что новая или измененная служба работает должным образом, прежде чем выполнять перезагрузку сервера.

# service My_New_Service start
Starting My_New_Service:      [ OK ]
# service My_New_Service stop

Когда все готово, новая или измененная служба запускается на каждом уровне запуска, выбранном в системе. Кроме того, вы можете запустить или остановить ее вручную с помощью команды service.