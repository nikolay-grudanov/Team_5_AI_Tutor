---
source_image: page_694.png
page_number: 694
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.60
tokens: 7413
characters: 1668
timestamp: 2025-12-24T05:04:42.115941
finish_reason: stop
---

В примере далее показаны текущие настройки файла system-auth. Сейчас одна запись вызывает модуль pam_cracklib PAM:

# cat /etc/pam.d/system-auth
#%PAM-1.0
# Generated by authselect on Mon Oct 21 19:24:36 2019
# Do not modify this file manually.
auth required pam_env.so
auth required pam_faidelay.so delay=2000000
auth sufficient pam_fprintd.so
...
auth sufficient pam_unix.so nullok try_first_pass
auth requisite pam_succeed_if.so uid >= 1000 quiet_success
auth required pam_deny.so
auth sufficient pam_sss.so forward_pass
auth required pam_deny.so
account required pam_unix.so
account sufficient pam_localuser.so
account sufficient pam_succeed_if.so uid < 1000 quiet
account [default=bad success=ok user_unknown=ignore] pam_sss.so
account required pam_permit.so
password requisite pam_cracklib.so try_first_pass retry=3

Запись pam_cracklib здесь использует ключевое слово retry. Для cracklib доступны следующие ключевые слова.

● debug. Заставляет модуль записывать информацию в системный журнал.
● authtok_type=XXX:
  ▪ по умолчанию используется New UNIX password: и Retype UNIX password: для запроса паролей;
  ▪ замените XXX нужным словом.
● retry=N:
  ▪ по умолчанию значение 1;
  ▪ запрашивает пользователя не более N раз, прежде чем вывести ошибку.
● difok=N:
  ▪ по умолчанию значение 5;
  ▪ количество символов в новом пароле, которое не должно повторяться в старом пароле;
  ▪ исключение 1: если половина символов в новом пароле отличаются от содержащихся в старом, то новый пароль принимается;
  ▪ исключение 2: см. кодовое слово difignore.
● difignore=N:
  ▪ по умолчанию значение 23;
  ▪ количество символов в пароле перед настройкой difok игнорируется.