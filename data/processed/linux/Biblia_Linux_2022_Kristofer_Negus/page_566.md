---
source_image: page_566.png
page_number: 566
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.34
tokens: 7722
characters: 2741
timestamp: 2025-12-24T05:01:21.866234
finish_reason: stop
---

предоставлен общий доступ к каталогам NFS, может получить доступ к любой другой учетной записи пользователя. Поэтому, если вы обмениваетесь домашними каталогами с правами на чтение/запись, суперпользователь на любом подключенному компьютере имеет полный доступ к содержимому этих домашних каталогов.

• Незашифрованные сообщения. Поскольку трафик NFS не зашифрован, любой, кто лазит по вашей сети, может видеть передаваемые данные.

• Сопоставление пользователей. По умолчанию права для общих ресурсов NFS отображаются по ID пользователя. Так, например, пользователь с UID 1000 на клиенте NFS имеет доступ к файлам, принадлежащим UID 1000 на сервере NFS. Это происходит независимо от применяемых имен пользователей.

• Открытая структура файловой системы. До версии NFS 3, если вы совместно задействовали каталог через службу NFS, вы раскрывали местоположение этого каталога в файловой системе сервера. (Другими словами, если вы поделились каталогом /var/stuff, клиенты будут знать его точное местоположение на вашем сервере.)

Это были плохие новости. Хорошей новостью является то, что большинство этих проблем решаются в версии NFS 4, но требуют дополнительных настроек. Интегрируя поддержку Kerberos, NFS 4 позволяет настраивать доступ пользователей, предоставляя каждому из них билет Kerberos. Однако для этого нужно настроить сервер Kerberos. Что касается предоставления доступа к общему расположению NFS, то с помощью NFS 4 вы можете привязать общие каталоги к каталогу /exports, поэтому, когда они станут общими, точное местоположение этих каталогов не будет раскрыто.

Посетите сайт help.ubuntu.com/community/NFSv4Howtofor, чтобы подробно узнать о функциях NFS 4 в дистрибутиве Ubuntu.

Что касается стандартных функций безопасности Linux, связанных с NFS, то брандмауэры iptables, TCP-оболочки и система SELinux играют определенную роль в обеспечении безопасности и предоставлении доступа к серверу NFS с удаленных клиентов. В частности, могут быть полезными функции брандмауэра, работающие с NFS, однако их настройка может оказаться особенно сложной. Эти функции безопасности описаны в следующих подразделах.

Настройка брандмауэра для NFS-сервера

Служба NFS полагается на несколько разных демонов, причем большинство из них прослушивают различные порты для доступа к службе. Для версии NFS 4, по умолчанию, используемой в системе Fedora, порты TCP и UDP 2049 (nfs) и 111 (rpcbind) должны быть открыты. Сервер должен открыть также порты TCP и UDP 20048 для команды show-mount, чтобы иметь возможность запрашивать доступные общие каталоги NFS из команды rpc.mountd на сервере.

Для RHEL 8, Fedora 30 и других систем, использующих службу firewalld, вы можете применить окно Firewall (Межсетевой экран) (yum install firewall-config),