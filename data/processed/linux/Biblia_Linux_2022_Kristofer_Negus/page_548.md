---
source_image: page_548.png
page_number: 548
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.59
tokens: 7715
characters: 2510
timestamp: 2025-12-24T05:00:58.268317
finish_reason: stop
---

Ограничение доступа к серверу Samba по сетевому интерфейсу

Чтобы ограничить доступ ко всем общим ресурсам, установите параметр global interfaces в файле smb.conf. Сервер Samba предназначен скорее для локального обмена файлами, чем для обмена по широким сетям. Если у компьютера есть сетевой интерфейс, подключенный к локальной сети, и интерфейс, подключенный к Интернету, то стоит открывать доступ только к локальной сети.

Чтобы установить, какие интерфейсы прослушивает сервер Samba, раскомментируйте строку interfaces из предыдущего примера в разделе [global] файла smb.conf. Затем добавьте имена интерфейсов или диапазоны IP-адресов тех компьютеров, которым вы хотите разрешить доступ к вашему компьютеру, например:

interfaces = lo 192.168.22.15/24

Такая строка интерфейсов позволяет получить доступ к службе Samba всем пользователям локальной системы (lo). Она также позволяет получить доступ к любым системам в сети 192.168.22. См. описание различных способов идентификации хостов и сетевых интерфейсов на справочной странице smb.conf.

Ограничение доступа к серверу Samba по хосту

Доступ хоста к серверу Samba может быть установлен для всей службы или для отдельных общих ресурсов.

Вот примеры строк hosts allow и hosts deny:

hosts allow = 192.168.22. EXCEPT 192.168.22.99
hosts allow = 192.168.5.0/255.255.255.0
hosts allow = .example.com market.example.net
hosts deny = evil.example.org 192.168.99.

Эти строки можно поместить в раздел [global] или в любой раздел общего каталога. Первый пример разрешает доступ к любому хосту в сети 192.168.22., за исключением 192.168.22.99. Обратите внимание на то, что в конце номера сети требуется точка. В примере с 192.168.5.0/255.255.255.0 используется нотация маски сети для идентификации 192.168.5 как набора разрешенных адресов.

В третьей строке примера кода любой хост из сети example.com разрешен, как и отдельный хост market.example.net. Пример hosts deny показывает, что вы можете применять одну и ту же форму для идентификации имен и IP-адресов, чтобы предотвратить доступ с определенных хостов.

Ограничение доступа пользователя к серверу Samba

Определенным пользователям и группам Samba можно разрешить доступ к части общих ресурсов Samba, идентифицировав их в файле smb.conf. Помимо гостевых пользователей, доступ которым можно разрешить или не разрешить, аутентификация пользователя по умолчанию для Samba требует добавления учетной записи пользователя Samba (Windows), которая сопоставляется с локальной учетной записью пользователя Linux.