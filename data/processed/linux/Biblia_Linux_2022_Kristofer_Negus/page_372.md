---
source_image: page_372.png
page_number: 372
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.77
tokens: 7725
characters: 2493
timestamp: 2025-12-24T04:55:48.797637
finish_reason: stop
---

открытых и закрытых ключей таким образом, чтобы полностью исключить использование пароля. Но если кому-то нужно получить доступ к вашему секретному ключу, он может действовать от вашего имени при любом соединении, которое требует этого ключа.

Далее приведен пример того, как локальный пользователь с именем chris может настроить аутентификацию на основе ключа для удаленного пользователя с именем johndoe по IP-адресу 10.140.67.23. Если у вас нет двух систем Linux, можете имитировать действие, применив две учетные записи пользователей в локальной системе. Сначала я вошел в систему как локальный пользователь по имени chris и набрал следующую команду, чтобы сгенерировать локальную пару открытых и закрытых ключей:

$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/chris/.ssh/id_rsa): ENTER
Enter passphrase (empty for no passphrase): ENTER
Enter same passphrase again: ENTER
Your identification has been saved in /home/chris/.ssh/id_rsa.
Your public key has been saved in /home/chris/.ssh/id_rsa.pub.
The key fingerprint is:
bf:06:f8:12:7f:f4:c3:0a:3a:01:7f:df:25:71:ec:1d chris@abc.example.com
The key's randomart image is:
...

Я принял ключ RSA, предлагаемый по умолчанию (ключи DSA также разрешены), и дважды нажал клавишу Enter, чтобы добавить пустую фразу-пароль, связанную с ключом. В результате закрытый ключ (id_rsa) и открытый ключ (id_rsa.pub) копируются в каталог .ssh на моем локальном домашнем каталоге. Далее я скопировал этот ключ удаленному пользователю, чтобы можно было применять аутентификацию на основе ключа каждый раз, когда я подключаюсь к этой учетной записи с помощью инструментов ssh:

$ ssh-copy-id -i ~/.ssh/id_rsa.pub johndoe@10.140.67.23
johndoe@10.140.67.23's password:
***************

При появлении приглашения командной строки я ввел пароль пользователя johndoe. После этого открытый ключ, принадлежащий пользователю chris, копируется в файл authorized_keys в ssh-каталоге johndoe в удаленной системе. Когда chris в следующий раз попытается подключиться к учетной записи johndoe, SSH-соединение будет аутентифицировано с помощью этих ключей. Поскольку к закрытому ключу не добавлялась кодовая фраза, снимать блокировку с него не нужно.

Войдите в систему с помощью команды ssh johndoe@10.140.67.23 и проверьте файл $HOME/.ssh/authorized_keys, чтобы убедиться, не добавлены ли дополнительные ненужные ключи:

[chris]$ ssh johndoe@10.140.67.23
Last login: Sun Apr 17 10:12:22 2016 from 10.140.67.22
[johndoe]$