---
source_image: page_117.png
page_number: 117
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.58
tokens: 7566
characters: 2167
timestamp: 2025-12-24T04:48:21.750288
finish_reason: stop
---

Расширение команд

С помощью подстановки команд можно получить выходные данные команды, которые интерпретирует оболочка, а не сама команда. В таком случае стандартный вывод одной команды может стать аргументом для другой. Две формы подстановки команд — это $(command) и `command` (обратные кавычки, а не одинарные).

Команда в этом случае может включать параметры, метасимволы и аргументы. Далее приведен пример использования подстановки команд:

$ vi $(find /home | grep xyzzy)

Здесь подстановка команд происходит до выполнения команды vi. Во-первых, команда find запускается в каталоге /home и выводит все файлы и каталоги, размещенные ниже в файловой системе. Выходные данные передаются команде grep, фильтрующей все файлы, за исключением тех, в имени которых есть строка xyzzy. Наконец, команда vi открывает все файлы для редактирования (по одному за раз), если их имена содержат xyzzy. (Если вы запускаете эту программу и незнакомы с vi, введите q!, чтобы выйти из файла.)

Этот пример полезен, если нужно отредактировать файл, у которого известно имя, но не местоположение. Локально вы можете найти и открыть каждый файл, расположенный в выбранном месте в файловой системе. (Другими словами, не используйте команду grep из корневого каталога файловой системы, иначе интерпретатор попытается отредактировать несколько тысяч файлов.)

Выполнение арифметических операций

Бывает, необходимо передать команде арифметические результаты. Существуют две формы для расширения арифметического выражения и передачи его в интерпретатор: $[выражение] и $(выражение), например:

$ echo "I am $[2020 - 1957] years old."
I am 63 years old.

Оболочка сначала интерпретирует арифметическое выражение (2020 - 1957), а затем передает эту информацию команде echo. Эта команда отображает текст с результатом вычислений (63).

Другой пример:

$ echo "There are $(ls | wc -w) files in this directory."
There are 14 files in this directory.

Здесь перечисляется содержимое текущего каталога (ls) и запускается команда подсчета слов для определения количества найденных файлов (wc -w). Полученное число (в данном случае 14) выводится вместе с остальной частью приведенного предложения.