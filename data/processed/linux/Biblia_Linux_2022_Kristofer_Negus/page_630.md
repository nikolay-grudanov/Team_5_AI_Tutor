---
source_image: page_630.png
page_number: 630
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.83
tokens: 7622
characters: 2366
timestamp: 2025-12-24T05:03:08.686588
finish_reason: stop
---

Как видно из примера, дата, когда истекает срок действия учетной записи пользователя tim, была успешно изменена на 1 января 2021 года.

СОВЕТ
Если вы не задействуете файл /etc/shadow для хранения паролей своей учетной записи, команда chage не сработает. Чаще всего файл /etc/shadow по умолчанию хранит информацию о пароле в большей части систем Linux.

Установите даты истечения срока действия учетной записи для всех временных сотрудников. Кроме того, просматривайте все даты истечения срока действия учетной записи в рамках мониторинга безопасности. Эти действия помогают устранить любые потенциальные лазейки в вашу систему Linux.

Удаление неиспользуемых учетных записей
Хранить просроченные учетные записи опасно для системы. После того как пользователь покинул организацию, лучше всего выполнить ряд шагов, чтобы удалить его учетную запись вместе с данными.
1. Найдите файлы в системе, принадлежащей учетной записи, с помощью команды find / -user username.
2. Установите срок действия учетной записи или отключите ее.
3. Сделайте резервную копию файлов.
4. Удалите файлы или передайте их новому владельцу.
5. Удалите учетную запись из системы.

Проблемы возникают, если не выполнить пункт 5 и истекшие или отключенные учетные записи сохраняются в системе. Злоумышленник, получивший доступ к вашей системе, может обновить учетную запись, а затем выдать себя за ее пользователя.
Чтобы найти эти учетные записи, выполните поиск в файле /etc/shadow. Дата, обозначающая срок действия учетной записи, находится в восьмом поле каждой записи. Удобно было бы применять формат даты, однако вместо этого в данном поле отображается дата истечения срока действия записи в виде количества дней, прошедших с 1 января 1970 года.
Используйте двухэтапный процесс автоматического поиска просроченных учетных записей в файле /etc/shadow. Во-первых, установите переменную оболочки (см. главу 7 «Простейшие скрипты оболочки») с сегодняшней датой в формате «дней с 1 января 1970 года». Затем с помощью команды gawk отформатируйте необходимую информацию из файла /etc/shadow.
Настройка переменной оболочки с текущей датой в виде числа дней, прошедших с 1 января 1970 года, не представляет особой сложности. Команда date может выдавать количество секунд с 1 января 1970 года. Чтобы получить необходимое значение, разделите результат команды date на количество секунд в сутках — 86 400.