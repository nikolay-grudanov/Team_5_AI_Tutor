---
source_image: page_487.png
page_number: 487
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.88
tokens: 7641
characters: 2585
timestamp: 2025-12-24T04:59:06.774607
finish_reason: stop
---

Зашита веб-сервера Apache с помощью SELinux

Если система Security Enhanced Linux (SELinux) установлена (по умолчанию в системах Fedora и Red Hat Enterprise Linux), то она обеспечивает дополнительный уровень безопасности вашей службе httpd. По сути, SELinux защищает систему от повреждений со стороны, к примеру от того, кто взломал демон httpd. SELinux создает политику, которая:

● запрещает доступ к файлам, которые не заданы в нужных контекстах файлов. Для службы httpd в SELinux существуют различные контексты файлов содержимого, файлов конфигурации, файлов журналов, скриптов и других файлов, связанных со службой. Любой файл, который не установлен в надлежащий контекст, недоступен для демона httpd;
● предотвращает использование небезопасных функций, таких как загрузка файлов и аутентификация с открытым текстом, устанавливая логические типы (bools) для таких функций в положение off. Можете выборочно включать логические типы по мере необходимости, если они соответствуют вашим требованиям безопасности;
● не допускает демон httpd к нестандартным функциям, например к порту за пределами портов по умолчанию, которые служба может использовать.

Полное описание функции SELinux содержится в главе 24 «Повышенная безопасность с технологией SELinux». Сейчас перечислим некоторые моменты, о которых необходимо знать при использовании SELinux с веб-сервером Apache и службой httpd.

● Отключите SELinux. Нет необходимости задействовать SELinux постоянно. Вы можете оставить его в разрешительном режиме (permissive), если не хотите создавать политику SELinux, необходимую для того, чтобы веб-сервер работал с SELinux. Можете изменить принудительный режим на разрешительный, отредактировав файл /etc/sysconfig/selinux так, чтобы значение SELINUX было установлено, как в примере далее. После этого в следующий раз, когда перезагрузите систему, система будет переведена в разрешительный режим. Это означает, что если вы нарушаете политику SELinux, то это событие будет зарегистрировано, но не прервано системой (как было бы в принудительном режиме):

SELINUX=permissive

● Прочитайте справочную страницу httpd_selinux. Введите команду man httpd_selinux из оболочки. На этой справочной странице показаны соответствующие контексты файлов и доступные логические типы. (Если справочной страницы в системе нет, установите ее с помощью команды yum install selinux-policy-doc.)

● Используйте стандартные места расположения для файлов. При создании новые файлы наследуют контексты файлов каталогов, в которых они хранятся. Поскольку файл /etc/httpd установлен в правильный контекст для файлов