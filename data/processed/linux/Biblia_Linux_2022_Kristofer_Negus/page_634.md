---
source_image: page_634.png
page_number: 634
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.21
tokens: 7672
characters: 2541
timestamp: 2025-12-24T05:03:11.121258
finish_reason: stop
---

Команда passwd дважды предложит вам ввести новый пароль для пользователя joe. В этом случае она не запрашивает его старый пароль.

Лучшие методы работы с паролями

Теперь вы знаете, как выглядит надежный пароль и как его изменить, но как применить его в своей системе Linux? Можно начать с библиотеки подключаемых модулей PAM. С ее помощью вы точно определите требования, которым должны соответствовать пароли. Например, чтобы убедиться, что пароли должны быть длиной 12 символов, минимум с двумя цифрами, тремя прописными и двумя строчными буквами и отличаться от предыдущих паролей, можете добавить в файл /etc/pam.d/common-password или /etc/pam.d/common-auth такую строку:

password requisite pam_cracklib.so minlen=12, dcredit=2, ucredit=3, lcredit=2, difok=4

Следующий вопрос: как заставить пользователей регулярно менять пароли? Может оказаться утомительно придумывать новые надежные пароли каждые 30 дней! Вот почему необходимы некоторые методы принуждения к этому.

СОВЕТ
Если пользователи испытывают трудности с созданием надежных и уникальных паролей, установите в своей системе Linux утилиту pwgen. Эта утилита для генерации паролей с открытым исходным кодом создает произносимые и запоминающиеся пароли. Можно сделать эти сгенерированные слова отправной точкой для создания паролей учетных записей.

Значения по умолчанию в файле /etc/login.defs для новых учетных записей рассматривались в главе 11. В файле login.defs есть настройки, влияющие на срок действия и длину пароля:

PASS_MAX_DAYS    30
PASS_MIN_DAYS    5
PASS_MIN_LEN     16
PASS_WARN_AGE    7

В примере максимальное количество дней PASS_MAX_DAYS до изменения пароля равно 30. Число, которое вы устанавливаете, зависит от конкретной настройки учетной записи. Для организаций, где одну учетную запись применяет один пользователь, значение можно увеличить. Если у вас есть общие учетные записи или несколько человек знают пароль суперпользователя, очень важно регулярно менять пароль. Так вы сможете эффективно обновить список тех, кто его знает.

Чтобы пользователи не меняли свой пароль на новый, а затем сразу же меняли его обратно, вам нужно установить PASS_MIN_DAYS на число больше 0. В предыдущем примере самое раннее, когда можно снова изменить пароль, — через 5 дней.

Параметр PASS_WARN_AGE — это количество дней, в течение которых пользователь получает предупреждение перед принудительной сменой пароля. Люди, как правило, нуждаются в большом количестве предупреждений и напоминаний, поэтому в предыдущем примере устанавливается время предупреждения 7 дней.