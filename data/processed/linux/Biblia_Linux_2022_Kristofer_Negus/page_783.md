---
source_image: page_783.png
page_number: 783
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.46
tokens: 7501
characters: 2115
timestamp: 2025-12-24T05:07:12.741706
finish_reason: stop
---

Сервер NFS — не самый эффективный метод совместного использования хранилища гипервизорами, но один из самых простых и распространенных. Далее я покажу, как применять графический инструмент Virtualization Manager GUI (virt-manager) для настройки пула хранения NFS.

Для обеспечения согласованности задействуется общий ресурс NFS, настроенный из системы хранения, — каталог /var/lib/libvirt/images. Он монтируется в одном и том же месте на каждом из гипервизоров. (Если у вас только две машины, можете настроить хранилище с одного из гипервизоров и протестировать его. Однако это означает, что вы не сможете отключить данный гипервизор, не выключив все виртуальные машины.)

Шаг 1. Загрузить программное обеспечение Linux

Чтобы настроить хранилище на сервере NFS, можно использовать практически любую систему Linux, имеющую доступ к службе NFS. О чем нужно подумать перед установкой Linux.

• Пространство на диске. Убедитесь, что в разделе, содержащем общий каталог, достаточно места для хранения. В этом примере общий каталог — это /var/lib/libvirt/images.
• Производительность. Для достижения большей производительности необходим диск с быстрым доступом и высокой скоростью передачи данных.

Для дистрибутивов Fedora и RHEL программное обеспечение сервера NFS доступно из пакета nfs-utils. Для дистрибутива Ubuntu необходим пакет nfs-kernel-server. После завершения первоначальной установки убедитесь, что программное обеспечение сервера NFS установлено. Если это не так, можете установить его на Fedora или RHEL с помощью команды:

# yum install nfs-utils

Для установки на Ubuntu и похожих системах, введите:

# apt-get install nfs-kernel-server

Шаг 2. Настроить общий ресурс NFS

Чтобы создать общий ресурс NFS, необходимо определить каталог для общего доступа и добавить информацию о нем в файл /etc/exports. Выполните следующие действия.

1. Создайте каталог. Вы можете поделиться любым каталогом, содержащим свободное пространство. Подумайте о создании нового каталога и установке на него целого диска или раздела. Для этого примера я создаю каталог /var/storage следующим образом:

# mkdir -p /var/storage