---
source_image: page_368.png
page_number: 368
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.69
tokens: 7800
characters: 2550
timestamp: 2025-12-24T04:55:40.189692
finish_reason: stop
---

Копирование файлов между системами с помощью команд scp и rsync

Команда scp похожа на устаревшую UNIX-команду rcp для копирования файлов в системы Linux и из них, только в данном случае все коммуникации зашифрованы. Файлы могут быть скопированы из удаленной системы в локальную или из локальной в удаленную. Есть также возможность рекурсивно копировать файлы через всю структуру каталогов.

Далее приведен пример применения команды scp для копирования файла, вызванного из домашнего каталога пользователя chris, в каталог /tmp на удаленном компьютере под именем пользователя johndoe:

$ scp /home/chris/memo johndoe@10.140.67.23:/tmp
johndoe@10.140.67.23's password: ***************
memo    100%|************************|   153   0:00

Вы должны ввести пароль для пользователя johndoe. После этого файл успешно копируется в удаленную систему.

Можно также делать рекурсивные копии с помощью команды scp, применив параметр -r. Вместо файла передайте имя каталога команде scp, и все файлы и каталоги ниже этой точки в файловой системе будут скопированы в другую систему:

$ scp johndoe@10.140.67.23:/usr/share/man/man1/ /tmp/
johndoe@10.140.67.23's password: ***************
volname.1.gz                100%   543   0.5KB/s   00:00
mtools.1.gz                  100%  6788   6.6KB/s   00:00
roqet.1.gz                   100%  2496   2.4KB/s   00:00

Пока пользователь johndoe имеет доступ к файлам и каталогам в удаленной системе, а локальный пользователь может записывать данные в целевой каталог (в данном случае оба значения верны), структура каталогов из /usr/share/man/man1down копируется в локальный каталог /tmp.

Команда scp может применяться для резервного копирования файлов и каталогов по сети. Однако, если сравнить команду scp с командой rsync, то видно, что команда rsync (которая также работает через SSH-соединения) — это лучший инструмент резервного копирования. Попробуйте выполнить команду scp, чтобы скопировать каталог man1 (можете имитировать команду, используя localhost вместо IP-адреса, если у вас есть только одна доступная система Linux). В системе, в которую вы скопировали файлы, введите следующее:

$ ls -l /usr/share/man/man1/batch* /tmp/man1/batch*
-rw-r--r--.1 johndoe johndoe 2628 Apr 15 15:32 /tmp/man1/batch.1.gz
lrwxrwxrwx.1 root root 7 Feb 14 17:49 /usr/share/man/man1/batch.1.gz
    -> at.1.gz

Затем снова запустите команду scp и еще раз перечислите файлы:

$ scp johndoe@10.140.67.23:/usr/share/man/man1/ /tmp/
johndoe@10.140.67.23's password: ***************
$ ls -l /usr/share/man/man1/batch* /tmp/man1/batch*