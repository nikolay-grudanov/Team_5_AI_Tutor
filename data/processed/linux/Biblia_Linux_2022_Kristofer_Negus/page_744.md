---
source_image: page_744.png
page_number: 744
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.66
tokens: 7642
characters: 2346
timestamp: 2025-12-24T05:06:12.921764
finish_reason: stop
---

Служба iptables

Прежде чем начать изменять правила брандмауэра с помощью утилиты iptables, необходимо понять основы netfilter/iptables, которые включают в себя:

• таблицы;
• цепочки;
• политики;
• правила.

Понимание основ поможет правильно настроить брандмауэр сервера Linux и управлять им.

Таблицы netfilter/iptables. Брандмауэр iptables способен на большее, чем просто фильтрация на низовом уровне — уровне пакетов. Он определяет, какой тип функции брандмауэра применяется. В утилите iptables есть четыре таблицы и дополнительная таблица SELinux. Рассмотрим их функции.

• filter. Таблица filter фильтрует пакеты брандмауэра. В ней решения по управлению доступом принимаются для пакетов, перемещающихся по системе Linux, из нее и через нее.
• nat. Задействуется для преобразования сетевых адресов (NAT). Правила таблицы NAT позволяют перенаправлять пакет туда, куда нужно.
• mangle. Как вы могли бы заподозрить, пакеты искажаются (модифицируются) в соответствии с правилами таблицы искажений. Использование таблицы mangle напрямую не особо распространено, обычно с ее помощью изменяют способ управления пакетом.
• raw. Таблица raw применяется для освобождения определенных сетевых пакетов от так называемого отслеживания соединений. Эта функция важна, когда вы используете преобразование сетевых адресов и виртуализацию на своем сервере Linux.
• security. Эта таблица доступна только в дистрибутивах Linux с функцией SELinux (см. главу 24 «Повышенная безопасность с технологией SELinux»). Хотя таблица безопасности обычно не используется напрямую, она позволяет SELinux разрешать или блокировать пакет на основе политик SELinux, добавляя еще один уровень фильтрации к стандартным правилам фильтрации пакетов.

Из перечисленных таблиц три сосредоточены на преобразовании сетевых адресов (network address translation). Таким образом, filter является основной таблицей, о которой идет речь в главе о базовой фильтрации пакетов брандмауэра.

Цепочки службы netfilter/iptables. Брандмауэр netfilter/iptables классифицирует сетевые пакеты по категориям, называемым цепочками. Существует пять цепочек (категорий), к которым может быть отнесен сетевой пакет:

• INPUT — сетевые пакеты, поступающие на сервер Linux;
• FORWARD — поступающие на сервер Linux сетевые пакеты, которые должны быть перенаправлены через другой сетевой интерфейс на сервере;