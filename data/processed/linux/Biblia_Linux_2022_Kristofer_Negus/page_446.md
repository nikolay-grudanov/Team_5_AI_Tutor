---
source_image: page_446.png
page_number: 446
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.45
tokens: 7373
characters: 1609
timestamp: 2025-12-24T04:57:52.384460
finish_reason: stop
---

Добывление новых или пользовательских служб

Иногда требуется добавить новую службу для вашего сервера Linux. И возможно, вам придется настроить определенную службу самостоятельно. С этой целью необходимо выполнить определенные шаги для демона инициализации вашего Linux-сервера, то есть управлять службой либо распознать ее пользовательские настройки.

Добывление новых служб в SysVinit

При добавлении новой или пользовательской службы к серверу с помощью демона SysVinit необходимо выполнить определенные действия и позволить SysVinit управлять этой службой.

1. Создать скрипт-файл для новой или пользовательской службы.
2. Переместить скрипт новой или пользовательской службы в нужное место для управления демоном SysVinit.
3. Установить соответствующие права на скрипт.
4. Добавить службу на определенный уровень выполнения.

Шаг 1. Создать скрипт-файл для новой или пользовательской службы

Если вы настраиваете существующий скрипт службы, просто сделайте копию исходного файла юнита из файла /etc/rc.d/init.d и добавьте любые необходимые настройки.

Если вы создаете новый скрипт, убедитесь, что применяете все необходимые параметры, которые команда service должна принимать, такие как start, stop, restart и т. д.

Создавая новый скрипт, особенно если это происходит в первый раз, было бы разумно скопировать текущий скрипт службы из файла /etc/rc.d/init.d и изменить его под нужды службы. Рассмотрим пример скрипта службы cupsd:

# cat /etc/rc.d/init.d/cups
#!/bin/sh
#
...
#    chkconfig: 2345 25 10
...
start () {
    echo -n $"Starting $prog: "
    # start daemon
    daemon $DAEMON
    RETVAL=$?