---
source_image: page_607.png
page_number: 607
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.98
tokens: 7717
characters: 2534
timestamp: 2025-12-24T05:02:27.728174
finish_reason: stop
---

База данных RPM и другая информация об установленных пакетах RPM хранятся в каталоге /var/lib/rpm. Вы можете удалить файлы базы данных, начинаяющиеся с __db*, и перестроить их из метаданных, хранящихся в других файлах этого каталога.

Перед началом работы рекомендуется создать резервную копию каталога /var/lib/rpm. Затем нужно удалить старые файлы __db* и перестроить их заново. Для этого введите следующие команды:

# cp -r /var/lib/rpm /tmp
# cd /var/lib/rpm
# rm __db*
# rpm --initdb

Новые файлы __db* появятся в этом каталоге через несколько секунд. Выполните простую команду rpm или yum, чтобы убедиться, что базы данных теперь в порядке.

Точно так же, как RPM имеет базы данных локально установленных пакетов, так и функция Yum хранит информацию, связанную с репозиториями Yum, в локальном каталоге /var/cache/yum. С появлением команды dnf каталог кэша теперь называется /var/cache/dnf. Кэшированные данные включают метаданные, заголовки, пакеты и данные подключаемых модулей yum.

Если когда-нибудь возникнут проблемы с данными, кэшированными с помощью команды yum, вы можете их очистить. В следующий раз при запуске команды yum необходимые данные будут загружены снова. Причины для очистки кэша yum таковы.

● Метаданные устарели. При первом подключении к репозиторию Yum (путем загрузки пакета или запроса репозитория) метаданные загружаются в систему. Они состоят из информации обо всех доступных пакетах из репозитория.
По мере добавления и удаления пакетов из репозитория метаданные должны обновляться, иначе система будет работать со старой информацией. По умолчанию запущенная команда dnf проверяет наличие новых метаданных, если старые метаданные старше 48 часов (или на значение минут metadata_expire=, установленное в файле /etc/dnf/dnf.conf).
Если метаданные устарели, но срок их действия еще не истек, запустите команду dnf clean metadata, чтобы удалить все метаданные и принудительно загрузить новые метаданные при следующей загрузке. Кроме того, можете запустить команду dnf makecache, чтобы загрузить обновленные метаданные из всех репозиториев.

● Не хватает места на диске. Обычно yum может кэшировать до нескольких сотен мегабайт данных в каталогах /var/cache/dnf. Однако в зависимости от настроек файла /etc/dnf/dnf.conf (например, keercache=1, который сохраняет все загруженные RPM даже после их установки) каталоги кэша могут содержать несколько гигабайт данных.
Чтобы очистить все пакеты, метаданные, заголовки и другие данные, хранящиеся в каталоге /var/cache/dnf, введите следующее:

# yum clean all