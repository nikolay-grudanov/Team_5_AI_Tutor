---
source_image: page_444.png
page_number: 444
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.14
tokens: 7469
characters: 1946
timestamp: 2025-12-24T04:57:59.640381
finish_reason: stop
---

Отключить службу так, чтобы она совсем перестала работать в системе, можно с помощью параметра mask. Например, чтобы настроить службу NetworkManager так, чтобы она никогда не запускалась, введите следующее:

# systemctl mask NetworkManager.service
ln -s '/dev/null' '/etc/systemd/system/NetworkManager.service'

Как видно из выходных данных, файл NetworkManager.service в файле /etc связан с файлом /dev/null. Поэтому, даже если кто-то попытается запустить эту службу, ничего не произойдет. Чтобы снова задействовать эту службу, введите команду systemctl unmask NetworkManager.service.

Теперь, когда вы знаете, как сделать отдельные службы постоянными (и как отключить или замаскировать службы), необходимо взглянуть на группы служб в целом. Далее я расскажу, как запускать группы служб во время загрузки.

Настройка уровня выполнения по умолчанию (целевого юнита)

Постоянная служба — это служба, запускаемая во время загрузки сервера, а постоянный (по умолчанию) уровень выполнения, или целевой юнит, — это группа служб, запускаемых во время загрузки. Как классический SysVinit, так и Upstart определяют эти группы служб как уровни выполнения, а systemd называет их целевыми юнитами.

Настройка уровня выполнения по умолчанию демона SysVinit

Постоянный уровень запуска для сервера Linux с помощью SysVinit устанавливается в файле /etc/inittab. Часть этого файла показана далее:

# cat /etc/inittab
#
# inittab      This file describes how the INIT process should
#              set up the system in a certain run-level.
...
id:5:initdefault:
...

Строка initdefault в примере показывает, что текущий уровень выполнения по умолчанию — это уровень выполнения 5. Чтобы изменить это, просто отредактируйте файл /etc/inittab с помощью текстового редактора и измените 5 на один из уровней запуска: 2, 3 или 4. Не используйте уровни запуска 0 или 6 в этом файле! Это приведет к тому, что ваш сервер либо остановится, либо перезагрузится при запуске.