---
source_image: page_524.png
page_number: 524
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.10
tokens: 7644
characters: 2528
timestamp: 2025-12-24T05:00:13.230501
finish_reason: stop
---

немного больше прав на отправку данных так, как может запросить клиент, разрешив передачу данных в стиле PORT.

Параметр hide_ids=YES скрывает реальные права, установленные для файлов, поэтому пользователю, получающему доступ к FTP-сайту, видно только то, что все файлы принадлежат пользователю ftp. Два параметра pasv ограничивают диапазон портов, которые могут применяться с пассивным FTP (где сервер выбирает порт с более высоким номером для отправки данных), значениями от 50 000 до 60 000.

В следующей части содержатся функции сервера vsftpd:

# Features
xferlog_enable=YES
ls_recurse_enable=NO
ascii_download_enable=NO
async_abor_enable=YES

С помощью параметра xferlog_enable=YES все передачи файлов на сервер и с сервера регистрируются в файле /var/log/xferlog. Параметр ls_recurse_enable=NO запрещает пользователям рекурсивно перечислять содержимое FTP-каталога (другими словами, предотвращает вывод списка, который можно получить с помощью команды ls -R), поскольку на большом сайте это может привести к большому потреблению ресурсов. Отключение загрузки ASCII заставляет все загрузки находиться в двоичном режиме (предотвращая перевод файлов в ASCII, что не подходит для двоичных файлов). Параметр async_abor_enable=YES гарантирует, что FTP-клиенты при прерывании передачи не будут зависать.

Следующие параметры влияют на производительность:

# Performance
one_process_model=YES
idle_session_timeout=120
data_connection_timeout=300
accept_timeout=60
connect_timeout=60
anon_max_rate=50000

С помощью параметра one_process_model=YES производительность может улучшиться, поскольку служба vsftpd запускает один процесс на каждое соединение. Уменьшение параметра idle_session_timeout с 300 секунд по умолчанию до 120 секунд приводит к отключению FTP-клиентов, которые простоявают более 2 минут. Таким образом, затрачивается меньше времени на управление сеансами FTP, которые уже не используются. Если передача данных останавливается более чем на несколько секунд data_connection_timeout (здесь 300 секунд), соединение с клиентом прерывается.

Параметр accept_timeout, равный 60 секундам, позволяет удаленному клиенту принять PASV-соединение за 1 минуту. Параметр connect_timeout задает время, в течение которого удаленный клиент должен ответить на запрос об установлении соединения для передачи данных в стиле PORT. Ограничение скорости передачи до 50 000 байт/с с помощью параметра anon_max_rate может улучшить общую производительность сервера, ограничив пропускную способность, которую может потреблять каждый клиент.