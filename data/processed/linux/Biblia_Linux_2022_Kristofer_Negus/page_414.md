---
source_image: page_414.png
page_number: 414
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.87
tokens: 7688
characters: 2649
timestamp: 2025-12-24T04:57:05.675764
finish_reason: stop
---

преобразует сетевые адреса (NAT) и предоставляет службу DHCP, чтобы системы в частной сети могли маршрутизироваться через систему Linux с помощью частных IP-адресов. (См. главу 25 «Защита Linux в сети», чтобы узнать о работе с правилами брандмауэра Linux с помощью функции iptables.)

Настройка Linux в качестве DHCP-сервера

Система Linux не только способна использовать DHCP-сервер для получения своего IP-адреса и другой информации, но и может быть настроена на работу в качестве DHCP-сервера. В своей самой простой форме DHCP-сервер может выдавать IP-адреса из пула адресов любой системе, которая запрашивает IP-адрес. Однако обычно DHCP-сервер также распределяет местоположения DNS-серверов и шлюза по умолчанию.

Настройка DHCP-сервера не так проста и требует предварительной подготовки. Не добавляйте DHCP-сервер в сеть, которую вы не контролируете и в которой уже есть работающий DHCP-сервер. Многие клиенты получают информацию об адресах от любого DHCP-сервера, который ее раздает.

Служба DHCP предоставляется пакетом dhcp-server в системах Fedora и RHEL. Сама служба называется dhcpd. Основным файлом конфигурации является файл /etc/dhcp/dhcpd.conf для сетей IPv4 (в том же каталоге находится файл dhcpd6.conf для сетей IPv6). По умолчанию демон dhcpd прослушивает UDP-порт 67, поэтому его нужно оставить открытым на локальном брандмауэре.

Чтобы настроить DHCP-сервер, можно скопировать файл dhcpd.conf.example из каталога /usr/share/doc/dhcp-server, заменить им файл /etc/dhcp/dhcpd.conf, а затем изменить его по своему усмотрению. Однако перед применением этого файла нужно изменить параметры доменного имени, чтобы домен и диапазоны IP-адресов соответствовали тем, которые вы используете. Комментарии в файле помогут сделать это.

При установке некоторых виртуальных и облачных служб в системе Linux DHCP-сервер настраивается по умолчанию под пользователя. Например, когда вы устанавливаете программу KVM и запускаете службу libvirtd в системе RHEL или Fedora, она автоматически настраивает частную сеть по умолчанию в диапазоне адресов 192.168.122.0/24. При запуске виртуальных машин им присваиваются IP-адреса из данного диапазона. После установки и запуска службы Docker в этих дистрибутивах она настраивает частную сеть и раздает IP-адреса контейнерам Docker, запущенным в этой системе.

Настройка Linux в качестве DNS-сервера

В Linux большинство профессиональных серверов системы доменных имен (DNS) реализовано с помощью службы Berkeley Internet Name Domain (BIND). В системах Fedora и RHEL для этого необходимо установить пакеты bind, bind-utils и bind-libs. Для дополнительной безопасности можно установить пакет bind-chroot.