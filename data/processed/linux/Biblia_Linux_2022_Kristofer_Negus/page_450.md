---
source_image: page_450.png
page_number: 450
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.08
tokens: 7518
characters: 2093
timestamp: 2025-12-24T04:58:07.619140
finish_reason: stop
---

● Файл /lib/systemd/system.
  ▪ Это место расположения применяется для хранения файлов конфигурации юнитов служб.
  ▪ Файлы здесь перезаписываются установкой и обновлениями программного обеспечения. Файлы используются системой только в том случае, если в каталоге /etc/systemd/system нет файла с таким же именем.

Таким образом, лучшее место для хранения нового или пользовательского файла конфигурации службы — это файл /etc/systemd/system.

СОВЕТ
Чтобы при создании новой или пользовательской службы изменение вступило в силу без перезагрузки сервера, необходимо выполнить специальную команду. В командной строке введите systemctl daemon-reload.

Шаг 3. Добавьте службу в каталог параметра Wants

Последний шаг необязателен. Его нужно делать только в том случае, если вы хотите, чтобы новая служба начиналась с определенного целевого юнита systemd. Чтобы служба была активизирована (запущена) конкретным целевым юнитом, она должна находиться в его каталоге Wants.

Вначале добавьте строку WantedBy=desired.target в нижнюю часть файла конфигурации юнита службы. В следующем примере видно, что желаемым целевым юнитом для новой службы является юнит multi-user.target:

# cat /etc/systemd/system/My_New_Service.service
[Unit]
Description=My New Fake Service
[Service]
ExecStart=/usr/bin/My_New_Service
[Install]
WantedBy=multi-user.target

Чтобы добавить новый сервисный юнит в целевой, необходимо создать символическую ссылку. В следующем примере показаны файлы, расположенные в каталоге Wants юнита multi-user.target. Ранее в подразделе «Система инициализации systemd» команда systemctl использовалась для перечисления содержимого каталога Wants, и она по-прежнему является предпочтительным вариантом для этого. Обратите внимание на то, что в этом каталоге файлы являются символическими ссылками, указывающими на файлы конфигурации юнитов служб в каталоге /lib/systemd/system:

# ls /etc/systemd/system/multi-user.target.wants
abrt-ccpp.service    cups.path        remote-fs.target
abrtd.service        fcoe.service     rsyslog.service
abrt-oops.service    irqbalance.service sendmail.service