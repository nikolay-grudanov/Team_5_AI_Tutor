---
source_image: page_619.png
page_number: 619
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 47.57
tokens: 8033
characters: 2620
timestamp: 2025-12-24T05:03:03.762856
finish_reason: stop
---

Проверка проблем с памятью

Допустим, на рабочем столе Linux запущено много приложений и все они начинают зависать. Чтобы выяснить, что это проблемы с производительностью, возникшие из-за нехватки памяти, выполните команды top и ps, которые ищут информацию о потреблении памяти в системе.

Чтобы отследить потребление памяти, введите команду top, а затем прописную букву M, например:

# top
top – 22:48:24 up 3:59, 2 users, load average: 1.51, 1.37, 1.15
Tasks: 281 total, 2 running, 279 sleeping, 0 stopped, 0 zombie
Cpu(s): 16.6%us, 3.0%sy, 0.0%ni, 80.3%id, 0.0%wa, 0.0%hi, 0.2%si, 0.0%st
Mem: 3716196k total, 2684924k used, 1031272k free, 146172k buffers
Swap: 4194296k total, 0k used, 4194296k free, 784176k cached

PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
6679 cnegus 20 0 1665m 937m 32m S 7.0 25.8 1:07.95 firefox
6794 cnegus 20 0 743m 181m 30m R 64.8 5.0 1:22.82 npviewer.bin
3327 cnegus 20 0 1145m 116m 66m S 0.0 3.2 0:39.25 soffice.bin
6939 cnegus 20 0 145m 71m 23m S 0.0 2.0 0:00.97 acroread
2440 root 20 0 183m 37m 26m S 1.3 1.0 1:04.81 Xorg
2795 cnegus 20 0 1056m 22m 14m S 0.0 0.6 0:01.55 nautilus

В выводе есть две строки (Mem и Swap) и четыре столбца информации (VIRT, RES, SHR и %MEM), относящейся к памяти. В примере видно, что в строке Mem оперативная память не исчерпана (задействовано только 2684924 k из 3716196 k) и в строке Swap память не используется диском (0 k).

Но если суммировать только первые шесть строк вывода в столбце VIR, будет видно, что для приложений выделено 4937 Мбайт памяти, а это превышает 3629 Мбайт общей доступной оперативной памяти (3716196 k). А все потому, что столбец VIR отображает только объем памяти, выделенный приложению. Строка RES показывает объем фактически используемой памяти без подкачки, который составляет всего 1364 Мбайт.

Обратите внимание на то, что при сортировке по применению памяти с помощью прописной буквы M команда top знает, что нужно сортировать по столбцу RES. Столбец SHR отображает память, которая может быть совместно использована другими приложениями (например, библиотеками), а столбец MEM показывает процент общей памяти, потребляемой каждым приложением.

Если вы думаете, что система достигла состояния нехватки памяти, в данных нужно найти следующую информацию.

● Свободное пространство строки Mem равно нулю или близко к этому.
● Значение используемого пространства в строке Swap не равно нулю и продолжает расти. Это сопровождается замедлением производительности системы.
● Поскольку экран top обновляется каждые несколько секунд, то, если есть процесс с утечкой памяти (постоянно запрашивающий и использующий память,