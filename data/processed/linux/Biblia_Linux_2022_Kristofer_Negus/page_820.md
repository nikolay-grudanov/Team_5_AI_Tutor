---
source_image: page_820.png
page_number: 820
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.11
tokens: 7513
characters: 1802
timestamp: 2025-12-24T05:08:22.681293
finish_reason: stop
---

Подготовка к развертыванию

Для начала я создал четыре виртуальные машины со следующими именами:

ansible    Использовался как контрольный узел Ansible
host01     Первый целевой узел
host02     Второй целевой узел
host03     Третий целевой узел

Затем выполнил следующие действия, чтобы подготовиться к использованию этих хостов с системой Ansible.

1. Установил Fedora на каждой из виртуальных машин (система RHEL тоже подойдет).
2. Для каждого из трех целевых узлов (host01, host02 и host03) сделал следующее:
   ▪ запустил службу SSH (при необходимости она открывает TCP-порт 22) в узле управления Ansible;
   ▪ создал учетную запись пользователя, не являющегося суперпользователем. Позднее, когда вы будете применять playbooks, добавьте параметр --ask-become-pass, чтобы получать запрос на ввод пароля для расширения привилегий;
   ▪ установил пароль для этого пользователя.

При запуске Ansible я задействую обычную учетную запись пользователя для подключения к каждой системе, а затем включаю привилегии суперпользователя с помощью команды sudo.

Настройка SSH-ключей для каждого узла

Войдите в управляющий узел (ansible) и убедитесь, что он работает с тремя вашими узлами. Либо убедитесь, что можете связаться с хостами через DNS-сервер, либо добавьте их в файл /etc/hosts на контрольном узле. Затем настройте ключи для доступа к этим узлам, например, так.

1. Как суперпользователь добавьте в файл /etc/hosts IP-адрес и имя для каждого узла, на котором хотите развернуть свои Ansible playbooks:

   192.168.122.154  host01
   192.168.122.94   host02
   192.168.122.189  host03

2. Все еще находясь в системе ansible, сгенерируйте ssh-ключи, чтобы создать связь без пароля с каждым хостом. Вы можете запустить эту и более поздние команды Ansible как обычный пользователь в хост-системе ansible: