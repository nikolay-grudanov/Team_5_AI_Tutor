---
source_image: page_671.png
page_number: 671
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.95
tokens: 7523
characters: 1972
timestamp: 2025-12-24T05:04:10.501585
finish_reason: stop
---

● Пользователь jill шифрует файл с помощью открытого ключа пользователя johndoe.
● Зашифрованный файл MessageForJohn создается с помощью параметра --out.
● Параметр --recipient11 идентифицирует открытый ключ пользователя johndoe, применяя только часть реального UID его открытого ключа в кавычках — "John Doe":

$ gpg2 --out MessageForJohn --recipient "John Doe" \
--encrypt MessageForJohn.txt
...
$ ls
JohnDoe.pub MessageForJohn MessageForJohn.txt

Зашифрованный файл сообщения MessageForJohn, созданный из обычного текстового файла MessageForJohn.txt, может быть отправлен пользователю johndoe. Чтобы расшифровать это сообщение, он задействует свой закрытый ключ, идентифицированный и защищенный секретной парольной фразой, которая применялась при создании ключа. После того как пользователь johndoe укажет правильную парольную фразу, команда gpg2 расшифрует файл сообщения и поместит его в файл JillsMessage, обозначенный параметром -out. После этого текст сообщения можно прочитать:

$ ls MessageForJohn
MessageForJohn
$ gpg2 --out JillsMessage --decrypt MessageForJohn
<A pop-up window prompts you for a passphrase>
gpg: encrypted with 2048-bit RSA key, ID D9EBC5F7317D3830, created 2019-10-27
    "John Doe <jdoe@example.com>"
$ cat JillsMessage
I know you are not the real John Doe.

Итак, вот что нужно сделать для того, чтобы зашифровать и расшифровать файлы с использованием асимметричных ключей.

1. Создать пару ключей и связку ключей.
2. Добавить копию открытого ключа в файл.
3. Передать файл с открытым ключом.
4. Пользователи, которые хотят отправить вам зашифрованные файлы, должны добавить этот открытый ключ в свою связку ключей.
5. Файл шифруется с помощью вашего открытого ключа.
6. Зашифрованный файл отправляется вам.
7. Вы расшифровываете файл с помощью своего закрытого ключа.

Именно поэтому асимметричные ключи могут вызвать путаницу! Помните, что в асимметричной криптографии каждый открытый и закрытый ключ — это пара, которая работает вместе.