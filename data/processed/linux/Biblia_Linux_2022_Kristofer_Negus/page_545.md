---
source_image: page_545.png
page_number: 545
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.39
tokens: 7613
characters: 2274
timestamp: 2025-12-24T05:00:46.663773
finish_reason: stop
---

Настойка раздела [printers]

Любой принтер, настроенный для печати CUPS в системе Linux, автоматически передается другим пользователям через сервер на основе раздела [printers], добавленного по умолчанию. Параметр global cups options = raw определяет все принтеры как необработанные (это означает, что клиент Windows должен предоставить соответствующий драйвер принтера для каждого общего принтера).

Вот как выглядит раздел [printers] по умолчанию в файле smb.conf:

[printers]
    comment = All Printers
    path = /var/tmp
    printable = Yes
    create mask = 0600
    browseable = No

Параметр path указывает серверу хранить временные файлы печати в файле /var/tmp. Строка printable = Yes определяет то, что все принтеры CUPS в локальной системе будут совместно использоваться сервером Samba. Принтеры доступны для записи и по умолчанию разрешают гостевую печать. Параметр create mask = 0600, применяемый в примере, удаляет биты записи и выполнения для группы и других в списках доступа, когда файлы создаются в каталоге path.

Чтобы убедиться, что локальные принтеры доступны, можете запустить команду smbclient -L из системы Linux, как было показано ранее. В системе Windows в окне File Explorer (Проводник) выберите Network (Сеть) и значок сервера Samba. В этом окне отображаются все общие принтеры и папки. (Подробнее о просмотре и использовании общих принтеров см. раздел «Доступ к общим ресурсам Samba» далее в этой главе.)

Создание папки общего доступа для сервера Samba

Нельзя добавить то, чего не существует, поэтому прежде всего общую папку (или каталог) нужно создать и присвоить ей соответствующие права. В приведенном далее примере каталог /var/salesdata общий. К примеру, вы хотите, чтобы данные были доступны для записи пользователем с именем chris, но видны всем в вашей сети. Чтобы создать этот каталог и установить соответствующие права и контексты файлов SELinux, введите от имени суперпользователя следующее:

# mkdir /var/salesdata
# chmod 775 /var/salesdata
# chown chris:chris /var/salesdata
# semanage fcontext -a -t samba_share_t /var/salesdata
# restorecon -v /var/salesdata
# touch /var/salesdata/test
# ls -lZ /var/salesdata/test
-rw-r--r--. 1 root root
    unconfined_u:object_r:samba_share_t:s0 0 Dec 24 14:35
        /var/salesdata/test