---
source_image: page_245.png
page_number: 245
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.44
tokens: 8087
characters: 2809
timestamp: 2025-12-24T04:25:56.398865
finish_reason: stop
---

ный виртуальный сервер, в котором он и будет работать. Если злоумышленник взломает систему через веб-программу, то сможет нарушить работу только виртуального каталога.

Во время подготовки материалов для этой книги в одном из популярных форумов была найдена уязвимость, позволяющая выполнять на удаленной системе любые команды. Для этого нужно было специальным образом передать директиву через строку URL. Данную главу я начал писать через месяц после этого страшного открытия и как-то раз, вспомнив про найденную в форуме ошибку, решил проверить в Интернете все сайты, содержащие уязвимый форум. Я запустил по серверам соответствующий поиск и — вы не поверите — но их были сотни.

Меня заинтересовала пара сайтов, расположенных на серверах крупных хостинговых компаний. На обоих я выполнил команду ls -a /etc. Результат не заставил себя ждать — я увидел весь каталог /etc, и моих прав хватало даже на удаление файлов. Конечно же, делать этого я не стал даже в тестовых целях. Для доказательства серьезности ошибки я переименовал по одному файлу на каждой системе и сообщил об уязвимости их администраторам.

ВНИМАНИЕ!
Не советую вам повторять подобные действия. Взлом даже с добрыми намерениями не всеми администраторами воспринимается положительно. Некоторые могут сообщить о ваших действиях в правоохранительные органы, и тогда вам не избежать судебных тяжб. Благие побуждения могут быть восприняты неверно. Если я нахожу какую-либо дыру, то всегда сообщаю администраторам, но отправляю для этого письмо анонимно.

Это было давно, сейчас в папке /etc система уже в конфигурации "из коробки" защищает все файлы, и никаких дополнительных настроек делать не нужно.

Переместив Apache в виртуальное пространство, вы обезопасите только свою систему, но все сайты, которые работают в этом пространстве, остаются уязвимыми. Здесь уже нужно искать другие методы защиты — например, через права доступа, запуск нескольких копий Apache (каждая работает в своем пространстве), выделенные серверы для каждого сайта, запрет на выполнение опасных функций в интерпретаторе PHP и т. д.

Особо важные сайты должны располагаться на выделенном сервере и находиться под пристальным присмотром. Например, нельзя размещать на одном физическом сервере сайт электронного магазина и домашние странички, очень часто использующие бесплатные или некачественные модули, в которых бывают ошибки и пользователи которых, к тому же, не обновляют эти программы. Когда-нибудь злоумышленник взломает домашнюю страничку через уязвимые сценарии и сможет украсть номера кредитных карт пользователей интернет-магазина. Это поставит крест на вашей карьере администратора.

7.7.2. mod_security

Несмотря на то, что безопасность веб-сервера, в основном, зависит от выполняемых на нем скриптов-сценариев и программистов, которые их пишут, есть возмож-