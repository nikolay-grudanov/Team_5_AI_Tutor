---
source_image: page_387.png
page_number: 387
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.16
tokens: 7990
characters: 2593
timestamp: 2025-12-24T04:29:53.886060
finish_reason: stop
---

чтобы случайно не забыть, или просто меняют пароль на старый. Ваша задача — контролировать замену, и в то же время не стоит заставлять пользователя делать это слишком часто. Период в 2–3 месяца (или 60–90 дней) считается вполне приемлемым.

А как проверить, что выбран достаточно сложный пароль и при этом не указан снова старый? В этом нам поможет PAM-модуль pam_cracklib.so, который выполняет основные проверки и позволяет сделать их сложнее. Например, нельзя будет установить старый пароль или воспользоваться большей его частью.

Чтобы включить модуль pam_cracklib.so, необходимо добавить в файл /etc/pam.d/passwd следующую строку:

password required pam_cracklib.so retry=5 minlength=8

В этой команде мы заставляем систему использовать библиотеку pam_cracklib.so. Параметр retry задает число попыток для ввода нового пароля, а они понадобятся, если пользователь попытается задать слишком простую комбинацию. Параметр minlength задает минимальную длину пароля.

Все вроде бы прекрасно, но у такой политики есть и недостатки. Как показывает моя практика, большинство пользователей выбирает один пароль и в конце добавляет число 1. При следующей смене пароля добавляется число 2. И так далее. Поскольку операционные системы не хранят реальных паролей, а только хэши, то они не могут видеть, что новый пароль изменился всего на одну цифру, и что-либо предпринять. Так что в реальности даже требование сменить пароли не помогает. Да что там скрывать, я сам так поступаю регулярно.

14.2. rootkit

Проникнув в систему, хакер стремится укрепиться в ней и получить максимальные права. Пусть он уже может выполнять на сервере команды от имени простого пользователя. Этого ему будет мало, поэтому следующая цель — получение прав root со всеми вытекающими отсюда последствиями.

Для решения этой задачи взломщик должен получить возможность закачивать файлы и установить в системе одну из специализированных программ, повышающих права до администратора, — такие программы называются rootkit (набор администратора). После этого взломщик выполняет команды следующим образом:

1. От имени простого пользователя, правами которого обладает хакер, директивы посылаются программе rootkit.

2. Программа rootkit выполняет полученные команды от имени администратора.

А как же rootkit получает возможность выполнять переданные ей команды с правами root? В этом помогает злополучный SGID-бит. Если он установлен, то программа будет выполняться в системе с правами администратора.

Но, к счастью, не все так просто. Для rootkit нужно еще установить SGID-бит и в качестве владельца установить пользователя root.