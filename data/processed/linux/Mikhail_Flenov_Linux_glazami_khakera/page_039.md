---
source_image: page_039.png
page_number: 39
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.45
tokens: 8215
characters: 3064
timestamp: 2025-12-24T04:19:56.111056
finish_reason: stop
---

мы, то компьютер может не успеть сохранить данные. При следующей загрузке ОС обнаружит нарушение целостности жесткого диска, и запустится программа сканирования диска fsck (аналог scandisk в Windows), которая восстановит его работоспособность. Однако воссоздать утерянные данные уже не удастся. Сканирование занимает много времени, и это может сказаться на скорости возобновления работы сервера. Будьте готовы к тому, что следующая загрузка будет происходить дольше обычного.

В файловой системе ReiserFS также выполняется запись с предварительным кэшированием, после чего проверяется целостность данных и, если данные записаны верно, кэш очищается. В противном случае ОС при запуске быстро найдет проблемные места с помощью созданного журнала и с минимальными потерями времени восстановит работоспособность диска.

У файловой системы ReiserFS есть и еще одно преимущество. Данные на жесткий диск записываются блочно. Допустим, что блок занимает 1 Кбайт. Если записать файл размером 100 байт, то блок будет им занят, но в нем останется 90 % пустого пространства, в которое уже ничего нельзя записать. Таким образом, из-за столь нерационально используемого дискового пространства (так называемой утечки памяти), на жестком диске будет храниться немного меньше информации, чем вы ожидали. Файловая система RaiserFS позволяет заполнять блоки более полно.

Утечку наглядно можно увидеть, если в ОС Windows открыть окно File Properties (Свойства файла), показанное на рис. 2.3. Обратите внимание, что в окне есть два параметра Size (Размер) и Size on disk (Размер на диске). Величина файла 4,95 Кбайт, а на диске он занимает целых 8 Кбайт. Арифметика простая — понятно, что один кластер на диске равен 4 килобайтам. Размер файла больше этого значения, поэтому ОС пришлось выделить два кластера, и второй заполнен менее чем на 25 %. Остальное дисковое пространство пропало и не может использоваться, по крайней мере, пока файл не будет стерт.

Если на диск поместить 1000 файлов по 100 байт при размере блока 4 Кбайт, то каждый из них будет записан в свой блок. При этом на диске будет израсходовано 4 Мбайт вместо положенных 100 Кбайт. Потери пространства составят 97,5 %.

Файловая система ReiserFS позволяет записывать в один блок несколько файлов, если их размер менее 100 байт. Таким образом, на диске будет меньше дыр и утечки памяти.

Файловая система Ext3 также принадлежит к новому поколению журналируемых систем и работает аналогично ReiserFS. До появления Ext4 она являлась системой по умолчанию в большинстве современных дистрибутивов Linux. Трудно сравнить по производительности ReiserFS и Ext3, но с точки зрения надежности советую использовать последнюю. Разные специалисты придерживаются различных мнений, но я думаю, что стоит согласиться с мнением разработчиков и выбрать Ext3 или ее логическое продолжение Ext4.

Четвертое пришествие Extended File System (Ext4) принесло возможность создавать диски размером в 1 эксбибит (2 в 60-й степени) при размере блока в 4 килобайта. Но более интересным, на мой взгляд, является механизм, который позволяет зара-