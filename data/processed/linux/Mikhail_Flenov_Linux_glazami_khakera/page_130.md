---
source_image: page_130.png
page_number: 130
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.57
tokens: 7990
characters: 2612
timestamp: 2025-12-24T04:22:32.495501
finish_reason: stop
---

4.3.1. Файлы и папки нового пользователя

Откуда берутся файлы в папке нового пользователя? При формировании учетной записи в соответствующую домашнюю папку копируются все файлы и подкаталоги из каталога /etc/skel. Давайте создадим свой файл в этом каталоге и посмотрим, попадет ли он в папку нового пользователя? Чтобы ничего не выдумывать, выполним следующую директиву:

ls >> /etc/skel/text

Здесь задается команда ls для просмотра содержимого текущего каталога. Потом идут два символа >> и имя файла text в папке /etc/skel. Такая запись означает, что результат выполнения команды должен быть помещен в указанный файл. Если файл не существует, то он будет создан. Таким образом, мы подготовили в нужном каталоге новый файл, содержимое которого нас не особо волнует.

Теперь добавляем нового пользователя и просматриваем содержимое его папки:

useradd Denver
ls -al /home/Denver

В результате вы увидите, что созданный нами в каталоге /etc/skel файл был скопирован в папку нового пользователя. Но в каталогах уже существующих пользователей этот файл не появится.

Эту полезную особенность я использую достаточно часто, чтобы сразу наделить нового пользователя правилами нахождения в системе, а также необходимыми ему файлами и документацией. Например, когда я работал в торговой фирме, то в каталог пользователей автоматом помещался файл с правилами пользования компьютером, куда я собирал наиболее часто задаваемые пользователями вопросы и ответы на них.

Среди файлов, копируемых в каталог нового пользователя, есть и такой: bash_profile. Это профиль командного интерпретатора /bin/bash. В нем можно настраивать некоторые параметры, в том числе и маску. В разд. 4.1 мы говорили об излишних правах, которые назначаются всем новым файлам пользователя (что далеко от идеала), и научились понижать их с помощью команды umask.

Зайдите под учетной записью robert и посмотрите ее маску с помощью команды umask. Обратите внимание — она равна 0002. То есть мы в разд. 4.1 изменили свою маску, но robert при создании получил другую, которую надо изменить. Если вы забудете это сделать, то могут возникнуть проблемы. Чтобы этого не произошло, я рекомендую добавить в конец файла .bash_profile строку:

umask 0077

Лучше всего это сделать в файле /etc/skel/.bash_profile, потому что он копируется во все папки новых пользователей, и можно быть уверенным, что все они получат нужную маску.

Для повышения безопасности я не рекомендую присваивать каталогам имена учетных записей. При добавлении пользователя robert по умолчанию для него будет создан каталог /home/robert. Такое соответствие может сыграть злую шутку. Если