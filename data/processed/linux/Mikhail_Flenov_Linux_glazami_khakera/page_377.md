---
source_image: page_377.png
page_number: 377
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.21
tokens: 7838
characters: 2068
timestamp: 2025-12-24T04:29:28.997363
finish_reason: stop
---

□ часто обновляемые данные. При выборе носителя главным критерием должна быть скорость работы, потому что чаще всего эти данные имеют большой размер. Резервное копирование должно производиться максимально короткое время, чтобы на сервер не было долговременных нагрузок.

Как видите, политика резервирования зависит от многих факторов. Я постарался показать вам основные принципы, по которым вы должны строить свою схему. Предложенный в этом разделе подход, разумеется, не годится для всех систем, но его можно использовать как базовый.

13.5. Резервирование в Linux

Мы будем рассматривать только те возможности, которые уже реализованы в Linux. Я не буду рекламировать сторонние разработки. Я вообще не люблю кого-то выделять, потому что могу недооценить другие продукты, с которыми я не работал или не знаком в достаточной степени.

А что встроено в Linux? Это простые команды копирования и архивирования, которые можно автоматизировать, прописав в планировщике задач. Если резервирование требует выполнения нескольких директив, то из них можно создать файл сценария для ОС, который будет выполнять все необходимое.

13.5.1. Копирование

Самый простой вариант создания резервной копии — использование команды cp (копирование файлов). Только при копировании необходимо обязательно сохранять права доступа к файлу. Вот как может выглядеть команда, сохраняющая каталог /home на примонтированном к системе диске /mnt/resdisk:

cp -a /home /mnt/resdisk

В данном случае я использовал ключ -a, который равносилен указанию сразу трех ключей (-dpR):

□ -d — не следовать по символым ссылкам. Мы копируем каталог в таком виде, как он есть;
□ -p — сохранять права доступа к файлу;
□ -R — копировать каталоги рекурсивно, чтобы на архивный диск попали все файлы и подкаталоги.

Получается, что команда, показанная ранее, идентична следующей:

cp -dpR /home /mnt/resdisk

С помощью этой директивы мы создаем полную копию каталога. А как можно сохранить изменения? Для этого необходимо произвести копирование на тот же диск, только с указанием ключа -u:

cp -au /home /mnt/resdisk