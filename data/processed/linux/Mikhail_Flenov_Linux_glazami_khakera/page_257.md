---
source_image: page_257.png
page_number: 257
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.47
tokens: 7955
characters: 2351
timestamp: 2025-12-24T04:26:16.233752
finish_reason: stop
---

dn1      m4 /etc/mail/sendmail.mc > /etc/sendmail.cf
dn1
include(`/usr/share/sendmail-cf/m4/cf.m4')
VERSIONID(`linux setup for ASPLinux')dn1
OSTYPE(`linux')
dn1 Uncomment and edit the following line if your mail needs to be
dn1 sent out through an external mail server:
dn1 Раскомментируйте следующую строку, если вам нужно посылать почту
dn1 через внешний почтовый сервер:
dn1 define(`SMART_HOST',`smtp.your.provider')
define(`confDEF_USER_ID','8:12')dn1
undefine(`UUCP_RELAY')dn1
undefine(`BITNET_RELAY')dn1
...
...

Файл sendmail.mc имеет более простой формат по сравнению со старым sendmail.cf, благодаря чему уменьшается вероятность допустить ошибку при конфигурировании. После внесения изменений его необходимо скомпилировать (перевести файл sendmail.mc в формат sendmail.cf) специальной командой, в результате чего получается файл /etc/sendmail.cf.

Мы в основном будем рассматривать параметры, которые нужно устанавливать в файле sendmail.cf, а если описывается параметр файла sendmail.mc, я буду явно указывать на это.

Иногда при неправильных настройках загрузка Linux может зависать при старте сервиса sendmail. Это происходит из-за того, что ваш почтовый сервер не может определить имя компьютера. Откройте файл /etc/hosts. В нем чаще всего будет только одна строка:

127.0.0.1    localhost.localdomain    localhost

Подробно этот файл будет описан в главе 11, когда мы станем рассматривать DNS. Сейчас нам надо знать, что эта строка описывает IP-адрес 127.0.0.1, который соответствует имени localhost. В любой системе такие адрес и имя указывают на вашу локальную машину. Когда в сетевых программах вы указываете localhost, то это имя преобразуется в IP-адрес 127.0.0.1.

Программа sendmail использует имя компьютера, которое вы указали во время установки ОС Linux. Выполните команду hostname, чтобы это имя узнать. В моем случае это FlenovM. Но на деле все сетевые обращения происходят не по имени, а по IP-адресу, и если sendmail не может определить адрес по имени FlenovM, происходит зависание. Чтобы исправить эту ситуацию, добавьте в файл /etc/hosts строку вида:

192.168.77.1    FlenovM    FlenovM

Не забудьте только заменить параметр FlenovM на имя вашего компьютера и, разумеется, указать свой IP-адрес. После этого программу sendmail можно помещать в автозапуск, и она будет работать великолепно даже с настройками по умолчанию.