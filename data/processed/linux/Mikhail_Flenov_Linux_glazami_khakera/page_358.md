---
source_image: page_358.png
page_number: 358
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.22
tokens: 7817
characters: 1863
timestamp: 2025-12-24T04:28:56.967840
finish_reason: stop
---

Посмотрим на параметры, которые нам доступны:

☐ weekly — указывает на то, что файлы журналов должны меняться еженедельно. Если сервер используется редко, можно изменить это значение на monthly, чтобы обновление происходило ежемесячно;

☐ rotate — задает количество файлов, которые будут использоваться для хранения истории. В данном случае стоит число 4, т. е. имена журналов будут иметь вид: /etc/log/имя.x, где x изменяется от 1 до 4;

☐ create — требует создания нового пустого документа после смены файла журнала;

☐ compress — позволяет сжимать файлы журналов. На серверах, обрабатывающих запросы огромного количества пользователей, журналы могут занимать очень много места, и чтобы сэкономить дисковое пространство, их можно сжимать. Так как журналы содержат текст, сжатая версия может иметь объем на 70 и более процентов меньше.

В начале файла идут описания значений по умолчанию. Затем можно указать специфичные значения для определенных журналов. В данном конфигурационном файле выделен журнал /var/log/wtmp:

/var/log/wtmp {
    monthly
    create 0664 root utmp
    rotate 1
}

В данном файле нет ограничения на размер журнала, но его можно задать с помощью параметра size. Например, в следующем примере задается максимальный размер журнала в 100 Кбайт:

/var/log/wtmp {
    monthly
    size = 100k
    create 0664 root utmp
    rotate 1
}

Теперь файл журнала будет меняться в двух случаях (по событию, которое наступит раньше):

☐ ежемесячно, т. к. указан параметр monthly;
☐ когда файл достигнет размера 100 Кбайт.

За счет смены журналов мы получаем как удобства, так и недостатки. Например, после проведения атаки хакер может уничтожить свои следы, даже если не имеет непосредственного доступа к файлам журнала. Достаточно только засыпать журнал мусорными сообщениями и превысить максимальный размер, чтобы система четыре раза произвела ротацию.