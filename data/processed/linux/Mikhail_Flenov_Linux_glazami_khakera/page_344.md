---
source_image: page_344.png
page_number: 344
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.10
tokens: 7951
characters: 2337
timestamp: 2025-12-24T04:28:34.182887
finish_reason: stop
---

who

Команда who позволяет узнать, кто сейчас зарегистрирован в системе и сколько времени он в ней находится. Информация извлекается из файла /var/run/utmp. Введите эту команду, и на экране появится список примерно следующего вида:

robert    tty1    Dec 8 10:15
root      tty2    Dec 8 11:07

Из этого списка становится ясно, что пользователь robert работает за первым терминалом (tty1) и вошел в систему 8 декабря в 10 часов 15 минут, а через 52 минуты со второго терминала вошел пользователь root.

Большинство хакеров при входе в систему выполняют эту команду, чтобы выяснить, есть ли сейчас в системе администратор. Если пользователь root присутствует, то начинающие хакеры часто уходят, т. к. опасаются, что их знаний не хватит, чтобы остаться незамеченными. При этом, вероятно, потом они вернутся.

А это еще одна причина, по которой администратор не должен входить в систему под учетной записью root. Лучше всего работать как простой пользователь, а когда не хватает прав, то переключаться на привилегированного. На такой случай я создал учетную запись, для которой установил UID равным нулю. Она позволяет получить доступ ко всей системе, и при этом имеет имя, отличное от root, и не вызовет подозрений, когда я буду работать. Так что в моей системе никогда нельзя увидеть пользователя root.

users

Эта команда позволяет вытащить из журнала /var/run/utmp список всех пользователей, которые сейчас зарегистрированы в системе.

В журнале /var/run/utmp информация хранится временно, только в период присутствия пользователя. Когда он выходит из системы, соответствующая запись удаляется. После этого выяснить, кто и когда работал, можно только по журналу /var/log/wtmp. Это также бинарный файл, и его содержимое можно увидеть с помощью специализированных программ.

last

Команда позволяет выяснить, когда и сколько времени определенный пользователь находился в системе. В качестве параметра ей передается интересующее имя. Например, следующая директива отображает время входа и продолжительность нахождения в системе пользователя robert:

last robert

Выполнив команду, вы увидите на экране примерно следующий список:

robert    tty1    Thu Dec 2 12:17 - 12:50 (00:33)

По этой записи можно понять, что robert находился за терминалом (tty1), зашел в систему 2 декабря на 33 минуты (с 12:17 до 12:50). Если пользователь работал не