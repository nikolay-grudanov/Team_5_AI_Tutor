---
source_image: page_139.png
page_number: 139
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.73
tokens: 7992
characters: 2431
timestamp: 2025-12-24T04:22:48.625396
finish_reason: stop
---

После отмены атрибута я выполнил команду lsattr, чтобы убедиться в правильности выполнения команды. Вот теперь файл легко удалить с помощью команды rm.

4.7. Защита служб

В этой книге будет рассматриваться множество серверных служб. Безопасность их работы для системы в целом зависит не только от правильной настройки самой службы, но и от прав, которые вы ей дадите.

Во время написания первого издания этой книги на мой сайт было произведено несколько удачных атак, потому что из-за занятости я просто не обновлял этот сайт, который располагался на сервере известной хостинговой компании. За два дня на сайте дважды меняли главную страницу, а потом злоумышленники захватили форум. Мне пришлось его убирать в недоступное место, чтобы восстановить свои права администратора, напрямую редактируя базу данных MySQL.

Как произошел взлом? На сайте стоял форум phpBB. Это один из популярных движков, который абсолютно бесплатен, поэтому владельцы сайтов его часто выбирают. Многие хакеры стремятся найти ошибки в наиболее известных разработках, и иногда им это удается. Только своевременное обновление форума (в данном случае) позволяет защититься от нападения.

После атаки я обновил форум, но это не помогло. Разработчики не устранили в последней его версии одну критическую ошибку, а лишь дали инструкции по ее исправлению на форуме своего сайта. Конечно же, я не увидел этих предписаний и в итоге мог потерять всю базу данных, если бы один из посетителей сайта не дал мне ссылку на описание ошибки и способов ее устранения.

Давайте на примере абстрактного сайта www.sitename.com посмотрим, как происходило вторжение. При входе на форуме в просмотр какой-нибудь темы в адресной строке браузера появляется ссылка:

http://www.sitename.com/forum/viewtopic.php?p=5583

Если к этой ссылке добавить в конец следующий текст

&highlight=%2527.$poster=%60команда Linux%60.%2527

то указанная команда Linux выполнится на сервере.

Вот так, например, можно было просмотреть на сервере файлы каталога /etc:

&highlight=%2527.$poster=%60ls%09/etc%09-la%60.%2527

А вот эта команда могла удалить главную страницу сайта:

&highlight=%2527.$poster=%60rm%09index.php%60.%2527

Как видите, благодаря ошибке в одной строке скрипта форума под угрозой оказалось существование всего сервера.

В коде форума phpBB после этого находили не одну критическую уязвимость, но я уже с тех пор никогда его не использовал, т. к. пришел к выводу, что лучше напи-