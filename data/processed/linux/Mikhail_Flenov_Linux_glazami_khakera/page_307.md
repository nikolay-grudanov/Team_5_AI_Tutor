---
source_image: page_307.png
page_number: 307
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.46
tokens: 7895
characters: 2079
timestamp: 2025-12-24T04:27:35.865275
finish_reason: stop
---

10.1. Работа протокола FTP

Как мы уже говорили в главе 6, для работы по протоколу FTP требуется две составляющие: клиент и сервер. В качестве клиента, в принципе, можно использовать любой Telnet-клиент, и, подключившись к порту 21 сервера, вручную передавать команды.

Если у вас нет FTP-клиента, то тестирование протокола можно осуществить даже через браузер, — например, Internet Explorer или Firefox. Для этого в адресной строке браузера нужно набрать URL в формате ftp://имя:пароль@адрес.

Например:

ftp://flenov:mypassword@ftp.my_server.com

или

ftp://flenov:mypassword@192.168.77.1

Протокол FTP работает сразу на двух портах: один служит для управления (передача команд), а другой — для передачи данных (файлов). Программа-клиент соединяется с портом 21 и начинает передавать команды. С этим портом соединяются все пользователи, и сервис, который прослушивает этот канал, работает одновременно с несколькими соединениями.

Когда клиент запрашивает данные, открывается еще одно соединение с конкретным пользователем, по которому передается файл. Это удобно с точки зрения программирования, но несподручно в плане администрирования, — точнее сказать, конфигурирования сетевого экрана. Дело в том, что для передачи данных клиент может открыть абсолютно любой порт, и сервер не может предсказать его номер.

Большинство команд, применяемых в работе по протоколу FTP, схожи с теми директивами, которые вы используете в Linux для управления файлами. Это связано с тем, что во время разработки протокола основными сетевыми ОС являлись UNIX-системы. Это в наше время везде стоит Windows, а 30 лет назад все было иначе.

10.1.1. Команды протокола FTP

Давайте рассмотрим листинг 10.1. В нем приведен пример общения клиентской программы с FTP-сервером. Строки, в начале которых стоит знак ">"', были отправлены FTP-серверу, а остальные — это его ответы.

Листинг 10.1. Пример работы протокола FTP

< 220 Flenov Mikhail FTP Server
> USER Anonymous
< 331 Anonymous access allowed, send identity (e-mail name) as password.
> PASS your@email.com
< 230 Anonymous user logged in.
> PWD