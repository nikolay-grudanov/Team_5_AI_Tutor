---
source_image: page_114.png
page_number: 114
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.92
tokens: 7892
characters: 2097
timestamp: 2025-12-24T04:22:01.036636
finish_reason: stop
---

Во время конфигурации с помощью любой из перечисленных утилит вы должны указать, нужна ли поддержка загружаемых модулей.

Если вы хотите иметь два разных ядра одной и той же версии, например, с поддержкой модулей и без нее, то необходимо открыть файл Makefile и в параметре EXTRAVERSION указать различные значения:

- EXTRAVERSION=-rc2-module — при компиляции ядра с модулями;
- EXTRAVERSION=-rc2-nomodule — при компиляции ядра без модулей.

Лучше всего в этом параметре указывать, чем именно будет отличаться ядро. Например, помимо -rc2-module можно вставить дополнительное пояснение, но оно должно быть максимально коротким.

Теперь выполняем команды подготовки к компиляции:

make dep
make clean

Следующая команда отнимет достаточно много времени, потому что она будет компилировать непосредственно ядро. Можно отправляться готовить кофе и пить его медленно и печально. Если у вас слабый процессор и менее 1024 Мбайт памяти, то процесс будет долгим.

Итак, для компиляции ядра выполним команду:

make bzImage

Во время компиляции вы увидите список собираемых в ядро модулей. Их очень много, поэтому процесс продолжительный.

Если вы выбрали компиляцию ядра с использованием загружаемых модулей, то следующие две команды должны выполнить эту операцию:

make modules
make modules_install

Если вы запретили использование модулей, то эти команды можно пропустить, потому что в этом случае толку от них мало, а выполняются они долго.

Все модули располагаются в каталоге /lib/modules/. С помощью первой команды мы скомпилировали модули нового ядра, а вторая скопирует их в каталог /lib/modules/. Здесь вы найдете каталоги модулей для каждой из версий ядер, установленных в системе.

Теперь инсталлируем скомпилированное ядро. Для этого выполняем следующую команду:

make install

Эта команда скопирует все необходимые файлы для загрузки на свои места. Загляните в каталог /boot. Здесь можно найти несколько файлов, в том числе и загрузчик для новой версии ядра. Их легко можно определить по номеру. Например, я компилировал ядро 2.6.10, и у меня появились файлы vmlinuz-2.6.10 и initrd-2.6.10.img.