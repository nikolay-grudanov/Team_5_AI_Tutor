---
source_image: page_203.png
page_number: 203
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.86
tokens: 7931
characters: 2334
timestamp: 2025-12-24T04:24:39.968648
finish_reason: stop
---

RSAAuthentication yes
PubkeyAuthentication yes

Для подключения к серверу выполните команду:

ssh -i ~/.ssh/myrsakey

С помощью параметра -i мы указываем файл публичного ключа. Если этого не сделать, то будет использоваться id_rsa — файл по умолчанию, его имя задает директива IdentityFile в конфигурационном файле SSH-клиента.

Теперь сервер будет запрашивать у вас не пароль, а слово (фразу), которое вы указали при генерации публичного ключа:

Enter passphrase for key

Если в конфигурационном файле SSH-сервера изменить параметр PasswordAuthentication на no, то пароль проверяться не будет, а связь будет устанавливаться только на основании ключей. Для обеспечения безопасной связи этого достаточно.

5.3.7. Защищенная передача данных

В состав пакета SSH входят еще две полезные программы: SFTP-server (FTP-сервер с поддержкой шифрования передаваемых данных) и SFTP-клиент (FTP-клиент для подключения к SFTP-серверу). Давайте посмотрим на последнюю строку файла конфигурации SSH-сервера /etc/ssh/sshd_config:

Subsystem sftp /usr/libexec/openssh/sftp-server

Директива Subsystem определяет дополнительные сервисы. В данной строке как раз и запускается SFTP-server из пакета OpenSSH.

Работа с клиентом SFTP практически не отличается от работы SSH-клиента. Выполните команду sftp localhost, и перед вами появится приглашение авторизации, которую мы рассматривали в разд. 5.3.5. Введя правильный пароль, вы оказываетесь в командной строке FTP-клиента и можете передавать или принимать файлы, используя команды протокола FTP. Этот протокол мы будем подробно рассматривать в главе 10, а сейчас вам достаточно знать, что большинство команд схожи с директивами Linux для управления файлами. Основные команды протокола FTP можно увидеть в приложении 1.

Попытайтесь сейчас воспользоваться клиентом SFTP для подключения к своей системе. Авторизовавшись, можно попробовать выполнить команду ls или cd, чтобы убедиться в работоспособности программы. Для выхода из SFTP наберите команду exit.

Если вам необходимо передать на сервер или скачать с него секретную информацию (например, документы или файл паролей), то используйте для этого безопасное соединение по SFTP. Простые FTP-клиенты передают файлы в открытом виде (без шифрования), поэтому любой хакер сможет прослушать трафик и узнать информацию, которая поможет взломать ваш сервер.