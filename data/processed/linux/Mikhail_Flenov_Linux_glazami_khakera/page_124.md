---
source_image: page_124.png
page_number: 124
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.37
tokens: 8088
characters: 2397
timestamp: 2025-12-24T04:22:27.009685
finish_reason: stop
---

777 - 077 = 700 (или drwx------), а для файлов: 666 - 077 = 600 (или -rw-------). Тогда доступ к файлу имеет только владелец. Все остальные — отдыхают.

При расчете прав на файл можно подумать, что я ошибся, ведь 666 - 077 не равно 600. Почему же так получилось? Просто вычитание происходит поразрядно, т. е. из первой цифры 6 в числе вычитается первая цифра 0 в маске, затем операция производится со вторыми цифрами (6 - 7), и т. д. Если какой-либо результат получается отрицательным, то он заменяется нулем.

Вот такое положение дел нас уже устраивает. Чтобы установить новую маску, выполните команду umask маска. В нашем случае это будет umask 077.

4.1.5. Права доступа к ссылкам

В разд. 3.1.3 мы говорили о жестких и символьных ссылках на файлы. Для начала проверим права на жесткие ссылки:

913021 -rw-r--r-- 2 root root 0 Feb 22 12:19 1.txt
913021 -rw-r--r-- 2 root root 0 Feb 22 12:19 link.txt

Как видите, права абсолютно идентичны. Я надеюсь, что вы другого и не ожидали, ведь у жестких ссылок одинаковые дескрипторы.

С символьными ссылками дело обстоит куда хуже. Вот пример основного файла и символьной ссылки на него из того же разд. 3.1.3:

913021 -rw-r--r-- 1 root root 519 Feb 22 12:19 link.txt
913193 lrxwrxrwx 1 root root 8 Feb 22 12:40 symbol.txt -> link.txt

Первая строка содержит информацию о файле, а вторая — о символьной ссылке на него. Как видите, у ссылки открыт абсолютно полный доступ. Если создать ссылку для файла /etc/shadow и не изменить ее права, то можно попрощаться с паролями — их украдут или обнулят. Вы еще помните, что любая операция по изменению файла символьной ссылки затрагивает непосредственно сам файл? Если уже забыли, то стоит запомнить или на руке выжечь.

Внимание!
Если вы решили использовать символьные ссылки, то всегда помните особенность формирования прав доступа на файлы. Можете даже выбить на мониторе надпись: "Ссылки на файлы создаются с полными правами!!!"

4.2. Управление группами

Что такое группы? Допустим, что в вашей сети 1000 пользователей, 500 из которых должны иметь доступ к файлам бухгалтерской отчетности. Как поступить? Можно каждому из 500 пользователей назначить права на нужный файл и забыть об этом до определенного времени. А теперь представим, что нужно отменить это разрешение. Опять выполнять 500 команд для каждого файла? А может быть писать собственную программу? Оба способа неудобны и требуют больших усилий.