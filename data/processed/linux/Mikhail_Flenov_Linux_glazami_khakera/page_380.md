---
source_image: page_380.png
page_number: 380
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.95
tokens: 7950
characters: 2206
timestamp: 2025-12-24T04:29:45.216870
finish_reason: stop
---

занимает намного меньше места, его копирование на сетевые ресурсы или запись на съемные носители (ZIP, JAZ, CD-R/RW, DVD-R/RW и др.) будет производиться быстрее. В итоге может выйти, что затраты времени на копирование и процессорного времени на архивирование будут идентичны затратам на копирование без архивирования или даже меньше.

Прежде чем сжимать какой-либо файл, рекомендуется подготовить tar-архив. Потом достаточно выполнить команду упаковки:

gzip -уровень файл.tar

В качестве ключа -уровень нужно указать степень компрессии. Максимальный уровень равен 9. После этого указывается имя tar-архива. Давайте сожмем архивный файл, который мы создали из каталога /home, применяя наибольшую компрессию. Выполните следующую команду:

gzip -9 backup.tar

Теперь просмотрите содержимое каталога (команда ls). Обратите внимание, что файла backup.tar больше нет. Вместо него появился backup.tar.gz, размер которого значительно уменьшился.

Чтобы разархивировать такой файл, можно пользоваться все той же командой tar, только необходимо указать ключи xzf:

cd /
tar xzf /home/backup.tar.gz

Эта команда сначала разархивирует gz-файл и тут же распаковывает tar-архив.

Если необходимо, из gz-файла снова получить tar-архив (без его распаковки), то можно выполнить команду:

gzip -d /home/backup.tar.gz

После этого вы снова увидите файл backup.tar, а backup.tar.gz исчезнет.

Теперь вы готовы написать свой сценарий, который будет собирать каталоги для архивирования в tar-файл, а затем сжимать его, чтобы уменьшить размер. Но можно не использовать две команды, а обойтись одной. Вот как это делается:

tar cvf - /home | gzip -9c > backup.tar.gz

В данном примере мы собираем в tar-архив каталог /home и тут же сжимаем его утилитой gzip.

Помимо gzip для архивирования иногда используется утилита compress, но ее возможности по сжатию ниже, и к тому же вокруг нее были скандалы и разбирательства по поводу лицензии. Большинство администраторов уже перешли на использование gzip, и я вам рекомендую с самого начала привыкать к этой программе.

13.5.4. dump

Все предыдущие команды, которые мы рассматривали в данной главе, не являются специализированными командами резервирования. Это просто команды копирова-