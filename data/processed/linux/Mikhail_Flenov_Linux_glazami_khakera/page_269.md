---
source_image: page_269.png
page_number: 269
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.80
tokens: 7875
characters: 2199
timestamp: 2025-12-24T04:26:30.801431
finish_reason: stop
---

зуют провайдеры и администраторы частных или корпоративных сетей. С реализацией этого запрета у вас не должно возникнуть проблем, потому что мы уже не раз ее рассматривали;

• разрешать отправку почты только в течение определенного времени (например, 10 минут) после проверки почты по протоколу POP3. В момент проверки почты сервер производит авторизацию клиента, и по этим данным может временно создаваться разрешающая запись в сетевом экране (или другим способом) для доступа к SMTP. Теперь в течение 10 минут с этого IP-адреса можно будет отправлять почту;

• использовать авторизацию SMTP. Изначально в стандарте на протокол отправки сообщений нет ничего об идентификации пользователя, поэтому не все серверы ее поддерживают. Но в sendmail и других мощных пакетах есть расширение, которое позволяет реализовать авторизацию и сделать ее обязательной;

□ запретить отправку слишком большого количества писем с одного и того же IP-адреса. Вполне нормальным числом является 20. Пользователь не должен иметь права посылать более 20 писем за 10 минут;

□ запретить отправку писем большому количеству получателей. Письмо может содержать в поле "CC" список пользователей, которым направлено письмо.

Существуют и другие методы, но даже этих будет достаточно.

В последних версиях sendmail по умолчанию разрешается пересылка почты только с тех компьютеров, которые прописаны в файле /etc/mail/access. В листинге 8.2 приведено содержимое этого файла.

Листинг 8.2. Файл /etc/mail/access

# Check the /usr/share/doc/sendmail/README.cf file for a description
# of the format of this file. (search for access_db in that file)
# The /usr/share/doc/sendmail/README.cf is part of the sendmail-doc
# package.
#
# Смотрите файл /usr/share/doc/sendmail/README.cf для получения
# информации по формату файла (ищите слово access_db в этом файле)
#
# by default we allow relaying from localhost...
# По умолчанию мы разрешаем рассылку только с локального хоста
localhost.localdomain    RELAY
localhost                RELAY
127.0.0.1                RELAY

В этом файле можно оставить разрешение отсылать почту только с компьютеров внутренней сети или с самого сервера. Для этого файл должен содержать следующие записи: