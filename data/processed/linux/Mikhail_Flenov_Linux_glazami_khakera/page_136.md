---
source_image: page_136.png
page_number: 136
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.92
tokens: 7927
characters: 2419
timestamp: 2025-12-24T04:22:35.621065
finish_reason: stop
---

что пользователь flenov в группу root не входит, а значит, не сможет изменять файл.

Теперь переключаемся на пользователя flenov и удаляем файл. Прикол в том, что файл удалится. Единственное, что вы увидите — предупреждение, что удаляется файл, защищенный от изменений.

И чтобы этого не произошло, вы должны ограничивать доступ не только к файлам, но и каталогам.

Бывают случаи, когда каталог должен иметь все права. Как правило, это открытые папки, через которые пользователи могут обмениваться файлами. Но при этом нужно защититься таким образом, чтобы только администратор или владелец файла могли его удалить. Все остальные пользователи не должны иметь прав на уничтожение уже существующих чужих файлов. Как же решить эту проблему, когда каталог необходимо сделать доступным всем, а его содержимым должны управлять только хозяева?

Допустим, у вас есть каталог shared. Для того чтобы в нем могли удалять файлы только владельцы, нужно установить для него sticky-бит. Это делается командой chmod с параметром +t:

chmod +t shared

Попробуйте выполнить команду ls -al и посмотреть права доступа к каталогу. Вы должны увидеть drwxrwxrwt. Обратите внимание, что на месте символа x в области прав для всех пользователей стоит t. Это и указывает на установленный sticky-бит. Теперь попробуйте удалить из этой директории файл, принадлежащий другому пользователю. Вы увидите сообщение rm: cannot unlink 'имя файла': Operation not permitted.

В Linux есть каталог /tmp, для которого как раз установлены права drwxrwxrwx и в котором сохраняются временные данные всех пользователей. В современных дистрибутивах на этот каталог уже выставлен sticky-бит.

4.5. Привилегированные программы

В главе 3 я упомянул о существовании еще двух битов доступа: SUID и SGID, и теперь пора с ними познакомиться поближе. Допустим, что пользователя необходимо ограничить в правах, чтобы он не натворил бед, но при этом дать возможность запускать программу, к которой требуется специальный доступ. В этом случае можно установить на эту программу SUID-бит, тогда и программа сможет работать (от имени владельца), и у пользователя не будет лишних привилегий.

Бит SUID можно установить командой chmod с параметром u+s:

chmod u+s progname

Если теперь просмотреть права доступа к файлу progname, то они окажутся равными -rwsr-xr-x. Как видите, появилась буква s на том месте, где должно быть разрешение на запуск (символ x) для владельца файла.