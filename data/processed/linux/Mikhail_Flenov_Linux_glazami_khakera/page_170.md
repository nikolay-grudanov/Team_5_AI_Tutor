---
source_image: page_170.png
page_number: 170
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.21
tokens: 7889
characters: 2088
timestamp: 2025-12-24T04:23:44.668910
finish_reason: stop
---

то его легко обойти через установки в файле /etc/hosts.deny. Если вы заметили попытку атаки с какого-нибудь IP-адреса, запретите на пару часов любые подключения с него, но опять же используя файл /etc/hosts.deny.

Почему нежелательно играть с цепочками сетевого экрана? Случайное удаление или добавление ошибочной записи может нарушить работу сервера или понизить его безопасность. Именно поэтому временные правила я не рекомендую устанавливать в сетевом экране.

4.13. Советы по конфигурированию Firewall

Конфигурирование сетевого экрана достаточно индивидуально и зависит от конкретных задач, решаемых сервером. Но я все же дам некоторые рекомендации, которым надо следовать во время настройки:

☐ изначально необходимо все запретить. К хорошему быстро привыкаешь, и если открыть что-то лишнее, то потом отучить пользователей будет трудно, и процесс закрытия сервиса станет проходить с большими сложностями;

☐ если есть возможность, необходимо запретить все типы ICMP-сообщений. Мы еще не раз будем говорить об опасности сканирования сети с помощью ICMP-пакетов;

☐ запретить доступ к порту 111. На нем работает portmapper, который необходим для удаленного вызова процедур (RPC, Remote Procedure Call) на сервере и получения результата. С помощью утилиты rpcinfo хакер может узнать, какие RPC-сервисы работают на вашем сервере. Например, выполните следующую команду:

rpcinfo -p localhost

Результатом будет примерно следующее:

Program vers proto port
100000 2 tcp 111 portmapper
100000 2 udp 111 portmapper
100024 1 udp 32768 status
100024 1 tcp 32768 status
391002 2 tcp 32769 sgi_fam

Как видите, одна команда может сообщить весьма большое количество информации, поэтому 111-й порт необходимо закрыть;

☐ для облегчения управления доступом к портам разделите открытые ресурсы на две категории:
• для всеобщего просмотра, в том числе и пользователями Интернета;
• только для использования внутри сети. Например, сервисы, такие как ftp и telnet, несут в себе опасность, потому что позволяют закачивать файлы на сервер и выполнять на нем команды. Если пользователям Интернета нет не-