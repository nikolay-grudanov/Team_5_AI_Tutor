---
source_image: page_363.png
page_number: 363
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.06
tokens: 7976
characters: 2452
timestamp: 2025-12-24T04:29:10.203410
finish_reason: stop
---

пользователь может ввести ошибочный пароль, особенно если пароль, как и должен быть, сложный. Реагировать на подобные записи бессмысленно.

Есть еще один недостаток построчного просмотра журнала. Допустим, анализатор выдал сообщение о попытке обращения к запрещенной области диска. Для большинства сервисов в этой записи отсутствует информация о пользователе. Например, вы заметили строку о неправомерном доступе к каталогу по FTP. В ней будет IP-адрес клиента, но вы можете захотеть узнать, под какой учетной записью зарегистрировался пользователь. Чтобы это увидеть, необходимо открыть сам журнал и проследить историю подключений с этого IP-адреса. А ведь это можно решить, если анализировать журнал в динамике.

12.6.1. tail

Когда я нахожусь непосредственно у сервера, то в отдельном окне терминала запускаю следующую команду:

tail -f /var/log/messages

После этого на экране появляется содержимое журнала, которое изменяется в реальном времени. При записи в журнал новой строки она тут же появляется у меня на мониторе.

Это очень удобно, особенно при небольшом количестве записей. Вы можете спокойно работать в одном терминале и иногда переключаться на другой, чтобы взглянуть на ход работы. Если сообщения появляются слишком часто (с сервером работает большое количество пользователей), то проследить за ними просто невозможно. В этом случае необходимо их фильтровать с помощью специализированных программ, которые отображают только подозрительную информацию, а остальные записи просто пропускают.

Тут можно использовать и утилиту grep для фильтрации содержимого и показывать только те записи, которые вам реально нужны.

Рассмотрим пример. У меня перед веб-серверами стоят кэш-серверы, которые первыми получают трафик из Интернета. Когда сайт падает, то первым делом проверяется возможность загрузки сайта с самого веб-сервера. Если это возможно, то веб-сервер и база данных работают, и проблема кроется где-то в другом месте.

Следующим шагом идет проверка кэш-сервера, чтобы увидеть, есть ли вообще какой-либо трафик на сервер? Для этого я как раз применяю команду tail к файлу журнала squid:

tail -f /var/log/squid/http80 | grep www.domainname.com

У меня несколько сайтов, и HTTP-трафик всех записывается в один и тот же файл журнала http80. Чтобы отсеять только нужный мне домен, я использую grep. Теперь нужно подождать несколько секунд и посмотреть, идет ли какой-нибудь трафик через кэш-сервер (появляются ли в журнале новые записи).