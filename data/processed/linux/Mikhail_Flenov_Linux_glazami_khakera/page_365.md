---
source_image: page_365.png
page_number: 365
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.43
tokens: 8099
characters: 2392
timestamp: 2025-12-24T04:29:19.509452
finish_reason: stop
---

12.7. Безопасность журналов

Заканчивая тему журналирования, необходимо поговорить и о безопасности. Журналы создавались как средство наблюдения за системой и выявления атак, но могут быть использованы в корыстных целях.

Рассмотрим классический пример взлома. Система регистрирует в журналах безопасности неверные попытки входа. При этом в файл попадает имя пользователя, который допустил ошибку. Пароль при этом не сохраняется, чтобы хакер, прочитав журнал, не смог его увидеть. Допустим, что легальный пользователь случайно вместо имени пользователя набрал свой пароль. Такое бывает, особенно по утрам, если пользователь пришел на работу, не выспавшись, или просто в плохом настроении. В результате пароль будет сохранен в журнале в открытом виде.

Очень важно сделать так, чтобы журнал не был доступен для злоумышленника. Выполните сейчас следующую директиву для просмотра прав доступа на файлы журналов:

ls -al /var/log

Результат работы команды:

drwxr-xr-x   9 root root        4096 Jan 12 13:18 .
drwxr-xr-x  21 root root        4096 Jan 24 23:00 ..
drwx------   2 root root        4096 Jan 12 11:14 bclsecurity
-rw-r-----   1 root root        83307 Jan 12 13:18 boot.log
-rw-r-----   1 root root        89697 Jan  6 09:01 boot.log.1
-rw-r-----   1 root root        48922 Jan 30 11:45 boot.log.2
-rw-r-----   1 root root        64540 Jan 23 19:55 boot.log.3
-rw-r-----   1 root root        36769 Jan 16 12:36 boot.log.4
-rw-r-----   1 root root         8453 Jan 12 13:18 cron
-rw-r-----   1 root root         8507 Jan  6 09:06 cron.1
-rw-r-----   1 root root         7189 Jan 30 11:50 cron.2
-rw-r-----   1 root root         6935 Jan 23 20:01 cron.3
-rw-r-----   1 root root         4176 Jan 16 12:41 cron.4
...

Владельцем всех файлов должен быть администратор root. Убедитесь также, что только он имеет полные права, а всем остальным не позволено работать с файлами.

По умолчанию для большинства файлов правом чтения обладает их владелец и пользователи его группы, в качестве которой чаще всего можно увидеть root. Если в вашей системе в эту группу входит только администратор, то можно оставить все, как есть. Но если в нее входит несколько пользователей, что я абсолютно не приветствую, то необходимо сформировать специальную группу с минимальными правами и назначить ее для всех журналов.

Следующие команды создают новую группу loggroup и устанавливают ее для всех log-файлов: