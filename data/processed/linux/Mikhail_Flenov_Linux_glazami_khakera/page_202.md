---
source_image: page_202.png
page_number: 202
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.36
tokens: 7956
characters: 2396
timestamp: 2025-12-24T04:24:40.276334
finish_reason: stop
---

Итак, для генерации ключа выполним команду:

ssh-keygen -t rsa -f ~/.ssh/myrsakey

Обратите внимание, что я указал сохранение ключа в подкаталоге .ssh своего домашнего каталога (об этом свидетельствует знак "~"). Это каталог, в котором SSH будет искать все настройки. Если вы еще не подключались к серверу, то этот путь и ключ отсутствуют. Для исправления ситуации нужно перейти в свой домашний каталог и создать папку .ssh:

cd /home/flenov
mkdir .ssh

Если при генерации ключа не указывать файл для его сохранения, то по умолчанию он будет создан в каталоге ~/.ssh/ с именем id_rsa для RSA-шифрования. Для DSA-шифрования файл будет располагаться там же, но его имя будет id_dsa. Я специально задал имя, чтобы показать, как с ним работать.

Если программа запустилась успешно, то на экране вы должны увидеть следующее приглашение:

Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):

В данном сообщении говорится, что начат процесс генерации публичного и закрытого RSA-ключей. Вам предлагается ввести кодовую фразу или оставить ее пустой. Я рекомендую лучше указать достаточно длинную фразу (не менее 10 символов, а лучше — целое предложение). После нажатия клавиши <Enter> вам предложат подтвердить комбинацию, чтобы исключить ошибки при вводе.

Если все прошло успешно, то вы должны увидеть следующее сообщение:

Your identification has been saved in ~/.ssh/myrsakey.
Your public key has been saved in ~/.ssh/myrsakey.pub.

В первой строке нас проинформировали о том, что закрытый ключ сохранен в файле ~/.ssh/myrsakey, а во второй — что открытый сохранен в файле ~/.ssh/myrsakey.pub.

Получив ключи, вы должны отправить файл ~/.ssh/myrsakey.pub на удаленный компьютер, чтобы SSH-сервер мог использовать его для аутентификации. Передачу можно смело осуществлять через открытые каналы связи, потому что публичный ключ ничего не стоит без фразы (пароля), которую вы ввели, и без секретного ключа. Даже если хакер сможет получить файл myrsakey.pub, пользы от этого ему не будет никакой.

Администратор сервера должен добавить содержимое публичного ключа в файл .ssh/authorized_keys. Для этого можно выполнить на сервере следующую команду:

cat myrsakey.pub >> .ssh/authorized_keys

Теперь можно подключаться к серверу, используя публичный ключ для подтверждения личности. Но перед этим убедитесь, что в конфигурационном файле сервера включены следующие директивы: