---
source_image: page_264.png
page_number: 264
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.50
tokens: 7855
characters: 2099
timestamp: 2025-12-24T04:26:22.913357
finish_reason: stop
---

файле параметры, которые передаются программе, и измените их на qlh прямо в тексте сценария.

8.4.3. Права доступа

Ни один сервис в ОС не должен работать от имени администратора root. Если в коде программы будет найдена лазейка, позволяющая запускать команды, то можно считать систему потерянной, потому что директивы будут выполняться с правами root. Опытные пользователи компьютеров, наверное, помнят, что несколько лет назад в sendmail чуть ли не каждую неделю находили ошибки, и большинство из них были критичными.

Сервис должен работать с правами пользователя, которому доступны только необходимые для работы каталоги и файлы. В последних версиях sendmail это уже реализовано с помощью параметра RunAsUser:

О RunAsUser=sendmail

По умолчанию эта строка может быть закомментирована знаком # в начале строки. Уберите комментарий. Можно также явно добавить описание группы, с правами которой должна происходить работа:

О RunAsUser=sendmail:mail

В данном случае sendmail — это имя пользователя, а mail — имя группы.

8.4.4. Лишние команды

Почтовый сервер обрабатывает множество команд, но не все из них могут оказаться полезными. Убедитесь, что в вашем конфигурационном файле присутствуют и не закрыты комментарием следующие строки:

О PrivacyOptions=authwarnings
О PrivacyOptions=noexpn
О PrivacyOptions=novrfy

Можно также в одной команде перечислить все параметры через запятую:

О PrivacyOptions=authwarnings,noexpn,novrfy

Наиболее опасной для сервера может оказаться опция VRFY, которая позволяет проверить существование почтового ящика. Именно ее запрещает третья строка (третий параметр) в данном примере.

Вторая строка устанавливает параметр noexpn, запрещающий команду EXPN, которая позволяет по почтовому псевдониму определить адрес E-mail или даже имя пользователя. С помощью этой директивы хакеры могут собирать списки для рассылки спама. Не стоит давать в руки злоумышленника такую информацию.

8.4.5. Выполнение внешних команд

В почтовом сервисе есть одна серьезная проблема — ему необходимо выполнять системные команды, а это всегда опасно. Если хакер сможет запустить такую