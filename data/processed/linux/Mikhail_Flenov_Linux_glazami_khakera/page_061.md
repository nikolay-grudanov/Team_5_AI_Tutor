---
source_image: page_061.png
page_number: 61
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.89
tokens: 8068
characters: 2829
timestamp: 2025-12-24T04:20:33.321103
finish_reason: stop
---

2.12. Устройство Linux: ядро и модули

Я не буду здесь вдаваться в самые глубокие дебри устройства Linux, но о базовых вещах мы поговорим. Я постараюсь затронуть те вопросы, которые могут вам пригодиться.

Сердце любой ОС — это ее ядро (Kernel). У Linux ядро расположено в каталоге /boot и имеет имя файла vmlinuz-xxxx, где xxxx — это номер версии. Версии именно ядра, а не ОС.

В каталоге /boot может находиться более одного файла ядра, и какой именно загружать из них при старте системы, определяется конфигурацией загрузчика.

Современные версии ядра Linux имеют модульную архитектуру. В упомянутом ранее файле ядра находится только необходимый функционал. Он является самым важным, потому что если в ядре есть ошибки или какие-то проблемы совместимости, то проблемы будут у всей системы.

Модули ядра Linux позволяют легко добавлять необходимый системе функционал, они имеют расширение ko и расположены в каталоге /lib/modules/xxxx, где xxxx — так же номер версии ядра. Если ядро Linux занимает всего несколько мегабайт, то модулей сейчас устанавливается более 100 мегабайт. И далеко не все они загружаются автоматически при старте системы.

Почему так много модулей ядра? Большинство из этих файлов являются драйверами различных устройств — и такое количество модулей позволяет Linux поддерживать огромное количество различного оборудования прямо из коробки. В зависимости от установленного оборудования может загружаться тот или иной модуль, так что очень часто вам и не приходится искать драйвер в Интернете.

Для добавления в систему новых возможностей ее вовсе не требуется перегружать полностью, достаточно только загрузить нужный модуль. Это и происходит, когда вы подключаете какое-то новое устройство — например, по USB.

С точки зрения безопасности и, возможно, даже производительности, на серверах ядро можно перекомпилировать и включить в него все необходимые модули. После этого динамическую загрузку модулей следует отключить, потому что к серверам не так часто подключают устройства по USB, да и оборудование меняют не столь часто, чтобы понадобилась загрузка модулей.

Но даже если вы работаете не с серверной системой, лучше перекомпилировать ядро и включить в него только необходимые вам модули. Производители дистрибутивов не делают этого, потому что опытный пользователь сможет сделать подобное сам, а включать в ядро вообще все модули не имеет смысла, потому что сложнее будет его обновлять, кроме того, возможно, при этом придется загружать в память лишние модули, которые на самом деле не нужны.

При монолитном ядре, когда все скомпилировано в один файл, обновлять его, в общем-то, не так уж и сложно, просто требуется выполнение некоторых лишних действий, которые не стоят того, чтобы делать их на домашних системах, поэтому домашние Linux-компьютеры оставляют с модульной архитектурой. Есть проекты,