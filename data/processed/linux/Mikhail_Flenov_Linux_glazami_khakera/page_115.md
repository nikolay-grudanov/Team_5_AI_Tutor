---
source_image: page_115.png
page_number: 115
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.02
tokens: 8166
characters: 2527
timestamp: 2025-12-24T04:22:13.872042
finish_reason: stop
---

3.8.4. Настройка загрузчика

Ядро скомпилировано, и теперь его нужно добавить в загрузчик GRUB. Самый простой вариант — скопировать текущее меню и изменить его заголовок и параметр kernel, чтобы он указывал на новый файл.

Перезагрузите систему, и теперь при старте компьютера вы сможете выбирать, какое ядро загружать. При этом будут использоваться одни и те же конфигурационные файлы, что очень удобно. Если новое ядро окажется неработоспособным, достаточно перезагрузить компьютер со старым ядром и продолжить работу до выхода обновлений.

3.8.5. Работа с модулями

Система должна загружаться только с теми модулями, которые применяются. Все остальные должны подгружаться по мере необходимости и отключаться, когда не используются.

В разд. 3.2 мы уже рассматривали процесс загрузки сервисов, но модули ядра — это немного другое. Они выполняются на более низком уровне, который в основном позволяет работать с устройствами, управлять памятью и т. д. При модульной компиляции вы можете включать и выключать функции уровня ядра с помощью следующих команд.

lsmod

С помощью команды lsmod можно увидеть список загруженных модулей. Результат выполнения инструкции имеет примерно следующий вид:

<table>
  <tr>
    <th>Module</th>
    <th>Size</th>
    <th>Used by</th>
    <th>Not tainted</th>
  </tr>
  <tr>
    <td>binfmt_misc</td>
    <td>7428</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>autofs</td>
    <td>11812</td>
    <td>0</td>
    <td>(autoclean) (unused)</td>
  </tr>
  <tr>
    <td>tulip</td>
    <td>42240</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>ipchains</td>
    <td>42216</td>
    <td>6</td>
    <td></td>
  </tr>
  <tr>
    <td>ide-cd</td>
    <td>30240</td>
    <td>0</td>
    <td>(autoclean)</td>
  </tr>
  <tr>
    <td>cdrom</td>
    <td>32000</td>
    <td>0</td>
    <td>(autoclean) [ide-cd]</td>
  </tr>
  <tr>
    <td>ext3</td>
    <td>62284</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>jbd</td>
    <td>39804</td>
    <td>1</td>
    <td>[ext3]</td>
  </tr>
</table>

modinfo

Очень трудно разобраться, какие модули нужны в системе, а какие нет. А ведь необходимо загружать только то, что действительно используется, иначе увеличивается время старта системы, понапрасну расходуются ресурсы компьютера и т. д. Так как же в этом разобраться? Необходимо знать каждый модуль "в лицо" и понимать, для чего он нужен.

Получить информацию о модуле помогает команда modinfo. В качестве параметра нужно передать имя интересующего модуля, и на экране будет выведена информа-