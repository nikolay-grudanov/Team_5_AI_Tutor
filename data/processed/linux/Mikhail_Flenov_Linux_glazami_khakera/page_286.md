---
source_image: page_286.png
page_number: 286
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.47
tokens: 7826
characters: 2047
timestamp: 2025-12-24T04:26:54.247041
finish_reason: stop
---

можность может оказаться полезной, если нельзя устанавливать шлюз, а разрешен только прокси-сервер;

offline_mode параметр — режим работы. Если параметр равен on, то squid будет взаимодействовать только с кэшем, и обращений к Интернету не будет. Если запрашиваемой страницы в кэше нет, то пользователь увидит ошибку. Чтобы squid мог обращаться к Интернету, необходимо установить параметр off (установлено по умолчанию).

9.4. Права доступа к squid

Это самая больная тема для любого администратора. Да, и в squid тоже есть права доступа, и они также описываются в конфигурационном файле /etc/squid/squid.conf. Но мы рассматриваем права отдельно, потому что основной упор делаем на безопасность. Именно поэтому этой теме отведен отдельный раздел.

9.4.1. Список контроля доступа

Первое, с чем нам предстоит познакомиться, — это ACL (Access Control List, список контроля доступа), который предоставляет большие возможности для дальнейшей настройки прав доступа к сайтам. С помощью списка имен вы как бы группируете действия или пользователей. Используйте для этого следующую директиву:

acl имя тип параметр

У данной директивы три параметра:

имя — может быть любым, но лучше всего, если оно будет описывать выполняемые действия;
параметр — задает шаблон или строку, смысл которой зависит от типа записи (второй аргумент);
тип — может принимать следующие значения: src, dst, srcdomain, dstdomain, url_pattern, urlpath_pattern, time, port, proto, proxy_auth, method, browser, user.
Рассмотрим основные типы, которые вам пригодятся при формировании последнего параметра (шаблона):

• src — задаются IP-адреса пользователей;
• dst — указываются адреса серверов;
• port — определяется номер порта;
• proto — описывается список протоколов (через пробел);
• method — указывается используемый метод, например: POST, GET и т. д.;
• proxy_auth — определяется список имен пользователей, значения разделяются пробелами. В качестве имени можно использовать REQUIRED, чтобы принимались любые действительные для сервера имена (acl password proxy_auth REQUIRED);