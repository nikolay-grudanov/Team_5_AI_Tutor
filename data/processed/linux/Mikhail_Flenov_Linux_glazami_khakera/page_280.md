---
source_image: page_280.png
page_number: 280
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.04
tokens: 7966
characters: 2439
timestamp: 2025-12-24T04:26:46.319945
finish_reason: stop
---

что необходимо настроить. Такие директивы имеют формат xxxx_port. Для порта HTTP запись будет выглядеть таким образом:

http_port 8080

При конфигурировании браузера на клиентском компьютере вы должны будете указать IP-адрес сервера, где установлен squid, и прописанный в данной директиве порт;

hierarchy_stoplist — определяет перечень URL-адресов, данные с которых всегда должны получаться с сервера, а не из кэша. Я рекомендую добавить в этот список слова cgi-bin и вопросительный знак. Адреса URL, содержащие такой текст, указывают на сценарии, которые могут исполняться на сервере, и их результат желательно не кэшировать.

Рассмотрим пример. Предположим, что вы прочитали веб-страницу www.servername.com/cgi-bin/ping.cgi, на которой можно через веб-интерфейс выполнить команду ping. Допустим, что при первом обращении вы запустили команду ping к адресу 18.1.1.1. Результат будет сохранен в кэше прокси-сервера. В следующий раз вы обращаетесь к сценарию, чтобы выполнить ping 18.1.1.18, но браузер вернет первый результат, потому что возьмет его из своего кэша.

Страницы со сценариями могут возвращать разный результат в зависимости от ситуации и параметров, которые выбрал пользователь. Если же такие страницы кэшировать, то вы всегда будете видеть одно и то же. В результате от соединения через прокси-сервер вы получите только неудобства.

Вопросительный знак очень часто используется для передачи параметров, поэтому такие страницы тоже не рекомендуется кэшировать.

Тег hierarchy_stoplist запрещает брать страницу из кэша, а следующие две строки задают правило, по которому страницы с URL-адресом, содержащие слова cgi-bin или вопросительный знак, вообще не будут кэшироваться:

acl QUERY urlpath_regex cgi-bin \?
no_cache deny QUERY

Думаю, вы согласитесь со мной, что незачем кэшировать то, что все равно при новом запросе будет получаться с сервера, и зря расходовать дисковое пространство.

9.3.2. Директивы настройки FTP

Для работы по протоколу FTP тоже есть несколько директив:

ftp_passive параметр — режим работы. Если в качестве параметра указано значение on (устанавливается по умолчанию), то пассивный режим разрешен.

Сервер squid позволяет работать с протоколом FTP, но для этого может потребоваться дополнительная настройка. Например, если squid находится за сетевым экраном, запрещающим пассивный режим, то лучше изменить значение параметра по умолчанию, установив для этого следующую директиву:

ftp_passive off