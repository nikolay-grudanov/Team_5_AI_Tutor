---
source_image: page_092.png
page_number: 92
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.85
tokens: 7985
characters: 2420
timestamp: 2025-12-24T04:21:27.817135
finish_reason: stop
---

3.3.2. Забытый пароль

Что делать, если вы забыли пароль, или хакер проник в систему и изменил его? Действительно, ситуация не из приятных, но все решаемо. Если у вашей учетной записи есть доступ к файлу /etc/shadow, то можно заняться его редактированием, а если нет, то посмотрим, как получить доступ из загрузочной дискеты.

Загрузившись с дискеты, вы должны войти в систему как root и подключить тот жесткий диск (или раздел диска), на котором находится папка /etc. Для этого нужно выполнить команду:

/sbin/mount -w hdal /mnt/restore

Теперь каталог /mnt/restore (желательно, чтобы он существовал до выполнения команды) указывает на главный раздел вашего жесткого диска, а файл паролей находится в каталоге /mnt/restore/etc/shadow. Откройте этот файл в любом редакторе и удалите пароль администратора root (просто сотрите весь текст между первым и вторым знаком двоеточия). В моем случае получилось:

root::12726:0:99999:7::

Теперь обычным способом загружайте систему и в качестве имени пользователя вводите имя root. У вас даже не спросят пароль, потому что он "пустой". Не забудьте потом поменять пароль, иначе ситуация останется опасной для жизни. Это как электрику работать под высоким напряжением без средств защиты :).

Для смены пароля вы должны набрать команду passwd root, в ответ запустится программа, которая попросит вас дважды ввести символы пароля. Такой подход исключает случайную опечатку при наборе и может с большой долей вероятности гарантировать, что сохранен верный пароль. Ведь если вы случайно наберете не тот символ и не заметите этого, то не сможете потом воспроизвести пароль. При двойном вводе дважды допустить одну и ту же ошибку проблематично, хотя и возможно.

3.3.3. Модули аутентификации

Аутентификация на основе двух файлов: /etc/passwd и /etc/shadow — немного устарела и предоставляет нам слишком скудные возможности. Разработчики ядра ОС Linux стараются исправить ситуацию с помощью добавления новых алгоритмов шифрования, но все эти попытки чисто косметические, а нам необходимо кардинальное изменение.

Абсолютно новое решение для реализации аутентификации предложила компания Sun — PAM (Pluggable Authentication Modules, подключаемые модули аутентификации).

Преимущество модульной аутентификации заключается в том, что для их использования не требуется перекомпиляции программы. Существуют модули для основных методов аутентификации, таких как: Kerberos, SecureID, LDAP и др.