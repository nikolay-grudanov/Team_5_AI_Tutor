---
source_image: page_401.png
page_number: 401
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.69
tokens: 7873
characters: 1967
timestamp: 2025-12-24T04:30:18.064387
finish_reason: stop
---

ютеров с процессором Pentium. ОС не использовала DMA в целях совместимости с более старыми компьютерами, поэтому функцию приходилось включать самостоятельно.

В современных дистрибутивах поддержка DMA уже включена, но работу винчестера можно и дальше оптимизировать. Для тестирования и настройки жесткого диска служит утилита hdparm. Для определения скорости работы диска выполните команду с ключом -t:

hdparm -t /dev/hda

В ответ вы получите сообщение типа:

Timing buffered disk reads: 64 MB in 3.02 seconds = 21.19MB/sec

Попробуйте в качестве параметра указать раздел:

hdparm /dev/hda2

В результате будут выведены параметры жесткого диска:

/dev/hda2:
multcount      = 128 (on)
IO_support     = 0 (default 16-bit)
unmaskirq      = 0 (off)
using_dma      = 1 (on)
keepsettings   = 0 (off)
readonly       = 0 (off)
readahead      = 8 (on)
geometry       = 2088/255/63, sectors = 32515560, start = 1028160

Из этого сообщения можно узнать много интересного:

- multcount — количество слов, читаемых за один такт. Эта опция должна быть включена, и желательно установить значение 128. Это может повысить производительность на 30–50 %. Для изменения значения служит ключ -mX, где X — это устанавливаемое значение;

- using_dma — режим DMA. Для включения применяется ключ -d1;

- IO_support — режим доступа к диску. По умолчанию стоит 16-битный, но сейчас уже можно использовать 32-битный режим. Для включения служит ключ -c3.

Это основные три параметра, которые могут реально повысить производительность. Итак, давайте установим значения в соответствии с приведенными рекомендациями. Для этого выполните команду:

hdparm -m128d1c3 /dev/hda

Как видите, мы просто перечислили все ключи и указали диск /dev/hda. Обратите внимание, что при определении устройства не стоит никаких цифр, которые указывали бы на раздел, т. к. доступ можно изменить только жесткому диску в целом.

После изменения параметров их необходимо сохранить с помощью команды:

hdparm -k1 /dev/hda