---
source_image: page_083.png
page_number: 83
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.68
tokens: 7980
characters: 2488
timestamp: 2025-12-24T04:21:08.032690
finish_reason: stop
---

Символьные ссылки

Символьная ссылка указывает не на данные, а на имя файла. Это дает некоторые преимущества, но одновременно вызывает большое количество проблем. Для создания символьной ссылки нужно использовать команду ln с ключом -s. Например:

ln -s link.txt symbol.txt

Посмотрим на результат с помощью команды ls -il:

913021 -rw-r--r-- 1 root root 519 Feb 22 12:19 link.txt
913193 l rwxrwxrwx 1 root root 8 Feb 22 12:40 symbol.txt -> link.txt

Теперь дескрипторы файлов разные, но для link.txt первый символ следующей колонки представлен буквой l. Как раз она и указывает на то, что мы имеем дело с символьной ссылкой. В третьей колонке стоит единица, а последняя колонка после знака -> содержит имя файла, на который указывает ссылка.

Попробуем удалить основной файл и после этого просмотреть содержимое ссылки symbol.txt:

rm link.txt
ls -il
cat symbol.txt

В первой строке мы удаляем файл link.txt. Вторая команда отображает список каталогов. Убедитесь, что файла link.txt нет. Если вы используете дистрибутив Red Hat, то команда ls, скорее всего, имеет псевдоним, который позволяет в зависимости от типа файла отображать его различными цветами. Если нет, то замените вторую команду на ls --color=tty -il

Строка, содержащая информацию о ссылке symbol.txt, должна быть красного цвета, а текст — мигающий белый. Это говорит о том, что ссылка "битая", т. е. указывает на несуществующий файл. Команда cat symbol.txt пытается отобразить содержимое ссылки. Так как файла нет, мы увидим сообщение об ошибке.

Самое интересное, что если попытаться записать какие-либо данные в файл symbol.txt, то файл link.txt будет автоматически создан. Это огромный недостаток, поэтому вы должны следить за символьными ссылками перед удалением файлов, ведь пользователь сможет создать файл, который был удален.

Второй недостаток символьных ссылок кроется в правах доступа, но мы их будем рассматривать в главе 4.

Еще один минус таится в блокировках. Если открыть на редактирование файл, для которого создана символьная или жесткая ссылка, то он блокируется. Представим себе, что существует ссылка на файл /etc/passwd или /etc/shadow. При блокировке одного из них вход в систему станет невозможным.

Чтобы взломщик не смог воспользоваться блокировками, его права на запись в системные каталоги должны быть ограничены. А пользователь в большинстве случаев должен иметь разрешение писать только в свой домашний каталог и каталог /tmp. Иногда при разделении файлов может потребоваться работа с чужими