---
source_image: page_141.png
page_number: 141
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.46
tokens: 7764
characters: 1728
timestamp: 2025-12-24T04:22:42.829214
finish_reason: stop
---

Рис. 4.1. Схема работы окружения chroot

Если хакер проникнет в систему через защищенную службу и захочет просмотреть каталог /etc, то он увидит каталог /home/chroot/etc, но никак не системный /etc. Чтобы взломщик ничего не заподозрил, в папке /home/chroot/etc можно расположить все традиционно находящиеся в системной папке /etc файлы, но здесь содержащие некорректную информацию. И злоумышленник, запросив файл /etc/passwd через уязвимый сервис, получит доступ лишь к файлу /home/chroot/etc/passwd, потому что служба видит его системным.

При этом файл /home/chroot/etc/passwd может содержать ложную информацию. На работу системы в целом это не повлияет, потому что ОС будет брать пароли из файла /etc/passwd, службе же реальные коды доступа в систему не нужны, так что в файл /home/chroot/etc/passwd можно засунуть все, что угодно.

4.7.2. Установка Jail

Встроенная в Linux-систему программа chroot, создающая на сервере виртуальные пространства, сложна для применения и не очень удобна — приходится выполнять слишком много операций. Именно поэтому администраторы больше любят программу Jail, которую можно найти в Интернете по адресу http://www.jmcresearch.com/projects/jail/. Скачайте ее и поместите архив в свой каталог. Для того чтобы его разархивировать, выполните следующую команду:

tar xzvf jail.tar.gz

В текущем каталоге появится новый каталог jail с исходным кодом программы. Да, именно с исходным, потому что код открыт, и программа поставляется в таком виде.

Теперь нужно перейти в каталог jail/src (командой cd jail/src) и отредактировать файл Makefile (например, встроенным редактором MS). В самом начале файла идет множество комментариев, и их мы опустим. После этого вы сможете увидеть следующие параметры: