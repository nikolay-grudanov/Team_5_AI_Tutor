---
source_image: page_268.png
page_number: 268
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.32
tokens: 8018
characters: 2684
timestamp: 2025-12-24T04:26:39.767801
finish_reason: stop
---

Однажды мой сервер, с которого происходит продажа программного обеспечения, был заблокирован в одном из спам-листов. Это были времена, когда в черные списки попадали и по делу, и просто так. Когда я рассылал своим пользователям их регистрационные ключи, то 10 % сообщений возвращалось. В результате некоторые пользователи не могли работать с нашими программами. Это продолжалось в течение месяца, пока составители спам-листа не убедились, что он перестал быть эффективным, и стали искать другие методы.

Фильтрация сообщений

Более точный метод — блокировка сообщений по их содержимому. Специализированная программа анализирует всю информацию, которая проходит через сервер, и ищет характерные признаки спам-рассылки. Если определяется, что письмо содержит спам, то оно удаляется.

Этот способ более эффективен, но по тексту очень сложно определить, является ли письмо рекламной рассылкой. Хакеры постоянно ищут новые пути обхода таких блокировок, поэтому процент фильтрации невысок. Вы можете настроить программу так, что она будет уничтожать все сообщения, в которых есть слова "купи", "продаю" и тому подобные термины, характерные для спама, но тогда могут быть удалены и необходимые вам письма.

Я не буду советовать никаких программ фильтрации нежелательной почты, потому что не вижу идеального решения. Но если вы захотите использовать подобный способ, то могу только обратить ваше внимание на программу SpamAssassin (spamassassin.apache.org). В ней реализовано множество проверок, которые позволяют достаточно эффективно определять нежелательные сообщения.

Помимо этого, может пригодиться изменение параметра MaxRcptsPerMessage (команда сервера sendmail), который устанавливает максимальное количество получателей сообщения. Если их более 100, то это однозначно указывает на спам. Впрочем, в некоторых организациях используются почтовые рассылки всем сотрудникам, которые могут содержать до 1000 адресатов. В этом случае может быть уничтожено очень важное письмо, поэтому необходимо, чтобы администраторы отправляли письма не более чем 100 получателям за один раз.

8.6.2. Блокировка пересылки спама

При конфигурации почтового сервиса вы должны сделать так, чтобы злоумышленники не смогли посылать свой спам через ваш сервер. Вам необходимо произвести несколько настроек, чтобы массовая рассылка перестала быть эффективной:

☐ по умолчанию протокол SMTP не требует авторизации, поэтому любой пользователь может подключиться к серверу и отправить письмо кому угодно. Чтобы избежать этого, можно выполнить одно из следующих действий:
• запретить с помощью сетевого экрана подключение к порту SMTP пользователей, которые находятся вне вашей сети. Такую защиту чаще всего исполь-