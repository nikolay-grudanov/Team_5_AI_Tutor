---
source_image: page_240.png
page_number: 240
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.20
tokens: 7925
characters: 2366
timestamp: 2025-12-24T04:25:43.183980
finish_reason: stop
---

После выполнения этой команды перед вами появится приглашение ввести пароль для нового пользователя robert и подтвердить его. В результате будет создан файл mypasswd, содержащий одну запись для пользователя robert с указанным вами паролем;

-т — использовать модифицированный Apache алгоритм MD5 для паролей. Это позволит переносить созданный файл на любую другую платформу (Windows, UNIX, BeOS и т. д.), где работает веб-сервер Apache. Такой ключ удобен, если у вас разнородная сеть, и один файл с паролями используется на разных серверах;
-d — применить системную функцию crypt() для шифрования;
-s — применить SHA-шифрование (на базе алгоритма хеширования), которое используется на платформе Netscape;
-p — не шифровать пароли. Я не рекомендую использовать этот ключ, потому что он небезопасен;
-n — не вносить никаких изменений, а только вывести результат на экран.

Для добавления нового пользователя можно выполнить команду без указания ключей, а передать в качестве параметров только имена файла и пользователя:

htpasswd .htaccess Flenov

Надо отметить, что хотя пароль можно задавать в командной строке, делать это не следует, поскольку такая команда небезопасна. Команда может сохраниться в истории командной оболочки, и незашифрованный пароль таким (или другим) образом окажется известным хакеру. Если пароль не задан, но требуется, то программа запросит его в интерактивном режиме.

У команды htpasswd есть два ограничения: в имени пользователя не должно быть символа двоеточия, и пароль не может превышать 255 символов. Оба условия достаточно демократичны, и с ними можно смириться. Из моих знакомых столь длинный пароль пока еще никто не захотел устанавливать, а использовать имя пользователя с двоеточием редко кому приходит на ум.

7.5.3. Проблемы авторизации

Авторизация — это слишком простой способ обеспечения безопасности. При передаче пароли шифруются простым кодированием Base64. Если хакер сможет перехватить пакет, содержащий имя пользователя и пароль, то он прочитает эту информацию через пять секунд. Для расшифровки Base64 не нужно подбирать пароль, достаточно выполнить одну функцию, которая декодирует практически моментально.

Для создания реально безопасного соединения необходимо сначала зашифровать весь трафик с помощью программы stunnel или уже готового протокола HTTPS, который использует SSL. О нем мы еще поговорим в разд. 7.9.