---
source_image: page_239.png
page_number: 239
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.66
tokens: 7910
characters: 2209
timestamp: 2025-12-24T04:25:39.191591
finish_reason: stop
---

Эти же параметры можно указывать и в файле httpd.conf, например:

<directory /var/www/flenov/secret>
AuthType Basic
AuthName "By Invitation Only"
AuthUserFile /pub/home/flenov/passwd
Require valid-user
</directory>

Чем станете пользоваться вы, зависит от личных предпочтений. Мне больше нравится работать с файлом .htaccess, потому что настройки безопасности будут храниться в том же каталоге, на который устанавливаются права. Однако это небезопасно, потому что хакер может получить возможность прочитать этот файл, что не есть хорошо.

Использование централизованного файла httpd.conf дает преимущества, т. к. он находится в каталоге /etc, который не входит в корень веб-сервера и должен быть запрещен для просмотра пользователям.

7.5.2. Файлы паролей

Теперь нам предстоит узнать, как создаются файлы паролей и как ими управлять. Директива AuthUserFile для хранения информации об авторизации использует простой текстовый файл, в котором содержатся строки следующего вида:

flenov:{SHA}1ZZEBtPy4/gdHsyztjUEWb0d90E=

В этой записи два параметра, разделенных двоеточием. Сначала указано имя пользователя, а после разделителя — зашифрованный по алгоритму MD5 пароль. Формировать такой файл вручную сложно и не имеет смысла, поскольку для облегчения жизни администраторов есть утилита htpasswd. С помощью этой программы создаются и обновляются имена и пароли для базовой аутентификации веб-сервером HTTP-пользователей.

Удобство программы в том, что она может шифровать пароли и по алгоритму MD5, и с помощью системной функции crypt(). В одном файле могут находиться записи с обоими типами паролей.

Если вы храните имена и пароли в формате базы данных DBM (для ее указания в файле .htaccess служит директива AuthDBMUserFile), то для управления ею нужно применять команду dbmmanage.

Давайте рассмотрим, как пользоваться программой htpasswd. Общий вид вызова команды выглядит следующим образом:

htpasswd ключ файл_имя пароль

Пароль и имя файла являются необязательными, и их наличие зависит от указанных опций. Основные ключи программы:

-с — создать новый файл. Если указанный файл уже существует, то он перезаписывается, и старое содержимое теряется. Например, можно написать:

htpasswd -c mypasswd robert