---
source_image: page_313.png
page_number: 313
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.50
tokens: 7712
characters: 1611
timestamp: 2025-12-24T04:27:35.436945
finish_reason: stop
---

Рис. 10.2. Файл sendmail.cf, полученный с Linux-сервера в ASCII-режиме

Ну а если передать из Linux в Windows в текстовом режиме двоичный файл, то любой символ <CR> (а он может встретиться и в таком файле) будет заменен на пару символов <CR> и <LF>, и после этого файл может стать нечитаемым.

10.1.4. Режим канала данных

Мы уже говорили о том, что для работы с FTP-сервером необходимы два канала. Порт 21 является управляющим, и по нему передаются только команды FTP. Для передачи файлов создается отдельное соединение. Этот процесс можно описать следующим образом:

1. Программа-клиент открывает порт на компьютере, куда сервер должен передать содержимое файла.
2. Серверу направляется запрос на скачивание файла и сообщается порт и IP-адрес клиентского компьютера, с которым он должен соединиться.
3. Сервер инициализирует соединение с компьютером клиента и начинает передачу данных.

Такой режим называется активным, потому что соединение устанавливает сервер. Проблема кроется в последнем действии. Если у вас установлен сетевой экран, то, скорей всего, любые подключения извне запрещены, чтобы хакер не смог подобраться к компьютерам вашей сети. Соединения должны инициализировать только ваши компьютеры, а не внешние.

В результате в активном режиме через правильно настроенный сетевой экран протокол FTP работать не будет. Если же разрешить внешним программам устанавливать соединения, то придется отключить сетевой экран, и он уже ничего не защитит.

Чтобы решить проблему работы через сетевой экран, был разработан пассивный режим. В большинстве серверов и клиентских программ именно его теперь начи-