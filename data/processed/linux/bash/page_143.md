---
source_image: page_143.png
page_number: 143
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.92
tokens: 7443
characters: 1677
timestamp: 2025-12-23T23:07:12.900949
finish_reason: stop
---

201010 1020 70
    **** rescaling: MAX=87
201010   1020   70:###############################################
201010 1020 75
201010   1020   75:###############################################
^C

В этом примере ввод смешивается с выводом. Вы также можете поместить ввод в файл и перенаправить его в сценарий, чтобы увидеть только вывод:

$ bash livebar.sh < testdata.txt
bash livebar.sh < x.data
201010   1020   20:###############################################
    **** rescaling: MAX=87
201010   1020   70:###############################################
201010   1020   75:###############################################
$

Выводы

Лог-файлы могут помочь разобраться в работе системы. Но они поступают в больших количествах, что усложняет их анализ. Эту проблему можно свести к минимуму, создав ряд сценариев для автоматического форматирования, агрегирования данных и создания оповещений.

В следующей главе мы рассмотрим, как подобные методы можно использовать для мониторинга сетей и отслеживания изменений в конфигурации.

Упражнения

1. Чтобы установить интервал в секундах, добавьте в сценарий tailcount.sh параметр -i.
2. Добавьте в сценарий livebar.sh параметр -M, чтобы определить ожидаемый максимум входного значения. Используйте для анализа ваших параметров встроенный анализатор аргументов getopts.
3. Как в сценарий livebar.sh добавить параметр -f, который будет фильтровать данные с помощью grep? С какими проблемами вы можете столкнуться? Какой подход вы могли бы использовать для решения этих проблем?
4. Измените файл wintail.sh так, чтобы пользователь мог указать журнал Windows, который будет отслеживаться с помощью аргумента, переданного командной строке.