---
source_image: page_039.png
page_number: 39
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.19
tokens: 7443
characters: 1835
timestamp: 2025-12-23T23:03:05.024038
finish_reason: stop
---

echo $VAL
done

Здесь переменная VAL, в свою очередь, будет принимать значение для каждого файла, который командой ls передается в grep и содержит буквы pdf в своем имени (например, doc.pdf или notapdffile.txt), а затем переменная VAL примет значение каждого числа от 0 до 5. Возможно, не очень разумно, чтобы переменная VAL иногда была именем файла, а иногда — одной цифрой, но это всего лишь пример.

Фигурные скобки можно использовать для создания последовательности чисел (или отдельных символов) {first..last..step}, где ..step может быть положительным или отрицательным и является опциональным. В последних версиях bash указание 0 приведет к тому, что числовые значения будут дополнены нулем до той же длины. Например, последовательность {090..104..2} будет заполнена четными цифрами, находящимися в диапазоне от 090 до 104 включительно, причем каждая цифра будет представлена в виде трех чисел.

Функции

Синтаксис функции в bash следующий:

function myfun ()
{
    # это тело функции
}

Не все эти компоненты обязательны. Вы можете указать или function, или (). Мы же будем использовать и ключевое слово, и скобки в основном для удобства чтения.

Есть несколько важных факторов, которые следует учитывать при работе с функциями bash.

☐ Если указанная внутри функции команда не объявлена как local, переменные в видимой области являются глобальными. Цикл for, устанавливающий и увеличивающий значение i, можно использовать в любом месте вашего кода.

☐ Скобки — это наиболее популярные символы для группировки в теле функции, но разрешен любой из составных синтаксисов команд оболочки. Хотя зачем, например, запускать функцию в подоболочке?

☐ Перенаправление ввода/вывода (I/O), заключенное в фигурные скобки, распространяется на все операторы внутри функции. Примеры такого перенаправления будут приведены в следующих главах.