---
source_image: page_093.png
page_number: 93
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.48
tokens: 7465
characters: 1966
timestamp: 2025-12-23T23:05:10.730808
finish_reason: stop
---

5 Помните, что те переменные оболочки внутри функции, которые не объявлены локальными, являются глобальными. Поэтому значение ABS, которое было задано при вызове mkabspath, нам здесь доступно.

6 Это наше объявление функции. При объявлении вы можете опустить или ключевое слово function, или скобки.

7 Для сравнения мы используем сопоставление с образцом оболочки, который расположен справа. В этом случае будет выполнена проверка, начинается ли первый параметр со слеша. Если это так, это уже абсолютный путь и нам больше ничего не нужно делать.

8 Когда параметр представляет собой только относительный путь, он относится к текущему местоположению, поэтому мы добавляем текущий рабочий каталог, в результате чего этот путь становится абсолютным. Переменная PWD — это переменная оболочки, которая устанавливается в текущий каталог с помощью команды cd.

Передача данных

После того как вы собрали все необходимые данные, для дальнейшего анализа их необходимо переместить из исходной системы. Для этого вы можете скопировать данные на съемное устройство или загрузить их на централизованный сервер. Если вы собираетесь загружать данные, убедитесь, что применяете безопасный метод, например Secure Copy (SCP). В следующем примере scp используется для загрузки файла some_system.tar.gz в домашний каталог пользователя bob, который находится в удаленной системе 10.0.0.45:

scp some_system.tar.gz bob@10.0.0.45:/home/bob/some_system.tar.gz

Для удобства в конце коллекции ваших сценариев вы можете добавить эту строку, чтобы автоматически использовать scp для загрузки данных на указанный хост. Не забудьте дать своим файлам уникальные имена, чтобы не перезаписывать существующие файлы, а также чтобы впоследствии было легче выполнять анализ.

Будьте осторожны при выполнении в сценариях аутентификации SSH или SCP. Не рекомендуется указывать в сценариях пароли. Лучше всего использовать сертификаты SSH. Ключи и сертификаты можно создать с помощью команды ssh-keygen.