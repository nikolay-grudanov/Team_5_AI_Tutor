---
source_image: page_223.png
page_number: 223
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 11.06
tokens: 7527
characters: 2022
timestamp: 2025-12-23T23:10:18.303426
finish_reason: stop
---

# переданного в качестве значения $1
# пример: asnum A == 65
#
function asnum ()
{
    printf '%d' "\"$1"        ④
}

Здесь используются две малопонятные команды printf, по одной для каждой функции.

① Чтобы не связываться с любыми переменными в сценарии, который может быть источником этого файла, начинаем с локальной переменной.

② Этот вызов printf принимает параметр функции ($1) и выводит его как шестнадцатеричное значение в формате \x, где двухзначное шестнадцатеричное число имеет нулевое заполнение. Первые два символа, обратный слеш и x необходимы для следующего вызова. Но эта строка в stdout не печатается. Параметр -v указывает printf хранить результат в заданной переменной оболочки (мы указали ashex).

③ Теперь берем строку в ashex и распечатываем ее, используя формат %b. Этот формат указывает printf печатать аргумент как строку, но интерпретировать любые найденные в строке escape-последовательности. Обычно escape-последовательности (например, \\n для новой строки) отображаются только в строке формата. Если они появляются в аргументе, то рассматриваются как простые символы. Но использование формата %b указывает printf интерпретировать эти последовательности в параметре. Например, первая и третья инструкции printf здесь печатают новую строку (пустую строку), тогда как вторая инструкция будет печатать только два обратных слеша и n:

printf "\n"
printf "%s" "\n"
printf "%b" "\n"

Используемая для функции aschar escape-последовательность принимает шестнадцатеричное число, обозначаемое обратным слешем (\x) и двузначным шестнадцатеричным значением, и выводит символ ASCII, соответствующий этому числу. Вот поэтому мы взяли переданное в функцию десятичное число и напечатали его в переменной ashex в формате этой escape-последовательности. В результате мы получим символ ASCII.

④ Преобразовать символ в число проще. С помощью функции print мы выводим символ в виде десятичного числа. Функция printf обычно выдает ошибку, если мы пытаемся напечатать строку в виде числа. Добавив обратный слеш, мы