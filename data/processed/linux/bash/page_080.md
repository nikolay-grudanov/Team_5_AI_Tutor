---
source_image: page_080.png
page_number: 80
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.09
tokens: 7537
characters: 2190
timestamp: 2025-12-23T23:04:38.428339
finish_reason: stop
---

Если строка не является комментарием, скрипт вызовет функцию SepCmds. Подробнее о ней мы расскажем позже; она разделяет строку ввода на CMD и TAG, где CMD будет подходящей командой для системы Linux или Windows, в зависимости от того, в какой системе мы запускаем скрипт.

9 Здесь опять же мы используем операцию подстроки с начала строки (позиция 0) длины 3, чтобы найти строку, которая указывает, что в этой конкретной операционной системе для данной информации нет соответствующей операции. Оператор continue указывает bash перейти к следующей итерации цикла.

10 Если необходимо выполнить соответствующие действия, в этом разделе кода по обе стороны от вызова команды будет напечатан заданный XML-тег. Обратите внимание, что мы вызываем команду, получая значение переменной CMD.

11 Здесь мы изолируем команду Linux от строки нашего входного файла, удаляя все символы справа от вертикальной черты, включая саму строку. Символы %% указывают, что самое длинное совпадение возможно в правой части значения переменной и нужно удалить его из возвращаемого значения (то есть ALINE не изменяется).

12 Добавив символ #, мы удаляем самое короткое совпадение слева от значения переменной. Таким образом, удаляется команда Linux, которая была только что помещена в LCMD.

13 Опять же мы удаляем все, что находится справа от вертикальной черты, но на этот раз работаем с REST, измененным в предыдущем выражении. Здесь мы получаем команду MSWindows.

14 В этих строках мы извлекаем тег XML с помощью тех же операций замещения, которые уже дважды рассматривали.

Все, что осталось в этой функции, — решить, основываясь на типе операционной системы, какое значение возвращать в CMD. Все переменные являются глобальными, если они явно не объявлены в функции как локальные. Ни одна из переменных не является локальной, поэтому их можно использовать (устанавливать, изменять) по всему сценарию.

При запуске данного сценария, как уже было показано ранее, вы можете использовать файл cmds.txt или изменить его значения, чтобы получить необходимую вам информацию. Вы также можете запустить его, не перенаправляя ввод из файла. Просто введите (или скопируйте/вставьте) входные данные после вызова сценария.