---
source_image: page_034.png
page_number: 34
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 8.11
tokens: 7323
characters: 1374
timestamp: 2025-12-23T23:02:52.939371
finish_reason: stop
---

Например, следующий скрипт пытается изменить каталоги в /tmp. Если эта команда выполнена успешно (возвращает 0), тело инструкции if будет выполнено.

if cd /tmp
then
    echo "here is what is in /tmp:"
    ls -l
fi

Bash таким же образом может обрабатывать конвейер команд:

if ls | grep pdf
then
    echo "found one or more pdf files here"
else
    echo "no pdf files found"
fi

В случае конвейера при проверке на успех/неудачу именно последняя команда определяет, будет ли выбрана true-ветвь. Вот пример, где этот факт имеет значение:

ls | grep pdf | wc

Эта серия команд будет «истинной», даже если команда grep не найдет строку pdf. Так происходит потому, что команда wc будет успешно выполнена и выведет следующее:

0   0   0

Этот вывод показывает нулевые строки, нулевые слова и нулевые байты (символы), когда от команды grep нет вывода данных. Это успешный (и, следовательно, верный) результат для wc, а не ошибка или сбой. Получено столько строк, сколько было дано, даже если для подсчета было предоставлено ноль строк.

В более типичной форме команды if, используемой для сравнения, применяется составная команда [[, встроенная команда оболочки [ или тест. Укажите их для проверки атрибутов файла или сравнения значений.

Чтобы проверить, существует ли файл в файловой системе, выполните следующую команду:

if [[ -e $FILENAME ]]
then
    echo $FILENAME exists
fi