---
source_image: page_280.png
page_number: 280
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 11.94
tokens: 7512
characters: 1955
timestamp: 2025-12-23T23:12:21.932883
finish_reason: stop
---

5 Запрос сайта Have I Been Pwned? производится с использованием URL-адреса REST API и первых пяти символов хеша пароля. Возвращаемый результат содержит как символы возврата каретки (\r), так и символы новой строки (\n). Чтобы избежать путаницы в среде Linux, мы удаляем символ возврата. Поиск результата ведется с помощью команды grep и символов хеша пароля, начиная с 6-го и заканчивая 40-м символом. Параметр -i используется, чтобы grep была нечувствительна к регистру.

6 Чтобы узнать, сколько раз данный пароль был взломан, мы удаляем ведущий хеш, то есть все символы до двоеточия, включая сам символ двоеточия. Это удаление префикса оболочки, где двойной хештег означает «самое длинное возможное совпадение», а звездочка — шаблон, который соответствует любым символам.

Обратите внимание, что сценарий checkpass.sh завершит свою работу с кодом состояния 0, если пароль найден, и с кодом 1, если пароль не найден. Это похоже на поведение не только grep, но и некоторых других команд оболочки, которые заняты поиском определенных данных. Если поиск не увенчался успехом, результатом будет вывод с ошибкой (ненулевой) (хотя в случае pwned можно считать, что это невыявленный успех).

Чтобы использовать сценарий, просто введите пароль в командную строку или при появлении запроса:

$ ./checkpass.sh password

Password is Pwned 3533661 Times!

Будьте осторожны при передаче паролей в качестве аргументов командной строки, так как они видны в полном списке состояния процесса (см. команду ps) и могут быть сохранены в файле истории bash. Предпочтительным методом будет чтение пароля из stdin (например, при запросе). Если сценарий является частью более сложного командного конвейера, сделайте пароль первой строкой для чтения из stdin.

Проверяем, не взломан ли адрес электронной почты

Проверка взломанного адреса электронной почты менее сложна, чем проверка пароля. Для начала вам понадобится URL API:

https://haveibeenpwned.com/api/v2/breachedaccount/