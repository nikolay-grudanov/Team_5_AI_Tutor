---
source_image: page_189.png
page_number: 189
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.44
tokens: 7459
characters: 1766
timestamp: 2025-12-23T23:08:59.641938
finish_reason: stop
---

tagit "td" "${f12plus}"
    echo "</tr>"
done < $1

# закрывающие теги
echo "</table>"
echo "</body>"
echo "</html>"

① Существует несколько способов распечатать длинный текст. Мы могли бы использовать здесь документ вместе с программой cat, допустим, так:

cat <<EOF
<html>
<body>
<h1>$1</h1>
...
EOF

Преимущество этого кода в том, что не требуется повторять все команды echo. Обратите внимание: все равно потребуется выполнить замену $1, если при вызове не будет ссылки на EOF в любой форме. Однако в этом решении есть один недостаток: в таком случае мы не сможем добавлять в наш ввод комментарии.

② Файл журнала — это файл фиксированного формата, по крайней мере для нескольких первых полей. Здесь мы можем прочитать каждую строку из файла журнала и разобрать ее на поля. Для чтения всех полей в массив можно использовать конструкцию read -a RA0FTXT, по одному полю для каждого индекса. Но при таком подходе становится сложно распечатать все оставшиеся поля, расположенные после 12-го. Поэтому все оставшиеся слова были включены в последнее поле, которое мы назвали f12plus.

③ Обратите внимание, что в этой и следующей строках два аргумента заключены в пару двойных кавычек. В данной строке объединены аргументы f4 и f5. После того как их совместно взяли в кавычки, для сценария tagit они превращаются в один аргумент ($2). Таким образом можно сделать вывод, что f12plus следует заключить в кавычки. При этом все слова в данном поле будут рассматриваться как один аргумент tagit.

На рис. 12.2 показан пример вывода из примера 12.3.

Прежде чем отправлять эти данные в сценарий, например в weblogfmt.sh, который их отформатирует, их следует отфильтровать и отсортировать. Для фильтрации и сортировки данных можно воспользоваться методами, описанными в главе 7.