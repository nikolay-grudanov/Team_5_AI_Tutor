---
source_image: page_161.png
page_number: 161
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 12.84
tokens: 7622
characters: 2161
timestamp: 2025-12-23T23:07:55.871908
finish_reason: stop
---

(baseline.txt) и сохраненный вывод, полученный с помощью команды find (filelist.txt).

Для правильной работы команды join требуется, чтобы оба файла были отсортированы с использованием одного и того же поля данных. При сортировке baseline.txt файл должен быть упорядочен по второму полю (-k2), поскольку требуется использовать путь к файлу, а не значение дайджеста сообщения. Необходимо также обязательно сопоставить одни и те же поля данных: поле 1 в файле filelist.txt (-1 1) и поле 2 в файле baseline.txt (-2 2). Если совпадение не найдено, параметр -a 1 указывает команде join выводить поле из первого файла:

$ join -1 1 -2 2 -a 1 <(sort filelist.txt) <(sort -k2 baseline.txt)

/home/dave/file3.txt 824c713ec3754f86e4098523943a4f3155045e19   ①
/home/dave/file4.txt   ②
/home/dave/filelist.txt
/home/dave/.profile dded66a8a7137b974a4f57a4ec378eda51fbcae6

① Было выполнено сопоставление, и мы определили, что данный файл существует как в filelist.txt, так и в baseline.txt.

② В данном случае совпадений не выявлено. Файл, обнаруженный в базовом файле filelist.txt, в baseline.txt отсутствует. Это значит, что обнаруженный файл новый, перемещенный или переименованный.

Чтобы идентифицировать новые файлы, вам нужно искать в выводе строки, которые не имеют дайджеста сообщения. Вы можете сделать это вручную или передать вывод в awk и отобразить строки со вторым пустым полем:

$ join -1 1 -2 2 -a 1 <(sort filelist.txt) <(sort -k2 baseline.txt) | awk '{if($2=="") print $1}'

/home/dave/file4.txt
/home/dave/filelist.txt

Другой способ идентифицировать новые файлы — использовать команду sdiff. Она выполняет параллельное сравнение двух файлов. Если не было добавлено или удалено большое количество файлов, baseline.txt и filelist.txt должны быть одинаковы. Поскольку оба файла с помощью команды find были созданы из одной и той же точки, они должны быть отсортированы в одном и том же порядке. Чтобы пропустить одинаковые строки и показать только разницу, команду sdiff следует использовать совместно с параметром -s:

$ cut -c43- ../baseline.txt | sdiff -s -w60 - ../filelist.txt

    >      ./prairie.sh
./why dot why   |   ./ex dot ex
./x.x           <