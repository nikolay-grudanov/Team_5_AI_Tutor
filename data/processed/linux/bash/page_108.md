---
source_image: page_108.png
page_number: 108
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.65
tokens: 7488
characters: 1578
timestamp: 2025-12-23T23:05:44.630068
finish_reason: stop
---

строку ProductionWebServer. Если в файле такая строка найдена, он добавляется (>>) к файлу ProductionWebServerAgg.txt. Замените команду cat командой cp и укажите каталог, в который будут копироваться все файлы, вместо того чтобы добавляться в один файл.

Можно также использовать команду join, чтобы взять данные, расположенные в двух файлах, и объединить их в один. Рассмотрим два файла (примеры 6.10 и 6.11).

Пример 6.10. ips.txt

ip,OS
10.0.4.2,Windows 8
10.0.4.35,Ubuntu 16
10.0.4.107,macOS
10.0.4.145,macOS

Пример 6.11. user.txt

user,ip
jdoe,10.0.4.2
jsmith,10.0.4.35
msmith,10.0.4.107
tjones,10.0.4.145

В файлах повторяется общий столбец данных, который представляет собой IP-адреса, и их можно объединить с помощью команды join:

$ join -t, -2 2 ips.txt user.txt

ip,OS,user
10.0.4.2,Windows 8,jdoe
10.0.4.35,Ubuntu 16,jsmith
10.0.4.107,macOS,msmith
10.0.4.145,macOS,tjones

Опция -t, указывает на то, что столбцы разделяются запятой; по умолчанию разделителем будет пробел.

Опция -2 2 указывает команде join использовать для выполнения слияния второй столбец данных во втором файле (user.txt). По умолчанию в качестве ключа join использует первое поле, которое соответствует первому файлу (ips.txt). При необходимости объединения по другому полю в ips.txt следует добавить опцию -1 n, где n заменяется соответствующим номером столбца.

Чтобы можно было воспользоваться командой join, оба файла должны быть отсортированы по столбцу, который будет использоваться для выполнения слияния. Для этого можно применить команду сортировки, которая рассматривается в главе 7.