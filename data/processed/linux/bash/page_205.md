---
source_image: page_205.png
page_number: 205
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.18
tokens: 7431
characters: 1770
timestamp: 2025-12-23T23:09:35.585106
finish_reason: stop
---

ду на выход. Параметр -e указывает команде echo интерпретировать escape-последовательность (\r\n) как символы, необходимые сокету TCP для завершения строки.

8 Здесь происходит считывание из файлового дескриптора 3 нашего TCP-соединения и запись данных, возвращенных в файл SCRATH. Обратите внимание на использование символов >>, определяющих, что файл не перезаписывается, а добавляется. В первый раз, когда мы выполняем запись в файл, этого делать не нужно. Добавление файла предусмотрено на случай, если понадобится переупорядочить код (это параллельная конструкция, когда все перенаправления в $SCRATH выглядят одинаково).

9 Поскольку для HTTP-соединения и добавления вывода в файл scratch мы можем использовать команду curl, /dev/tcp нам не понадобится.

10 На последнем этапе нам предстоит сбросить весь найденный вывод. Если бы ни один из портов не был открыт, в файл scratch ничего не было бы записано. В начале мы специально с помощью команды touch создаем новый файл, чтобы после объединения, выполняемого командой cat, не появлялась ошибка «Файл не найден».

Выводы

Разведка — один из самых важных шагов в любом тесте на проникновение. Чем больше данных о цели вы получите, тем легче будет запустить успешный эксплойт. При выполнении разведки будьте осторожны, чтобы слишком рано не раскрыть свои карты. Постарайтесь узнать, какие методы разведки могут быть обнаружены целью, а какие — нет.

В следующей главе мы рассмотрим методы обфускации сценариев, которые делают скрипты более трудными для анализа или выполнения, если они будут захвачены сетевыми защитниками (defender).

Упражнения

1. Создайте конвейер команд, использующих для извлечения веб-страницы команду curl, а затем выведите на экран все адреса электронной почты, найденные на этой странице.