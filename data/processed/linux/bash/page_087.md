---
source_image: page_087.png
page_number: 87
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.57
tokens: 7475
characters: 1783
timestamp: 2025-12-23T23:04:57.065411
finish_reason: stop
---

Как и ожидалось, file идентифицирует файл Title.png, который действительно не был изменен, как изображение PNG, а также предоставляет его размеры и различные другие атрибуты. Основываясь на этой информации, вам необходимо определить, какую часть вывода команды file использовать для поиска, и сгенерировать соответствующее регулярное выражение. Во многих случаях, например при криминалистической экспертизе, вам, вероятно, лучше собирать как можно больше информации — в дальнейшем вы всегда сможете дополнительно отфильтровать данные. Для этого вы будете использовать расширенное регулярное выражение, которое будет просто искать слово PNG в выводе команды file 'PNG'.

Конечно, для идентификации конкретных файлов вы можете создавать более сложные регулярные выражения. Например, если вы хотите найти PNG-файлы размером 100 × 100, выполните следующую команду:

'PNG.*100x100'

Если хотите найти файлы PNG и JPEG:

'(PNG|JPEG)'

Получив регулярное выражение, вы можете написать скрипт, запускающий команду file, которая будет искать совпадение для каждого файла в системе. Когда совпадение будет найдено, сценарий typesearch.sh, показанный в примере 5.4, перенаправит путь к файлу в стандартный вывод.

Пример 5.4. Сценарий typesearch.sh

#!/bin/bash -
#
# Bash и кибербезопасность
# typesearch.sh
#
# Описание:
# Поиск в файловой системе файлов указанного типа.
# Выводим путь, когда найдем.
#
# Использование:
# typesearch.sh [-c dir] [-i] [-R|r] <pattern> <path>
#   -c Копировать найденные файлы в каталог
#   -i Игнорировать регистр
#   -R|r Рекурсивный поиск подкаталогов
#   <pattern> Шаблон типа файла для поиска
#   <path> Путь для начала поиска
#

DEEPORNOT="-maxdepth 1"      # только текущий каталог; по умолчанию

# анализ аргументов опции:
while getopts 'c:irR' opt; do