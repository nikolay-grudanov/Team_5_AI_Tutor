---
source_image: page_158.png
page_number: 158
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 10.00
tokens: 7432
characters: 1815
timestamp: 2025-12-23T23:07:46.238126
finish_reason: stop
---

Общие параметры команды

-а — рассматривать все файлы как текстовые.
-i — игнорировать регистр.
-s — удалять общие строки для двух файлов.
-w — определить максимальное количество символов для вывода в строке.

Пример команды

Чтобы сравнить два файла и вывести только строки, которые отличаются, введите следующее:

sdiff -s file1.txt file2.txt

Шаг 1. Определение исходного состояния файловой системы

Определение исходного состояния файловой системы включает в себя вычисление цифровой последовательности сообщения (хеш-значения) каждого файла, находящегося в настоящее время в системе, и запись результатов в файл. Для определения исходного состояния вы можете использовать команды find и sha1sum:

SYSNAME="$(uname -n)_$(date +'%m_%d_%Y')" ; sudo find / -type f | xargs -d '\n' sha1sum > ${SYSNAME}_baseline.txt 2>${SYSNAME}_error.txt

Чтобы обеспечить доступ ко всем файлам, при работе в операционной системе Linux мы используем команду sudo. Для каждого найденного файла вычисляем хеш SHA1 с помощью sha1sum, но sha1sum вызываем командой xargs. Она помещает в командную строку sha1sum столько имен файлов (входных данных, которые она считывает из конвейера), сколько может (ограничивается памятью). Это будет намного эффективнее, чем вызывать команду sha1sum для каждого отдельного файла. Вместо этого данная команда будет вызываться один раз на каждые 1000 файлов или более (в зависимости от длины пути). Мы перенаправляем вывод в файл, содержащий как имя системы, так и текущую дату, — это важная информация для целей организации и определения времени. Мы также перенаправляем все сообщения об ошибках в отдельный файл журнала, который можно просмотреть позже.

В примере 10.1 показан созданный базовый файл вывода. Первый столбец содержит хеш SHA1, а второй столбец — файл, который представляет данный хеш.