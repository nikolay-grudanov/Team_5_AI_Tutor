---
source_image: page_091.png
page_number: 91
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 10.74
tokens: 7491
characters: 1664
timestamp: 2025-12-23T23:05:07.860978
finish_reason: stop
---

Пример 5.5. hashfilea.txt

This is hash file A

Пример 5.6. hashfileb.txt

This is hash file B

Обратите внимание, что файлы идентичны, за исключением последней буквы в предложении. Вы можете использовать команду sha1sum для вычисления дайджеста сообщений SHA-1 для каждого файла:

$ sha1sum hashfilea.txt hashfileb.txt

6a07fe595f9b5b717ed7daf97b360ab231e7bbe8 *hashfilea.txt
2959e3362166c89b38d900661f5265226331782b *hashfileb..txt

Несмотря на то что между этими двумя файлами есть небольшая разница, они генерируют совершенно разные хеши (дайджесты) сообщений. Если бы файлы были одинаковы, то и дайджесты сообщений оказались бы одинаковыми. Вы можете использовать это свойство хеширования для поиска определенного файла в системе, если знаете его дайджест. Преимущество в том, что на поиск не будут влиять имя файла, местоположение или любые другие атрибуты; недостаток в том, что файлы должны быть абсолютно одинаковы. Если содержимое файла каким-либо образом было изменено, поиск не даст результатов. Сценарий hashsearch.sh, показанный в примере 5.7, рекурсивно просматривает систему, начиная с местоположения, заданного пользователем. Этот сценарий вычисляет хеш SHA-1 для каждого найденного файла, а затем сравнивает вычисленное значение со значением, предоставленным пользователем. Если они совпадают, сценарий выводит путь к файлу.

Пример 5.7. hashsearch.sh

#!/bin/bash -
#
# Bash и кибербезопасность
# hashsearch.sh
#
# Описание:
# В указанном каталоге выполняем рекурсивный поиск
# файла по заданному SHA-1
#
# Использование:
#   hashsearch.sh <hash> <directory>
#   hash - Значение хеша SHA-1 разыскиваемого файла
#   directory - Каталог для поиска