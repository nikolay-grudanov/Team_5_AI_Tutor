---
source_image: page_145.png
page_number: 145
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 8.28
tokens: 7331
characters: 1394
timestamp: 2025-12-23T23:07:16.533800
finish_reason: stop
---

9 Инструмент: мониторинг сети

Раннее выявление вредоносных действий в сфере кибербезопасности повышает шанс быстро устранить эту опасность. Одним из таких методов обнаружения является мониторинг сети, определяющий появление новых или неожиданных сетевых служб (то есть открытых портов). Именно с помощью командной строки можно выявить вредоносные действия на раннем этапе.

В этой главе мы создадим инструмент, позволяющий отслеживать по всей сети изменения в открытых портах систем. Требования к инструменту следующие.

1. Прочитать файл, содержащий IP-адреса или имена хостов.
2. Выполнить для каждого упоминавшегося в файле хоста сканирование сетевых портов и определить открытые порты.
3. Сохранить вывод, полученный при сканировании портов, в файл. В имени этого файла должна быть указана текущая дата.
4. При повторном запуске сценария снова должно выполняться сканирование портов, а затем полученные результаты необходимо сравнить с ранее сохраненным последним результатом. Выявленные изменения должны выделяться на экране.
5. Автоматизировать ежедневный запуск сценария и при возникновении каких-либо изменений отправлять системному администратору сообщение по электронной почте.

Сканирование портов можно выполнить с помощью утилиты Nmap Ndiff. Но в целях обучения мы реализуем эту функцию, используя bash. Дополнительные сведения о Ndiff вы найдете по адресу https://nmap.org/ndiff.