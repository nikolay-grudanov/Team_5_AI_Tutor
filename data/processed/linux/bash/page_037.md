---
source_image: page_037.png
page_number: 37
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 8.86
tokens: 7404
characters: 1676
timestamp: 2025-12-23T23:02:59.946366
finish_reason: stop
---

При использовании символов && или || вам нужно сгруппировать несколько операторов, если в ветви then вы хотите выполнить более одного действия. Например:

[[ -d $DIR ]] || echo "error: no such directory: $DIR" ; exit

Эта команда всегда будет завершаться, независимо от того, является $DIR каталогом или нет, так как последней командой стоит exit.

Вероятно, вы хотите написать так:

[[ -d $DIR ]] || { echo "error: no such directory: $DIR" ; exit ; }

Здесь скобки сгруппируют оба оператора вместе.

Циклы

Цикл с оператором while по структуре похож на if в том смысле, что для принятия решения он может принимать одну команду или конвейер команд, выдающих true или false. В нем также можно использовать квадратные или круглые скобки, как в предыдущих примерах.

В некоторых языках программирования фигурные скобки (символы {}) предназначены для группировки операторов, которые находятся в теле цикла while. В таких языках программирования, как Python, тело цикла и его операторы определяются отступом. В bash операторы сгруппированы между двумя ключевыми словами: do и done.

Вот простой цикл while:

i=0
while (( i < 1000 ))
do
    echo $i
    let i++
done

Предыдущий цикл будет выполняться, пока значение переменной i меньше 1000. При каждом выполнении тела цикла на экран будет выводиться текущее значение переменной i. После того как значение переменной i отобразится на экране, цикл использует команду let для выполнения i++ в качестве арифметического выражения, увеличивая каждый раз значение i на 1.

Вот более сложный цикл while, который выполняет команды как часть своего условия:

while ls | grep -q pdf
do
    echo -n 'there is a file with pdf in its name here:'