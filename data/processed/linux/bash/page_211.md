---
source_image: page_211.png
page_number: 211
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 5.56
tokens: 7269
characters: 899
timestamp: 2025-12-23T23:09:44.258018
finish_reason: stop
---

Вот несколько приемов, которыми можно воспользоваться для обфускации логики:

- используйте вложенные функции;
- добавьте функции и переменные, которые не вредят функциональности сценария;
- напишите операторы if с несколькими условиями, где только одно условие может иметь верное значение;
- используйте вложенные операторы if и циклы.

В примере 14.4 показан сценарий, реализующий некоторые логические методы обфускации. Просмотрите его и, не читая пояснений, попробуйте понять, что он делает.

Пример 14.4. logfuscate.sh

#!/bin/bash -
#
# Bash и кибербезопасность
# logfuscate.sh
#
# Описание:
# Пример запутывания логики
#

f="$1"   ①

a() (
    b()
    {
        f="$((f+5))"   ⑤
        g="$((f+7))"   ⑥
        c   ⑦
    }
    b   ④
)

c() (
    d()
    {
        g="$((g-f))"   ⑩
        f="$((f-2))"   ⑪
        echo "$f"   ⑫
    }
    f="$((f-3))"   ⑧
    d   ⑨
)

f="$((f+$2))"   ②
a   ③