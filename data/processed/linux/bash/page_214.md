---
source_image: page_214.png
page_number: 214
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.92
tokens: 7505
characters: 1937
timestamp: 2025-12-23T23:09:54.263173
finish_reason: stop
---

Криптографический ключ

Криптографический ключ, используемый для шифрования открытого текстового сообщения, имеет решающее значение для общей безопасности системы. Ключ должен быть защищен, всегда оставаться секретным и передаваться только тем, кому предназначено зашифрованное сообщение.

Современные криптосистемы имеют ключи длиной от 128 до 4096 бит. Как правило, чем больше размер ключа, тем сложнее взломать защиту криптосистемы.

Шифрование сценария

Шифрование используется для защиты основного (или внутреннего) сценария, поэтому он не может быть прочитан третьей стороной без соответствующего ключа. При шифровании будет создан другой сценарий, называемый оболочкой, который содержит зашифрованный сценарий, хранящийся в переменной. Основная цель сценария-оболочки — расшифровать зашифрованный внутренний сценарий и выполнить это действие только в том случае, если будет предоставлен правильный ключ.

Первым шагом в этом процессе станет создание сценария, который требуется зашифровать. Сценарий, который мы используем для этой цели, показан в примере 14.5.

Пример 14.5. innerscript.sh

echo "This is an encrypted script"
echo "running uname -a"
uname -a

После того как вы создали такой сценарий, вам нужно его зашифровать. Для этого можно использовать инструмент OpenSSL. По умолчанию OpenSSL доступен во многих дистрибутивах Linux и входит в состав Git Bash. В этом случае мы задействуем алгоритм Advanced Encryption Standard (AES), который считается алгоритмом симметричного ключа, когда один и тот же ключ применяется как для шифрования, так и для дешифрования. Чтобы зашифровать файл, напишите следующее:

openssl aes-256-cbc -base64 -in innerscript.sh -out innerscript.enc -pass pass:mysecret

Аргумент aes-256-cbc указывает 256-разрядную версию AES. Параметр -in указывает файл для шифрования, а параметр -out — файл, в который будет выводиться зашифрованный текст. Параметр -base64 говорит о том, что выходные данные