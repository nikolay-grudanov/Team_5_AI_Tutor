---
source_image: page_224.png
page_number: 224
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 10.55
tokens: 7496
characters: 1873
timestamp: 2025-12-23T23:10:18.059029
finish_reason: stop
---

экранировали это число, чтобы сообщить оболочке, что нам нужен сам символ обратного слеша, потому что это не начало заключенной в кавычки строки. Что это нам дает? Вот что о команде printf говорит стандарт POSIX.

Если начальный символ является одинарной или двойной кавычкой, значение в базовом наборе кодов символа должно быть числовым значением, следующим за одинарной или двойной кавычкой. The Open Group Base Specifications Issue 7, 2018 edition IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008) (http://bit.ly/2CKvTqB). Copyright © 2001–2018 IEEE and The Open Group.

Файл askey.sh предоставляет нам две функции: asnum и aschar, с помощью которых вы можете конвертировать данные в символы ASCII и обратно в целочисленные значения. Эти функции могут быть полезными и в других сценариях, поэтому мы акцентировали на них внимание, а не просто определили часть сценария streamcipher.sh. В других сценариях их можно использовать как отдельные функции.

Выводы

Шифрование содержимого сценария — важный шаг, обеспечивающий секретность во время теста на проникновение. Чем более сложные методы вы используете, тем сложнее злоумышленнику будет провести анализ вашего набора инструментов.

В следующей главе мы рассмотрим, как, создав fuzzer, определить возможные уязвимости в сценариях и исполняемых файлах.

Упражнения

1. Просмотрите еще раз сценарий streamcipher.sh и подумайте: если при шифровании вы выводите не шестнадцатеричное число, а представленный этим шестнадцатеричным числом символ ASCII, будет ли в выводе каждому символу ввода соответствовать один символ? Для сценария вам нужен отдельный вариант декодирования или вы можете просто запустить тот же алгоритм? Измените код, чтобы сделать это.

В этом подходе есть основной недостаток, который не касается алгоритма шифрования. Подумайте о том, что это за недостаток и что и по какой причине не сработает.