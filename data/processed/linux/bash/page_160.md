---
source_image: page_160.png
page_number: 160
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 9.37
tokens: 7452
characters: 1844
timestamp: 2025-12-23T23:07:52.274897
finish_reason: stop
---

в файл ранее созданные дайджесты сообщений и пути и проверять, совпадают ли хеш-значения. Чтобы отобразить только несовпадающие файлы, используйте параметр --quiet:

$ sha1sum -c --quiet baseline.txt

sha1sum: /home/dave/file1.txt: No such file or directory ①
/home/dave/file1.txt: FAILED open or read ②
/home/dave/file2.txt: FAILED ③
sha1sum: WARNING: 1 listed file could not be read
sha1sum: WARNING: 2 computed checksums did NOT match

① Здесь отображаются выходные данные stderr, указывающие на то, что файл больше недоступен. Это связано с перемещением, удалением или переименованием файла. Вывод можно скрыть, перенаправив stderr в файл или /dev/null.

② Это сообщение stdout, информирующее, что указанный файл не найден.

③ Данное сообщение означает, что файл, указанный в baseline.txt, найден, но дайджест сообщения не совпадает, то есть файл каким-то образом изменился.

Единственное, что sha1sum не может сделать для вас, — это определить, что новый файл был добавлен в систему. Но у вас есть все необходимое, чтобы определить данное изменение самостоятельно. Базовый файл содержит путь ко всем файлам, которые находились в системе на момент его создания. Все, что вам нужно сделать, — создать новый список файлов, находящихся на данный момент в системе, и, чтобы идентифицировать новые файлы, сравнить его с базовым файлом. Для этого можно использовать команды поиска и объединения.

Первым шагом станет создание нового списка всех файлов, находящихся на данный момент в системе, и сохранение базового файла:

find / -type f > filelist.txt

В примере 10.2 показан образец содержимого файла filelist.txt.

Пример 10.2. filelist.txt

/.gitkeep
/autoscan.sh
/fd2.sh
/ips.txt
/localhost
.
.
.

Затем для сравнения базового файла с текущим списком файлов можно использовать команду join. Вы будете сравнивать ранее записанный базовый файл