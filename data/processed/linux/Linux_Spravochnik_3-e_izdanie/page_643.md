---
source_image: page_643.png
page_number: 643
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.99
tokens: 12150
characters: 2350
timestamp: 2025-12-24T03:44:23.787434
finish_reason: stop
---

Примеры поиска и замены

В следующих примерах используются метасимволы, доступные в sed или vi. Обратите внимание, что команды vi начинаются с двоеточия. Пробел обозначен символом □. Табуляция обозначается как tab.

<table>
  <tr>
    <th>Команда</th>
    <th>Результат</th>
  </tr>
  <tr>
    <td>s/.*(&)/</td>
    <td>Воспроизвести строку с добавлением скобок</td>
  </tr>
  <tr>
    <td>s/.*/mv & &.old/</td>
    <td>Преобразовать список слов (по одному слову в строке) в набор команд mv</td>
  </tr>
  <tr>
    <td>/^$/d</td>
    <td>Удалить пустые строки</td>
  </tr>
  <tr>
    <td>:g/^$/d</td>
    <td>То же, но в редакторе vi</td>
  </tr>
  <tr>
    <td>/^[□tab]*$/d</td>
    <td>Удалить пустые строки и строки, содержащие пробелы или символы табуляции</td>
  </tr>
  <tr>
    <td>:g/^[□tab]*$/d</td>
    <td>То же, но в редакторе vi</td>
  </tr>
  <tr>
    <td>s/□□*□/g</td>
    <td>Сократить непрерывную последовательность пробелов (более одного подряд) до одного пробела</td>
  </tr>
  <tr>
    <td>:% s/□□*□/□/g</td>
    <td>То же, но в редакторе vi</td>
  </tr>
  <tr>
    <td>:s/[0-9]/Item &:/</td>
    <td>Преобразовать число в item-метку (в текущей строке)</td>
  </tr>
  <tr>
    <td>:s</td>
    <td>Повторить подстановку при первом соответствии</td>
  </tr>
  <tr>
    <td>:&</td>
    <td>То же</td>
  </tr>
  <tr>
    <td>:sg</td>
    <td>То же, но для всех вхождений в строке</td>
  </tr>
  <tr>
    <td>:% &g</td>
    <td>То же</td>
  </tr>
  <tr>
    <td>:.,$s/Fortran/\U&/g</td>
    <td>Глобальная замена вхождений</td>
  </tr>
  <tr>
    <td>:% s/.*/\L&/</td>
    <td>Преобразовать регистр символов слова в верхний во всех вхождениях от текущей строки и до конца файла</td>
  </tr>
  <tr>
    <td>:s/\<./\u&/g</td>
    <td>Преобразовать регистр всех символов файла в нижний</td>
  </tr>
  <tr>
    <td>:% s/yes/No/g</td>
    <td>Преобразовать регистр всех символов файла в нижний</td>
  </tr>
  <tr>
    <td>:% s/Yes/~ /g</td>
    <td>Преобразовать регистр всех символов файла в нижний</td>
  </tr>
</table>

В заключение приведем некоторые примеры для перестановки слов с помощью sed. Простая перестановка двух слов может выглядеть так:

s/die or do/do or die/ Перестановка слов

Настоящим мастерством является использование буферов для замены. Например, так:

s/([Dd]ie\) or ([Dd]o\)/\2 or \1/ Перестановка с помощью буферов