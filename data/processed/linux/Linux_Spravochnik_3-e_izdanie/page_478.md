---
source_image: page_478.png
page_number: 478
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 46.16
tokens: 11848
characters: 2318
timestamp: 2025-12-24T03:36:42.539612
finish_reason: stop
---

Двойная загрузка Linux и Windows NT/2000

Как уже говорилось ранее, при запуске Windows NT система считает, что основным загрузчиком должен быть именно загрузчик Windows NT; поэтому нормальный способ обеспечения двойной загрузки заключается в том, чтобы добавить Linux в качестве одного из вариантов загрузки в меню загрузчика Windows. Информация в этом разделе также применима к операционной системе Windows 2000, в которой используется загрузчик NT.

Для осуществления этого необходимо предоставить загрузчику NT копию загрузочного сектора Linux. Ниже описывается, как сделать это на машине с Windows NT и файловой системой NTFS (обратите внимание, Windows NT должна быть уже установлена). Более подробную информацию и некоторые альтернативы можно почерпнуть в руководстве «NT OS loader+Linux mini-HOWTO».

Для этого понадобится загрузочная дискета Linux, чтобы при необходимости можно было загрузить Linux до изменения загрузчика NT. Также нужна чистая, отформатированная в DOS дискета для переноса загрузочного сектора на раздел Windows NT. Если LILO уже установлен, может понадобиться изменить файл /etc/lilo.conf, как показано ниже. В противном случае можно установить LILO в процессе инсталляции дистрибутива Linux либо с помощью сценария QuickInst, который входит в комплект поставки загрузчика. После установки LILO можно приступать к настройке двойной загрузки системы.

Помните, что нижеследующие инструкции предполагают существование Linux-раздела в /dev/hda2. Если Linux установлен на другом разделе, измените инструкции соответствующим образом.

1. Задайте раздел, содержащий корневую файловую систему, в качестве устройства загрузки. Если /etc/lilo.conf редактируется вручную, строка должна выглядеть так:

boot=/dev/hda2

и будет являться копией параметра root=.

2. Выполните команду lilo, чтобы установить LILO в раздел с Linux.

3. Теперь, для того чтобы перезагрузить Linux, необходимо воспользоваться загрузочной дискетой, потому что загрузчик NT еще не настроен для загрузки Linux.

4. В Linux выполните команду dd, для того чтобы создать копию загрузочного сектора.

% dd if=/dev/hda2 of=/bootsect.lnx bs=512 count=1

Эта команда копирует один блок размером 512 байт из исходного файла /dev/hda2 в конечный файл /bootsect.lnx. (Имя конечного файла может быть любым, не обязательно bootsect.lnx.)