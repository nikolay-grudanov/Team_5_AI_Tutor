---
source_image: page_721.png
page_number: 721
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.57
tokens: 11706
characters: 1484
timestamp: 2025-12-24T03:47:57.009830
finish_reason: stop
---

Простые примеры комбинаций шаблон-процедура

1. Отобразить первое поле каждой строки (шаблон не задан):
   { print $1 }

2. Отобразить все строки, содержащие «Linux»:
   /Linux/

3. Отобразить первое поле каждой строки, содержащей «Linux»:
   /Linux/ { print $1 }

4. Отобразить записи, содержащие более двух полей:
   NF > 2

5. Считать разделителями записей пустую строку, т. е. объединять идущие подряд строки в одну запись:
   BEGIN { FS = "\n"; RS = "" }

6. Отобразить поля 2 и 3 в обратном порядке, но только для строк, первое поле которых является строкой «URGENT»:
   $1 ~ /URGENT/ { print $3, $2 }

7. Подсчитать и отобразить количество вхождений строки «ERR»:
   /ERR/ { ++x } END { print x }

8. Сложить числа второй колонки таблицы и отобразить сумму:
   { total += $2 }; END { print "column total is", total }

9. Отобразить строки, длина которых меньше 20 символов:
   length() < 20

10. Отобразить все строки, начинающиеся с подстроки «Name:» и содержащие ровно семь полей:
    NF == 7 && /^Name:/ 

11. Изменить порядок следования полей на противоположный:
    { for (i = NF; i >= 1; i--) print $i }

Системные переменные gawk

<table>
  <tr>
    <th>Переменная</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>$n</td>
    <td>Поле текущей записи, имеющее порядковый номер n; поля разделяются символом FS</td>
  </tr>
  <tr>
    <td>$0</td>
    <td>Вся запись</td>
  </tr>
  <tr>
    <td>ARGC</td>
    <td>Количество аргументов командной строки</td>
  </tr>
</table>