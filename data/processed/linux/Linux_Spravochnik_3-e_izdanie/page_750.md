---
source_image: page_750.png
page_number: 750
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 48.80
tokens: 11889
characters: 2250
timestamp: 2025-12-24T03:49:19.183221
finish_reason: stop
---

Импортирование

При наличии существующей базы кода у вас может возникнуть желание импортировать ее в CVS способом, позволяющим сохранить большую часть информации об истории. В этом разделе приведены инструкции по импортированию в CVS проектов, которые представляют собой моментальные копии кода, или проектов других систем управления версиями. Все способы, кроме прямого импортирования моментальной копии кода, основаны на преобразовании в файлы RCS с последующей заменой файлов RCS в соответствующих точках репозитория CVS.

Импортирование моментальных копий кода

Если вы поддерживали историю проекта путем периодического создания моментальных копий кода, можно импортировать первую из таких копий, пометить ее датой или номером версии, а затем произвести последовательное наложение обновлений файлов из более поздних архивов. Каждый набор может затем помещаться в репозиторий и получать идентификатор с целью создания репозитория с сохранением предшествовавшей импортированию истории проекта.

Для примера сначала распакуем дистрибутивы (предполагается, что они будут распакованы в каталоги, имена которых также содержат номера версий):

    user@localhost$ tar xvzf foo-1.0.tar.gz
    user@localhost$ tar xvzf foo-1.1.tar.gz
    user@localhost$ tar xvzf foo-2.0.tar.gz

Затем сделаем копию первой версии, импортируем ее в репозиторий CVS, извлечем ее с целью создания песочницы (поскольку само по себе импортирование не копирует исходные тексты напрямую в рабочий каталог) и выполним cvs tag, чтобы присвоить версии символное имя (метку), отражающую версию проекта:

    user@localhost$ mkdir foo
    user@localhost$ cp -R -p foo-1.0/* foo
    user@localhost$ cd foo
    user@localhost$ cvs import -m 'Imported version 1.0' foo vendor start
    user@localhost$ cd ..
    user@localhost$ mv foo foo.bak
    user@localhost$ cvs checkout foo
    user@localhost$ cd foo
    user@localhost$ cvs tag foo-1_0
    user@localhost$ cd ..

Теперь запишем изменения между версиями 1.0 и 1.1 в рабочий каталог, поместим изменения в репозиторий, а также создадим метку:

    user@localhost$ diff -Naur foo-1.0 foo-1.1 | (cd foo; patch -Np1)
    user@localhost$ cd foo
    user@localhost$ cvs commit -m 'Imported version 1.1'
    user@localhost$ cvs tag foo-1_1