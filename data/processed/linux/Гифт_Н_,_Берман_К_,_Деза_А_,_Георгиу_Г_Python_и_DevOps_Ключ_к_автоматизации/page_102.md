---
source_image: page_102.png
page_number: 102
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.23
tokens: 7354
characters: 1509
timestamp: 2025-12-24T03:03:31.040100
finish_reason: stop
---

Позиционно зависимые команды и необязательные флаги добавляются в синтаксический анализатор с помощью метода add_argument (пример 3.3). Первый аргумент этого метода — название нового аргумента (команды или флага). Если название начинается с тире, то рассматривается как необязательный флаг, в противном случае — как позиционно зависимая команда. Синтаксический анализатор создает объект для проанализированных аргументов, в котором аргументы играют роль атрибутов, которые можно применять для получения доступа к введенным пользователем данным. Пример 3.3 — простая программа, повторяющая введенный пользователем текст и демонстрирующая основы работы пакета argparse.

Пример 3.3. simple_parse.py

#!/usr/bin/env python
"""
Утилита командной строки, использующая argparse
"""
import argparse
if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='Echo your input') ①
    parser.add_argument('message', ②
        help='Message to echo')

    parser.add_argument('--twice', '-t', ③
        help='Do it twice', ④
        action='store_true')

    args = parser.parse_args() ⑤

    print(args.message) ⑥
    if args.twice:
        print(args.message)

① Создает объект для синтаксического анализатора со своим справочным сообщением.

② Добавляет позиционно зависимую команду со своим справочным сообщением.

③ Добавляет необязательный аргумент.

④ Сохраняет необязательный аргумент в виде булева значения.

⑤ Производит синтаксический разбор аргументов с помощью синтаксического анализатора.