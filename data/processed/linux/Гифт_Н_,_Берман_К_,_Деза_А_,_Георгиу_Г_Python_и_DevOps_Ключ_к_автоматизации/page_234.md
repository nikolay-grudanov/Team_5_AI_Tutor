---
source_image: page_234.png
page_number: 234
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.22
tokens: 7401
characters: 1711
timestamp: 2025-12-24T03:06:59.389427
finish_reason: stop
---

фильтрации, а затем передаче локальному сервису Elasticsearch, который должен быть уже установлен и запущен.

Для потребления журналов необходимо установить утилиту filebeat. Она имеется в тех же репозиториях, которые вы использовали для установки Elasticsearch, Kibana и Logstash. Прежде чем настраивать Logstash, необходимо убедиться, что настройки Filebeat соответствуют файлам журналов Nginx и местоположению Logstash.

После установки Filebeat добавьте пути журналов Nginx и порт Logstash по умолчанию для localhost (5044). В конфигурацию в файле /etc/filebeat/filebeat.yml необходимо включить (или раскомментировать) следующее:

filebeat.inputs:
- type: log
  enabled: true
  paths:
    - /var/log/nginx/*.log

output.logstash:
  hosts: ["localhost:5044"]

Благодаря этому Filebeat просмотрит все до единого пути из /var/log/nginx/, после чего перенаправит их в экземпляр localhost Logstash. Если для другого приложения Nginx требуется отдельный файл журнала, он тоже добавляется тут. В файле конфигурации могут присутствовать и другие значения по умолчанию, их можно оставить без изменений. Запустите сервис:

$ systemctl start filebeat

А теперь создайте новый файл с именем nginx.conf в каталоге конфигурации Logstash (/etc/logstash/conf.d). Первый раздел, который нужно добавить, относится к обработке входных данных:

input {
  beats {
    port => "5044"
  }
}

Раздел input указывает, что поток информации поступит из сервиса Filebeat по порту 5044. А поскольку все пути к файлам указываются в конфигурации Filebeat, здесь больше ничего и не требуется.

Далее необходимо извлечь информацию и связать ее с ключами (или полями). Чтобы разобраться в этих неструктурированных данных, понадобятся правила