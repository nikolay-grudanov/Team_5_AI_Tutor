---
source_image: page_066.png
page_number: 66
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.60
tokens: 7424
characters: 1668
timestamp: 2025-12-24T03:02:40.094166
finish_reason: stop
---

Дополнительные возможности IPython

В начале главы вы уже видели некоторые возможности IPython. Теперь посмотрим на более продвинутые его возможности, например выполнение инструкций командной оболочки внутри интерпретатора IPython и использование «магических» функций.

Выполнение инструкций командной оболочки Unix с помощью IPython

IPython можно задействовать для выполнения инструкций командной оболочки. Это один из самых веских доводов в пользу выполнения операций DevOps в командной оболочке IPython. Рассмотрим очень простой пример, в котором перед командой ls указан символ !, по которому IPython распознает инструкции командной оболочки:

In [3]: var_ls = !ls -l
In [4]: type(var_ls)
Out[4]: IPython.utils.text.SList

Выводимые этой командой результаты присваиваются переменной var_ls Python типа IPython.utils.text.SList. Тип SList преобразует обычную инструкцию командной оболочки в объект с тремя основными методами: fields, grep и sort. Вот пример в действии с командой Unix df. Метод sort может распознать пробелы из этой команды Unix и отсортировать третий столбец по размеру¹:

In [6]: df = !df
In [7]: df.sort(3, nums = True)

Далее взглянем на SList и .grep. Вот пример поиска команд, установленных в каталоге /usr/bin, в название которых входит kill:

In [10]: ls = !ls -l /usr/bin
In [11]: ls.grep("kill")
Out[11]:
['-rwxr-xr-x  1 root   wheel    1621 Aug 20  2018 kill.d',

¹ Не исключено, что вы столкнетесь с проблемой кодировок, нередкой при вызове консольных команд операционной системы из блокнотов IPython. Решить ее можно, например, установкой кодировки командной оболочки с помощью команды !chcp 65001 или кодировки Python. — Примеч. пер.