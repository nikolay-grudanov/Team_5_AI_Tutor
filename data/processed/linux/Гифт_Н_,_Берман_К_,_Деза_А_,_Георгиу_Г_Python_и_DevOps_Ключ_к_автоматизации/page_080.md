---
source_image: page_080.png
page_number: 80
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.03
tokens: 7539
characters: 1484
timestamp: 2025-12-24T03:03:03.796146
finish_reason: stop
---

Можно также создать регулярное выражение для получения времени:

In [5]: r = r'\[(?P<Time>\d\d/\w{3}/\d{4}:\d{2}:\d{2}:\d{2})\]'

In [6]: m = re.search(r, line)
In [7]: m.group('Time')
Out[7]: '13/Nov/2019:14:43:30'

Можно захватить сразу несколько элементов — IP-адрес, пользователя, время и запрос, как вот здесь:

In [8]: r = r'(?P<IP>\d+\.\d+\.\d+\.\d+)'

In [9]: r += r' - (?P<User>\w+) '

In [10]: r += r'\[(?P<Time>\d\d/\w{3}/\d{4}:\d{2}:\d{2}:\d{2})\]'

In [11]: r += r' (?P<Request>"."+")'

In [12]: m = re.search(r, line)

In [13]: m.group('IP')
Out[13]: '127.0.0.1'

In [14]: m.group('User')
Out[14]: 'rj'

In [15]: m.group('Time')
Out[15]: '13/Nov/2019:14:43:30'

In [16]: m.group('Request')
Out[16]: '"GET HTTP/1.0"'

Синтаксический разбор отдельной строки журнала — задача интересная, но пользы от нее немного. Впрочем, это регулярное выражение можно применять в качестве фундамента для создания регулярного выражения, позволяющего извлекать информацию из всего журнала. Пусть нам нужно извлечь все IP-адреса для запросов типа GET, имевших место 8 ноября 2019 года. Мы можем внести в предыдущее выражение необходимые модификации в соответствии со спецификой своего запроса:

In [62]: r = r'(?P<IP>\d+\.\d+\.\d+\.\d+)'
In [63]: r += r'- (?P<User>\w+)'
In [64]: r += r'\[(?P<Time>08/Nov/\d{4}:\d{2}:\d{2}:\d{2} [-+]\d{4})\]'
In [65]: r += r' (?P<Request>"GET .+")'

Для обработки журнала воспользуемся методом finditer, выводя в консоль IP-адреса из соответствующих строк: