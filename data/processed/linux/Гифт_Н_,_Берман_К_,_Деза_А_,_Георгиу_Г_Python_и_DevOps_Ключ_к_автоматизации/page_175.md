---
source_image: page_175.png
page_number: 175
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.51
tokens: 7411
characters: 1754
timestamp: 2025-12-24T03:05:29.963682
finish_reason: stop
---

%description
A Python3 hello-world package

%prep
%setup -n %{name}-%{unmangled_version} -n %{name}-%{unmangled_version}

%build
python3 setup.py build

%install
python3 setup.py install --single-version-externally-managed -01 \
--root=$RPM_BUILD_ROOT --record=INSTALLED_FILES

%clean
rm -rf $RPM_BUILD_ROOT

%files -f INSTALLED_FILES
%defattr(-,root,root)

Хотя он выглядит простым, сразу же возникает потенциальная проблема: версию придется обновлять каждый раз. Этот процесс напоминает файл changelog Debian, который следует обновлять с помощью утилиты bump для каждой новой версии.

Определенные перспективы несет интеграция setuptools, позволяющая при необходимости выполнять дальнейшую модификацию этого файла и копировать его в корневой каталог проекта для постоянного хранения. В некоторых проектах используется базовый шаблон, заполняемый в процессе сборки для генерации файла spec. В проекте Ceph (https://ceph.com) выпускаемым версиям с помощью системы контроля версий (Git) присваивается тег, который сценарии выпуска версий применяют к упомянутому шаблону через Makefile. Стоит отметить, что существуют и дополнительные методы для дальнейшей автоматизации этого процесса.

Генерировать файл spec не всегда имеет смысл, поскольку некоторые его разделы приходится жестко «зашивать», следуя каким-либо правилам создания дистрибутива или из-за конкретных зависимостей, не входящих в сгенерированный файл. В подобных случаях лучше сгенерировать его один раз, а затем внести нужные изменения настроек и сохранить, после чего сделать полученный файл spec частью проекта.

Генерирование бинарного файла

Существует несколько утилит для генерирования бинарных файлов RPM, одна из них — утилита командной строки rpmbuild:

$ sudo yum install rpm-build