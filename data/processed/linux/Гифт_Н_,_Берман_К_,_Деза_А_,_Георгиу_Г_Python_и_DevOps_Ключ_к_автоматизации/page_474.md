---
source_image: page_474.png
page_number: 474
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 18.21
tokens: 7374
characters: 1643
timestamp: 2025-12-24T03:13:07.517997
finish_reason: stop
---

Обработка файлов малых данных

Если и есть определяющая черта Python — это неустанное стремление к максимальной эффективности языка. Обычный программист Python старается написать ровно столько кода, сколько нужно для решения задачи, не доводя его при этом до излишней сжатости и неудобочитаемости. Кроме того, обычный программист Python не желает писать стереотипный код. Такая среда приводит к непрерывной эволюции полезных паттернов.

Один из примеров часто используемых паттернов — использование оператора with для чтения и записи файлов. Оператор with берет на себя утомительные стереотипные действия по закрытию файла после завершения работы с ним. Оператор with используется и в других частях языка Python для облегчения различных утомительных задач.

Запись в файл

Этот пример иллюстрирует автоматическое закрытие файла при использовании оператора with по завершении выполнения блока кода. Такой синтаксис помогает предотвращать программные ошибки, которые неизбежны, если программист случайно забывает закрыть дескриптор файла:

with open("containers.txt", "w") as file_to_write:
    file_to_write.write("Pod/n")
    file_to_write.write("Service/n")
    file_to_write.write("Volume/n")
    file_to_write.write("Namespace/n")

Содержимое файла при этом выглядит следующим образом:

cat containers.txt

Pod
Service
Volume
Namespace

Чтение файла

Контекст with рекомендуется использовать также для чтения файлов. Обратите внимание на то, что метод readlines() возвращает выполняемый отложенным образом итератор на основе разрывов строк:

with open("containers.txt") as file_to_read:
    lines = file_to_read.readlines()
    print(lines)