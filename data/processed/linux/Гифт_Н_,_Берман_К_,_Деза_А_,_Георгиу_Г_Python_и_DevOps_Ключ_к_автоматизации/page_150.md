---
source_image: page_150.png
page_number: 150
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.08
tokens: 7539
characters: 1975
timestamp: 2025-12-24T03:04:50.339009
finish_reason: stop
---

Результаты выглядят немного странно, но дело в том, что они предназначаются для обработки другим модулем или библиотекой, а не для чтения человеком. Средние показатели говорят в пользу спискового включения. Вот как выглядит соответствующий код на языке Python:

In [1]: def appending():
   ...:     array = []
   ...:     for i in range(100):
   ...:         array.append(i)
   ...:

In [2]: %timeit appending()
5.39 µs ± 95.1 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)

In [3]: %timeit [i for i in range(100)]
2.1 µs ± 15.2 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)

Благодаря тому что в IPython для timeit есть специальная команда (что видно из префикса % перед ней), ее вывод удобнее для чтения людьми и понятнее им, а также не требует хитрой операции импорта, как в стандартной командной оболочке Python.

strace

В случаях, когда приложения не заносят интересную нам информацию в журнал или вообще не выполняют журналирование, чрезвычайно важно знать, как программа взаимодействует с операционной системой. Результаты strace не слишком удобны для чтения, но при определенном понимании основ ее работы помогают понять, что происходит с проблемным приложением. Однажды Альфредо пытался выяснить причину отказа в доступе к файлу. Файл находился внутри символической ссылки, вроде бы, со всеми нужными правами доступа. В чем было дело? По одним журналам было сложно понять это, ведь в них не отображались права доступа при обращении к файлам.

В выводе strace можно было найти следующие две строки:

stat("/var/lib/ceph/osd/block.db", 0x7fd) = -1 EACCES (Permission denied)
lstat("/var/lib/ceph/osd/block.db", {st_mode=S_IFLNK|0777, st_size=22}) = 0

Программа устанавливал права доступа для родительского каталога — того, который соответствовал ссылке, и block.db — в данном случае также ссылке на устройство блочного ввода/вывода. У самого устройства блочного ввода/вывода были нужные права, так в чем же заключалась проблема? Оказалось,