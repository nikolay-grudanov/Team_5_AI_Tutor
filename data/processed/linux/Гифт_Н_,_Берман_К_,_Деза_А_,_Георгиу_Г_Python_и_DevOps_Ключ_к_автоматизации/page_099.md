---
source_image: page_099.png
page_number: 99
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.19
tokens: 7426
characters: 1822
timestamp: 2025-12-24T03:03:38.034106
finish_reason: stop
---

Первый этап создания утилит командной строки — выделение кода, который должен выполняться только при вызове в командной строке. Следующий шаг — прием аргументов командной строки. И если утилита не предназначена для одной-единственной задачи, необходимо получать команды, чтобы знать, что нужно сделать. Кроме того, утилиты командной строки, за исключением выполняющих самые примитивные задачи, принимают необязательные флаги для настройки. Помните, что эти команды и флаги играют роль интерфейса пользователя (user interface) для всех работающих с вашими утилитами, так что важно обеспечить удобство их применения и понятность. Написание документации — важная часть обеспечения понятности кода.

Использование sys.argv

Простейший способ обработки передаваемых в командной строке аргументов — атрибут argv модуля sys. Этот атрибут представляет собой список аргументов, передаваемых сценарию Python во время выполнения. Если сценарий выполняется в командной строке, первым аргументом должно быть его название. Остальные элементы списка представляют собой прочие аргументы командной строки в виде строковых значений:

#!/usr/bin/env python
"""
Простая утилита командной строки, использующая sys.argv
"""
import sys

if __name__ == '__main__':
    print(f"The first argument: '{sys.argv[0]}'")
    print(f"The second argument: '{sys.argv[1]}'")
    print(f"The third argument: '{sys.argv[2]}'")
    print(f"The fourth argument: '{sys.argv[3]}'")

Выполните его в командной строке — и увидите аргументы:

$ ./sys_argv.py --a-flag some-value 13

The first argument: './sys_argv.py'
The second argument: '--a-flag'
The third argument: 'some-value'
The fourth argument: '13'

Можете использовать эти аргументы для написания собственного средства синтаксического разбора аргументов. В примере 3.2 показано, как он может выглядеть.