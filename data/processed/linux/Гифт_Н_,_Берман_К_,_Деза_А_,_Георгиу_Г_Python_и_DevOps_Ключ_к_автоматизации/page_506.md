---
source_image: page_506.png
page_number: 506
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.72
tokens: 7704
characters: 2569
timestamp: 2025-12-24T03:14:11.900503
finish_reason: stop
---

Вспоминаются еще две проблемные ситуации на нашей киностудии, связанные с неудачными решениями в сфере UX в сочетании с плохой архитектурой. Однажды к инженерам пришел художник-мультипликатор и попросил совета относительно проблемы с базой данных Filemaker Pro. База данных Filemaker Pro, в которой отслеживались кадры в отделе анимации, постоянно удалялась. Когда мне показали эту базу данных, я увидел пользовательский интерфейс с двумя рядом расположенными кнопками. Одна — среднего размера зеленая кнопка с надписью Save Entry («Сохранить запись»), а вторая — большая красная кнопка, название которой гласило: Delete Database («Удалить базу данных»).

В другой компании мы обратили внимание на поступление с одного IP-адреса колоссального количества запросов к находящейся в промышленной эксплуатации базе данных MySQL. Когда мы нашли соответствующих разработчиков, то столкнулись с некоторым нежеланием говорить с нами. Мы спросили, не делает ли их отдел что-то необычное, на что получили ответ о наличии у них GUI PyQt, запускающего задачи автоматизации. Когда мы взглянули на этот GUI, то увидели несколько кнопок обычного размера и большую кнопку с надписью GO («Вперед!»). Мы спросили, что делает эта кнопка, и разработчик смущенно сказал: «Все знают, что на эту кнопку нажимать не надо». Я открыл SSH-соединение с базой данных и вывел список основных запросов MySQL-сервера. Затем, несмотря на протесты разработчика, нажал на эту кнопку. И ясное дело, база данных в течение нескольких минут использовала 100 % ресурсов CPU.

Решаем горящие проблемы с помощью кэша и интеллектуальной телеметрии

В компании Social Sports, где я занимал должность технического директора, мы столкнулись с серьезными проблемами с быстродействием реляционной базы данных. Мы вплотную приблизились к пределам вертикального масштабирования. У нас работала самая большая версия SQL Server, которую только предлагает Amazon RDS (сервис управляемых реляционных баз данных Amazon). Ситуацию ухудшала невозможность легко перейти на горизонтальное масштабирование, поскольку на тот момент SQL Server не позволял интегрировать предназначенные только для чтения подчиненные узлы в RDS.

Существует много способов выйти из подобной ситуации. Один из вариантов связан с перезаписью ключевых запросов, но количество трафика было так велико, а инженеров так мало, что нам пришлось импровизировать. Один из наших DevOps-центричных инженеров придумал, как решить проблему.

• Он добавил телеметрию посредством APM, отслеживавшего длительность вызовов SQL и ставившего их в соответствие маршрутам.