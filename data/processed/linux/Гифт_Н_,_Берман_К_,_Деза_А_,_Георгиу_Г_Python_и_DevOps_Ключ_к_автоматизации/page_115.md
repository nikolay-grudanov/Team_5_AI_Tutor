---
source_image: page_115.png
page_number: 115
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.01
tokens: 7506
characters: 2054
timestamp: 2025-12-24T03:03:59.425955
finish_reason: stop
---

с простотой предоставления доступа к объектам из командной строки при использовании fire делает ее идеальным инструментом как для отладки, так и для знакомства с новым кодом.

Теперь вы видели весь спектр библиотек создания утилит командной строки, начиная с требующей большого объема ручного труда argparse до более лаконичной click и, наконец, минималистичной fire. Какую же использовать? Мы рекомендуем в большинстве случаев применять click, сочетающую простоту и широкие возможности контроля. Для сложных интерфейсов, где желательно отделить код UI от бизнес-логики, лучше подойдет argparse. А для быстрого доступа к коду, у которого нет интерфейса командной строки, идеальна fire.

Реализация плагинов

После реализации пользовательского интерфейса командной строки для приложения имеет смысл задуматься о системе плагинов. Плагины — создаваемые пользователями дополнения к программе, расширяющие ее функциональность. Системы плагинов можно найти в самых разнообразных приложениях, от больших, наподобие Maya от Autodesk, до минималистичных веб-фреймворков, таких как Flask. Вы можете написать утилиту для обхода файловой системы и предоставить пользователям возможность создавать плагины для работы с ее (файловой системы) содержимым. Главная составляющая любой системы плагинов — обнаружение последних. Программа должна знать о доступных для загрузки и выполнения плагинах. В примере 3.7 мы напишем простое приложение для обнаружения и запуска плагинов. В нем для поиска, загрузки и запуска плагинов применяется указанный пользователем префикс.

Пример 3.7. simple_plugins.py
#!/usr/bin/env python
import fire
import pkgutil
import importlib

def find_and_run_plugins(plugin_prefix):
    plugins = {}

    # Обнаружение и загрузка плагинов
    print(f"Discovering plugins with prefix: {plugin_prefix}")
    for _, name, _ in pkgutil.iter_modules(): ①
        if name.startswith(plugin_prefix): ②
            module = importlib.import_module(name) ③
            plugins[name] = module

    # Запуск плагинов
    for name, module in plugins.items():