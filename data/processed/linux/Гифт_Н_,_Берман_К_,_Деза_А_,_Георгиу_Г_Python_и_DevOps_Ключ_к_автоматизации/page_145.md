---
source_image: page_145.png
page_number: 145
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.71
tokens: 7475
characters: 1696
timestamp: 2025-12-24T03:04:37.400963
finish_reason: stop
---

этого. В общем случае мы следуем такому эмпирическому правилу: максимум десять строк для сценария командной оболочки, все, что больше, — поле для ошибок, на которые вы впустую будете тратить время, поскольку никаких сообщений об ошибках здесь не выводится.

Генератор случайных чисел

Количество необходимых еженедельно учетных записей и паролей продолжает расти, в том числе одноразовых учетных записей, для которых можно сгенерировать надежные пароли с помощью Python. Создадим удобный генератор случайных паролей, отправляющий результаты в буфер обмена, откуда их можно сразу вставить куда-нибудь:

In [1]: import os

In [2]: import base64
In [3]: print(base64.b64encode(os.urandom(64)).decode('utf-8'))
gHHlGXnqnbsALbAZrGaw+LmvipTeFi3tA/9uBltNf9g2S9qTQ8hTpBYrXStp+i/o5TseeVo6wcX2A==

Преобразуем его в функцию командной оболочки, которая может принимать в качестве аргумента длину пароля (удобно в случаях, когда сайт ограничивает возможную длину пароля):

mpass() {
    if [ $1 ]; then
        length=$1
    else
        length=12
    fi
    _hash=`python3 -c "
import os,base64
exec('print(base64.b64encode(os.urandom(64))[:${length}].decode(\utf-8\'))')`
    echo $_hash | xclip -selection clipboard
    echo "new password copied to the system clipboard"
}

По умолчанию функция mpass генерирует пароли длиной 12 символов путем усечения результатов и отправляет содержимое сгенерированной строки утилите xclip для копирования в буфер обмена.

Во многих дистрибутивах xclip не установлена по умолчанию, так что ее необходимо установить, чтобы эта функция работала правильно. Если доступа к xclip нет, можно воспользоваться любой аналогичной утилитой для управления системным буфером обмена.