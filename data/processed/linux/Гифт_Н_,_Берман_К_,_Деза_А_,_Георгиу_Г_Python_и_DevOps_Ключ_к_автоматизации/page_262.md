---
source_image: page_262.png
page_number: 262
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.39
tokens: 7409
characters: 1673
timestamp: 2025-12-24T03:07:40.867414
finish_reason: stop
---

проекта Testinfra, обладающие широкими возможностями. Это значит, что в нашем примере задействована фикстура host.file, имеющая много дополнительных возможностей. Можно использовать ее и напрямую:

In [1]: import testinfra

In [2]: host = testinfra.get_host('local://')

In [3]: node_file = host.file('/tmp')

In [4]: node_file.is_directory
Out[4]: True

In [5]: node_file.user
Out[5]: 'root'

Всеобъемлющая фикстура host использует обширный API проекта Testinfra, загружающий все возможности для каждого хоста, к которому подключается. Идея состоит в написании одного теста, применяемого для тестирования различных узлов, причем все — на основе одной и той же фикстуры host.

Аргументов у фикстуры host несколько десятков (https://oreil.ly/2_J-o). Вот некоторые чаще всего используемые.

● host.ansible — предоставляет полный доступ ко всем свойствам Ansible во время выполнения, например к хостам, реестру и переменным.
● host.addr — сетевые утилиты, такие как проверки IPV4 и IPV6, проверки доступности и разрешимости хоста.
● host.docker — прокси для API Docker для взаимодействия с контейнерами и проверки того, запущены ли они.
● host.interface — вспомогательные функции для получения адресов для заданного интерфейса.
● host.iptables — вспомогательные функции для верификации правил брандмауэра host.iptables.
● host.mount_point — проверка точек монтирования, типов файловой системы в путях и вариантов монтирования.
● host.package — удобна для выяснения того, установлен ли конкретный пакет, и если да, то какая версия.
● host.process — проверка запущенных процессов.
● host.sudo — позволяет выполнять команды с модификатором sudo или от имени другого пользователя.