---
source_image: page_101.png
page_number: 101
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.54
tokens: 7499
characters: 2074
timestamp: 2025-12-24T03:03:41.480577
finish_reason: stop
---

Пример 3.2 выводит простое справочное сообщение и принимает аргументы для функции:

$ ./sys_argv.py --help
Usage: ./sys_argv.py --name <NAME> --greeting <GREETING>

$ ./sys_argv.py --name Sally --greeting Bonjour
Bonjour Sally

Этот подход чреват осложнениями и ошибками. Пример 3.2 не обрабатывает многие ситуации. Если пользователь допускает опечатку в названии флага или вводит его в неправильном регистре, флаг просто игнорируется, причем об этом не сообщается. Точно так же игнорируется ошибка, если пользователь пытается применить неподдерживаемую команду или указать для одного флага несколько значений. О подходе с синтаксическим разбором argv вам следует знать, но не используйте его для кода промышленной эксплуатации, разве что сознательно хотите написать средство синтаксического разбора аргументов. К счастью, существуют модули и пакеты, предназначенные специально для создания утилит командной строки. Эти пакеты предоставляют инфраструктуру для создания пользовательского интерфейса, предназначенного для запуска в командной строке модулей. Три популярных решения такого плана — argparse, click и python-fire. Все три дают возможность проектировать нужные аргументы, необходимые флаги и средства отображения справочной документации. Первый из них, argparse, входит в стандартную библиотеку языка Python, а остальные два — сторонние пакеты, устанавливаемые отдельно с помощью pip.

argparse

Пакет argparse абстрагирует многие нюансы передачи аргументов. С его помощью можно подробно проектировать пользовательский интерфейс командной строки, описывая команды и флаги вместе с соответствующими справочными сообщениями. В нем используется идея объектов — синтаксических анализаторов, с которыми связываются команды и флаги. Синтаксический анализатор производит разбор аргументов, а затем вы можете применять результаты для вызова своего кода. Интерфейс формируется с помощью объектов ArgumentParser, выполняющих синтаксический разбор вводимых пользователем данных:

if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='Maritime control')