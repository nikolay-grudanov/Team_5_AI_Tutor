---
source_image: page_340.png
page_number: 340
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.12
tokens: 6429
characters: 1555
timestamp: 2025-12-24T04:03:35.020244
finish_reason: stop
---

20.1.1. Закончилось дисковое пространство/свободные иноды

Самая банальная причина падения сайта. Во время работы сетевые сервисы вроде Apache, MySQL генерируют приличные объемы данных — журналы, временные файлы, не говоря уже о загружаемых пользователями данных.

Сервису просто некуда дальше писать данные и он «крашится». Также причиной падения того же Apache может быть чрезвычайно большой размер журнала. Проверить свободное дисковое пространство можно командой df -h.

Мы рекомендуем следующее:

• Чтобы регулярно не проверять дисковое пространство, установить сервис мониторинга для автоматизации данного процесса. Можно настроить тот же Zabbix или написать сценарий на bash для мониторинга дискового пространства.

• Настроить logrotate для ротации и сжатия файлов журналов основных сервисов. Как правило, после установки logrotate все необходимые настройки уже будут в конфигурационных файлах, администратору останется только убедиться в том, что logrotate запускается автоматически. Далее будет показано, как это сделать.

Куда подевалось дисковое пространство?

• Временные файлы — загляните в /tmp. Как правило, оттуда можно удалить сразу все.

• Файлы сессий — каталог зависит от настроек движка.

• База данных — для сокращения ее размера базу данных можно оптимизировать. Также можно выполнить специфические для движка запросы. Например, для WordPress следующий запрос удаляет комментарии со спамом, что может существенно сократить размер базы данных:

DELETE FROM wp_commentmeta WHERE comment_id NOT IN (SELECT comment_id FROM wp_comments)