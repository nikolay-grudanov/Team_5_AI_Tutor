---
source_image: page_343.png
page_number: 343
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.65
tokens: 6454
characters: 1517
timestamp: 2025-12-24T04:03:37.794855
finish_reason: stop
---

Здесь все казалось бы просто. Нужно открыть конфиг /etc/apache/apache2.conf и повысить значение MaxRequestWorkers. Но не спешите этого делать. Сначала выполните htop и посмотрите размер процесса Apache. Например, пусть процесс Apache занимает 100 Мб. Если вы установите 150 одновременных процессов, то понадобится 150 * 100 почти 15 Гб памяти и это нужно учитывать. Не забывайте, что для системы и других процессов (того же MySQL) также нужна память. Поэтому не переусердствуйте с этим параметром и не забывайте добавлять необходимые ресурсы в панели управления сервером.

Если же установить MaxRequestWorkers больше, чем может поместиться в памяти, в логах появится неоднозначная запись:

[Sat Jun 27 15:29:04.747616 2020] [core:notice] [pid 37252] AH00051: child pid 32103 exit signal Segmentation fault (11), possible coredump in /var/coredumps

Экспериментальным путем было выяснено, что причина в нехватке оперативной памяти.

Сервис MySQL особенно с его движком InnoDB тоже требователен к правильной настройке. База данных может легко подвиснуть при сохранении изменений вот с такой ошибкой:

SQLSTATE[HY000]: General error: 1205 Lock wait timeout exceeded; try restarting transaction

Если MySQL еще жив, можно попробовать от админа БД ввести запрос:

SET GLOBAL innodb_lock_wait_timeout = 120;

Этот же оператор поможет, если перезапуск MySQL временно невозможен. Для постоянной установки значения конфигурации нужно открыть файл /etc/my.cnf и установить новое значение:

[mysqld]
innodb_lock_wait_timeout=120