---
source_image: page_350.png
page_number: 350
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.62
tokens: 6401
characters: 1389
timestamp: 2025-12-24T04:03:40.624247
finish_reason: stop
---

Данный сценарий нужно запускать регулярно (добавить в расписание cron). Слишком часто запускать его не нужно — ведь при удалении файла сессии у пользователя будет очищена корзина, а все менеджеры будут «выброшены» из панели управления. Именно поэтому запускать его нужно не чаще раза в сутки и не в бизнес-время. Лучше всего часа в 3-4 ночи, когда посетителей на сайте минимум.

20.3.2. Решение 2: смена файловой системы

Если файлы сессий «плодятся» чаще, чем того хочется, тогда придется создать еще один виртуальный диск и отформатировать его как reiserfs. Преимущество этой файловой системы в том, что в одном блоке она может хранить несколько мелких файлов и проблема с недостатком инодов будет решена сама собой. Да и работает reiserfs с множеством мелких файлов увереннее — Magento перестанет тормозить.

Отформатировать раздел диска как reiserfs можно так:

sudo mkreiserfs /dev/sdb1

Здесь раздел /dev/sdb1 будет использовать файловую систему reiserfs. Учитывая, что сессии занимают немного места, не нужно покупать огромный виртуальный диск. Несколько гигабайтов (до 10) будет вполне достаточно.

Затем этот раздел нужно указать в /etc/fstab для его автоматического монтирования (будем считать, что монтироваться будет к /mnt/reiserhdd — этот каталог должен существовать):

/dev/sdb1    /media/reiserhdd    reiserfs    defaults
1    0

Подмонтируем каталог:

sudo mount /dev/sdb1