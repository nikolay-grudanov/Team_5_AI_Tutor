---
source_image: page_288.png
page_number: 288
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.90
tokens: 6430
characters: 1468
timestamp: 2025-12-24T04:02:38.880246
finish_reason: stop
---

16.5. Настройка редиректа

Остались последние штрихи, например, настройка обязательного редиректа с http на https (если вы решите оставить listen 80 в настройках nginx). Для этого в файл .htaccess добавьте строки:

RewriteEngine On
RewriteCond %{SERVER_PORT} !^443$
RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]

16.6. Готовим движок сайта к SSL

Мало настроить SSL на веб-сервере, нужно движку сайта указать, что он работает по SSL, иначе он будет генерировать ссылки http://, а не https://. Здесь все зависит от движка и более подробные инструкции вы можете получить в документации по нему. Именно поэтому ранее мы рекомендовали не убирать работоспособность обычного протокола http — чтобы вы могли зайти в панель управления сайтом для его настройки на SSL.

16.7. Конвертирование сертификатов разных форматов

Довольно часто для успешной установки SSL-сертификатов на разных платформах и устройствах нужно преобразовать их в другой формат. Так, Windows-серверы используют, как правило, PFX-формат, а для Apache нужны PEM-файлы, имеющие расширение .crt или .seg. Попытаемся разобраться, какие форматы бывают и как конвертировать их из одного формата в другой.

Рассмотрим часто используемые форматы SSL-сертификатов:

• PEM - самый распространенный формат сертификата. Файлы в таком формате имеют расширение .pem, .crt, .seg и .key (файл приватного ключа). Сами по себе файлы являются обычными ASCII-файлами, закодированными в формате Base64. При от-