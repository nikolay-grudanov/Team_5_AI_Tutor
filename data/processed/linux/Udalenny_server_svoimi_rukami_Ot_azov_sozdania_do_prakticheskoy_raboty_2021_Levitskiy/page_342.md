---
source_image: page_342.png
page_number: 342
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.38
tokens: 6522
characters: 1752
timestamp: 2025-12-24T04:03:45.163780
finish_reason: stop
---

Глава 20. Решение типичных проблем

Альтернативное и более правильное решение заключается в создании еще одного диска (или раздела) с файловой системой reiserfs. Она не блещет производительностью, зато позволяет в одном блоке хранить несколько файлов — пока размер блока физически не заполнится. Reiserfs полностью решила проблему с инодами. Теперь сервер спокойно держит миллионы файлов инодов и чистить /var/session приходится довольно редко — на данном сервере автоматическая чистка вообще выключена и производится вручную администратором раз в месяц при регулярном обслуживании сервера.

20.1.2. Нехватка прочих ресурсов

Кроме дискового пространства, не нужно забывать о памяти и ресурсах процессора. Здесь поможет команда htop, которая показывает не только запущенные процессы, но и потребляемые ресурсы.

Одна из причин падения сайта — нехватка ресурсов, особенно, если речь идет о монстрообразных движках вроде Symfony, Magento и т.д.. Они чувствительны не только к оперативке, но и к количеству ядер.

Если у вас виртуальный сервер, вам повезло — добавить новые ресурсы можно с помощью пары кликов мышкой. А вот с физическим сложнее — придется докупать оперативную память и модернизировать сервер вручную. Все это — время и деньги.

20.1.3. Неправильная конфигурация сервера

Мало выделить ресурсы, важно еще их правильно использовать. Если программное обеспечение использует ресурсы неэффективно, сайт может «падать». Типичный пример — «крушение» Apache из-за нехватки максимального количества процессов, которые может запустить Apache. В логах сообщение выглядит примерно так:

[Sat Jun 27 11:59:59.443036 2020] [mpm_prefork:error] [pid 37252]
AH00161: server reached MaxRequestWorkers setting, consider raising the MaxRequestWorkers setting