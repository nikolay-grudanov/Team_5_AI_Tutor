---
source_image: page_122.png
page_number: 122
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.34
tokens: 6546
characters: 1670
timestamp: 2025-12-24T03:59:03.957177
finish_reason: stop
---

<table>
  <tr>
    <th>--state</th>
    <td>Позволяет указать состояние пакета. Фильтр по состоянию возможен только при загрузке модуля state (-m state). Возможны следующие состояния пакета: NEW (новое соединение), ESTABLISHED (установленное соединение), RELATED (связанные с соединением пакеты), INVALID (неопознанные пакеты)</td>
  </tr>
  <tr>
    <th>--in-interface (-i)</th>
    <td>Указывает входящий интерфейс.</td>
  </tr>
  <tr>
    <th>--out-interface (-o)</th>
    <td>Указывает исходящий интерфейс</td>
  </tr>
</table>

В таблице 6.2 указаны далеко не все параметры, но для организации собственного шлюза представленных параметров будет более чем достаточно.

6.3.4. Практический пример

Сейчас рассмотрим практический пример - настройку шлюза небольшой сети с нуля на базе дистрибутива Debian. У нас есть следующие вводные данные:

• Внешняя сеть - интерфейс eth0, реальный IP-адрес 88.99.88.99 (IP-адрес приведен для примера).

• Внутренняя - интерфейс eth1, IP-адрес сети 192.168.1.0/24 (у вас, скорее всего, будет другой адрес).

Простым «перебросом» пакетов мы не ограничимся, а постараемся решить попутные задачи, а именно:

• Запретить доступ сотрудников к некоторым сайтам. Администрации доступ к этим сайтам будет разрешен;

• Запретить ICQ для сотрудников, но не для администрации;

• Запретить некоторые нежелательные приложения;

• Открыть доступ к порту 80 извне для доступа к будущему веб-сайту. Все, что вам останется сделать - это установить nginx (или Apache) и ваш сайт будет виден из Интернета;

• Открыть доступ к шлюзу извне для его администрирования по SSH;

• Открыть порты 25 и 110, необходимые для работы будущего почтового сервера;