---
source_image: page_141.png
page_number: 141
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.49
tokens: 6257
characters: 1013
timestamp: 2025-12-24T03:59:12.828960
finish_reason: stop
---

7.5. Оптимизация SSH

SSH-сервер работает довольно быстро, но иногда администраторам приходится столкнуться с тормозами особенно при входе пользователя. Ускорить вход пользователя поможет отключение использования DNS. Добавьте в файл конфигурации sshd_conf директиву:

UseDNS no

В этом случае IP-адреса не будут разрешаться в доменные имена, что существенно повысит производительность, поскольку не будет необходимости обращаться к DNS-серверу и ждать от него ответа.

Также нужно использовать постоянные TCP-соединения:

TCPKeepAlive yes

Еще можно отказаться от вывода сообщения дня, но на вход пользователя это особо не повлияет:

PrintMotd no

Серьезное «торможение» (порой на несколько секунд) могут добавить PAM-модули. Но отключать PAM-модули полностью не нужно! Достаточно из файлов /etc/pam.d/login и /etc/pam.d/sshd нужно удалить строки:

sessionoptional pam_motd.so motd=/run/motd.dynamic
noupdate
session optional pam_motd.so

После этого регистрация на вашем SSH-сервере будет происходить мгновенно.