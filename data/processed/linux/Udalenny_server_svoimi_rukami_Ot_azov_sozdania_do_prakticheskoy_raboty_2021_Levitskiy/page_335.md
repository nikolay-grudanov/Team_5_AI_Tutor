---
source_image: page_335.png
page_number: 335
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.32
tokens: 6335
characters: 1183
timestamp: 2025-12-24T04:03:27.283750
finish_reason: stop
---

19.2. Принцип настройки

Для отправки почты нам нужен SMTP-сервер. Но далеко не все облачные/обычные провайдеры предоставляют своим клиентам почтовые серверы. Это первый момент. Второй заключается в том, что стандартная функция mail() не поддерживает аутентификацию, а все современные SMTP-серверы просто так письма не отправляют.

Выход есть. Мы создадим почтовый ящик, на том же gmail, установим программу-посредник ssmtp, настроим ее соответствующим образом, а затем укажем PHP, что нужно отправлять почту через эту программу. Все довольно просто и на все про все (с регистрацией почты) у вас уйдет не более 15 минут.

19.3. Установка и настройка ssmtp

Итак, регистрируйте почтовый ящик, от имени которого ваш магазин будет отправлять письма. Возможно, уже такой ящик создан. Тогда можно приступить к установке ssmtp:

sudo apt install ssmtp

После этого открываем файл конфигурации /etc/ssmtp/ssmtp.conf и приводим его к следующему виду:

# Почта пользователя root
root=root@localhost
# Yes - будет писаться отладочная информация (в случае проблем)
# No - ничего писаться не будет
debug=No

# Параметры SMTP-сервера - имя и порт (настройки для Google)
mailhub=smtp.gmail.com:587