---
source_image: page_199.png
page_number: 199
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.49
tokens: 7265
characters: 1327
timestamp: 2025-12-24T04:37:35.052242
finish_reason: stop
---

Рис. 5.3. Конвейерная обработка

ным каналом, создаваемым системным вызовом pipe(2), куда и будут перенаправлены потоки команд при помощи системного вызова dup2(2).

При использовании конвейерной обработки в примере из листинга 5.8 отправка списка пакетов, установленных в системе почтовым сообщением, происходит без промежуточного файла, ровно как и подсчет количества файлов, размер которых равен 0 байт (листинг 5.9).

Листинг 5.8. Конвейерная обработка: отправка списка установленных пакетов по электронной почте

bender@ubuntu:~$ dpkg -l | mail dketov@gmail.com

Листинг 5.9. Конвейерная обработка: подсчет количества пустых файлов

bender@ubuntu:~$ find / -size 0 2>/dev/null | wc -l
98940

Листинг 5.10. Конвейерная обработка: вывод части файла

bender@ubuntu:~$ getent passwd | cut -f 1 -d : | head -8 | tail -5
sys
sync
games
man
lp

В примере из листинга 5.10 конвейерная обработка используется для последовательного получения строкового представления свойств всех доступных1 пользователей.

1 Учетные записи пользователей, зарегистрированных непосредственно в системе (локально), хранятся в файле /etc/passwd, см. passwd(5). Все доступные в системе учетные записи, в том числе, например, централизованные в (сетевых) LDAP-каталогах организации, могут быть получены при помощи команды getent(1) благодаря службе имен.