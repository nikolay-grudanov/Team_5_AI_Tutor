---
source_image: page_202.png
page_number: 202
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.30
tokens: 7543
characters: 2152
timestamp: 2025-12-24T04:37:46.255838
finish_reason: stop
---

5.4. Подстановки командного интерпретатора

Еще одной важной способностью командного интерпретатора, необходимой для разработки сценариев, является возможность подставлять различные вычисляемые значения в качестве аргументов запускаемых команд.

5.4.1. Подстановки имен файлов

Простейшими значениями, вычисляемыми командным интерпретатором, являются имена файлов, соответствующие некоторым шаблонам. Язык шаблонных выражений крайне прост и основывается на понятии метасимволов, т. е. символов со специальными значениями (табл. 5.1).

Таблица 5.1. Шаблонные метасимволы

<table>
  <tr>
    <th>Метасимвол</th>
    <th>Значение</th>
  </tr>
  <tr>
    <td>?</td>
    <td>Один любой символ</td>
  </tr>
  <tr>
    <td>*</td>
    <td>Любое количество любых других символов</td>
  </tr>
  <tr>
    <td>[ab...z]</td>
    <td>Любой символ из набора a, b, ..., z</td>
  </tr>
  <tr>
    <td>[!ab...z] или [^ab...z]</td>
    <td>Любой символ не из набора a, b, ..., z</td>
  </tr>
  <tr>
    <td>~</td>
    <td>Домашний каталог пользователя</td>
  </tr>
</table>

Использование метасимволов в команде интерпретатора заставляет его искать файлы, чьи имена соответствуют составленному шаблонному выражению, и подставлять их вместо самих шаблонных выражений.

В примере из листинга 5.15 шаблонное выражение y* используется для подстановки имен файлов, начинающихся с буквы y, за которой следует любое количество любых символов. Выражение ???.* означает имена файлов, которые содержат три любых символа, потом символ . (точка), за которым следует любое количество любых символов. Сама работа подстановок интерпретатора может быть отслежена в режиме трассировки, который включается ① командой set -x (а выключается, как ни странно, командой set +x). В этом режиме интерпретатора видно, что выражение [0-9]*, означающее имена файлов, начинающиеся с цифры, сначала вычисляется ① до соответствующего списка имен, который подставляется вместо самого шаблонного выражения, и только потом выполняется команда ls(1), в аргументах которой оно было использовано. Аналогично, вычисляется ② и подставляется шаблонное выражение [!a-z0-9]*, означающее имена файлов, начинающиеся