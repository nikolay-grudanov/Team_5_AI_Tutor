---
source_image: page_200.png
page_number: 200
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.03
tokens: 7576
characters: 2262
timestamp: 2025-12-24T04:37:46.709621
finish_reason: stop
---

тельских учетных записей при помощи getent(1), затем вырезания из этих строк при помощи cut(1) 1-го поля (-f) посредством разделителя : (-d), далее выбора 8 первых строк командой head(1), а затем выбора 5 последних строк предыдущего результата командой tail(1).

Листинг 5.11. Конвейерная обработка: генерация трех случайных восьмизначных паролей

bender@ubuntu:~$ tr -dc a-zA-Z0-9 </dev/urandom | fold -w 8 | head -3
Ta3Su0vJ
1vK7H7Fw
Vs7FK8md

В листинге 5.11 конвейерная обработка в совокупности с перенаправлением потока STDIN применяется для генерации трех случайных строк, которые могут использоваться, например, в качестве начальных паролей пользовательских учетных записей. Для этого из специального файла псевдоустройства urandom(4), генерирующего случайную последовательность байтов, отбираются командой транслитерации tr(1) только строчные и прописные (заглавные) буквы латинского алфавита и цифры a-zA-Z0-9 путем удаления (-d) из выходного потока символов, не (-c) попавших в заданный набор. Затем команда fold(1) разбивает свой входной поток по 8 символов в строке выходного потока, после чего команда head(1) выбирает только 3 первые строки.

Листинг 5.12. Конвейерная обработка: удаление пустых файлов

bender@ubuntu:~$ find /tmp -user bender -size 0 -print0 2>/dev/null | xargs -0 rm -f

В листинге 5.12 конвейерная обработка вместе с командой xargs(1) используется для того, чтобы во временном каталоге /tmp удалить все файлы, принадлежащие (-user) пользователю bender, размер (-size) которых равен нулю. Сначала при помощи команды find(1) производится поиск файлов согласно указанным критериям и вывод списка их имен с разделением имен нулевым символом (-print0). Затем команда xargs(1) последовательно «применяет» команду rm(1) безусловного (-f) удаления файла для каждого имени из списка. Следует отметить, что такая конструкция работает с абсолютно любыми именами файлов, включая файлы с пробелами, табуляциями, переводами строк и другими управляющими символами в имени, т. к. имена файлов в списке разделяются нулевым символом, а он единственный запрещен к использованию в именах файлов.

Аналогично, в листинге 5.13, используя конвейер, при помощи команды groups(1) можно вывести групповое членство всех пользователей, доступных в системе.