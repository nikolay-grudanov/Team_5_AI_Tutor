---
source_image: page_075.png
page_number: 75
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.85
tokens: 7554
characters: 2530
timestamp: 2025-12-24T04:34:02.264789
finish_reason: stop
---

ные моменты времени). Например, программы halt(8), shutdown(8), reboot(8), poweroff(8) и telinit(8) передавали ранее посредством именованного канала /dev/initctl команды перезагрузки, выключения питания и другие диспетчеру init(8)1, который и выполнял соответствующие действия.

Сокет используют при взаимодействии по схеме «клиент — сервер» (client-server), т. е. один сервер принимает и отправляет информацию от многих и ко многим (одновременно) клиентам. Например, в целях централизованного сбора событийной информации разнообразные службы операционной системы (в частности, служба периодического выполнения заданий cron(8), служба печати cupsd(8) и даже команда logger(1)) передают посредством файлового сокета /dev/log (в современный момент является символической ссылкой на актуальный /run/systemd/journal/dev-log) сообщения о происходящих событиях службе журнализации, представленной в современных системах systemd-journald(8).

3.3. Файловые дескрипторы

Основными операциями, предоставляемыми ядром операционной системы программам (а точнее — процессам2) для работы с файлами, являются системные вызовы open(2) read(2), write(2) и close(2). В соответствии со своими именами эти системные вызовы предназначены для открытия и закрытия файла, для чтения из файла и записи в файл. Дополнительный системный вызов ioctl(2) (input output control) используется для управления драйверами устройств и, как следствие, применяется в основном для специальных файлов устройств.

При запросе процесса на открытие файла системным вызовом open(2) производится его однократный (относительно медленный, см. разд. 3.2.2) поиск имени файла в дереве каталогов и для запрошившего процесса создается так называемый файловый дескриптор (описатель, от англ. descriptor). Файловый дескриптор «содержит» информацию, описывающую файл, например индексный дескриптор inode файла на файловой системе, номера major и minor устройства, на котором располагается файловая система файла, режим открытия файла и прочую служебную информацию. При последующих операциях read(2) и write(2) доступ к самим данным файла происходит с использованием файлового дескриптора (что исключает медленный поиск файла в дереве каталогов).

Файловые дескрипторы пронумерованы и содержатся в таблице открытых процессом файлов, которую можно получить (листинг 3.18) при помощи диагностической программы lsof(1). Наоборот, получить список процессов, открывших тот или иной

1 В современных системах его роль выполняет systemd(1), см. главу 10.
2 Подробнее о процессах см. главу 4.