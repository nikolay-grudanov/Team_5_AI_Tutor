---
source_image: page_355.png
page_number: 355
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.26
tokens: 7567
characters: 2145
timestamp: 2025-12-24T04:42:27.438105
finish_reason: stop
---

В листинге 9.9 показано, насколько утилита runc(1) облегчает запуск контейнера. На первом шаге ① создается шаблонная OCI-конфигурация образа контейнеров в файле config.json, которая по умолчанию предполагает наличие (ch)root-каталога ② с именем rootfs. Совокупность конфигурационного файла и корневого каталога контейнера (упрощая) и есть его образ (image).

На втором шаге ③ при помощи штатной Ubuntu/Debian-утилиты debootstrap(8) в каталог rootfs инсталлируется минимальный набор пакетов Ununtu 16.04 (xenial), включающий командный интерпретатор, базовые утилиты и все необходимые им библиотеки. Кроме того, инсталлируется дополнительный пакет iproute2, поставляющий утилиту ip(8) для конфигурирования сетевых интерфейсов. На последнем, завершающем, шаге на основе полученного образа собственно запускается ④ один экземпляр контейнера с именем c-132, первым процессом в котором запускается командный интерпретатор sh (согласно конфигурации по умолчанию).

Как и ожидалось, процессы внутри контейнера выполняются в своих пространствах имен ①, а в сетевое пространство не добавлен ни один интерфейс. Конфигурированием самого контейнера, например созданием сетевых интерфейсов и помещением их в соответствующее сетевое пространство имен утилита runc(1) не занимается, т. к. ее основное назначение согласно спецификации «исполнять» контейнер, а не конфигурировать. Именно системы контейнеризации, подобные Docker, являются законченным набором инструментов для создания, конфигурирования, запуска, останова и удаления контейнеров, а также манипулирования их образами.

Листинг 9.10. Запуск Docker-контейнера

rick@ubuntu:~ $ docker image ls
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.40/images/json: dial unix /var/run/docker.sock: connect: permission denied

rick@ubuntu:~ $ ls -l /var/run/docker.sock
① srw-rw---- 1 root docker 0 янв 11 11:11 /var/run/docker.sock=

rick@ubuntu:~ $ id
? uid=1000(rick) gid=1000(rick) groups=1000(rick),4(adm),...,27(sudo),...,131(sambashare)

rick@ubuntu:~ $ sudo gpasswd -a rick docker
rick@ubuntu:~ $ logout