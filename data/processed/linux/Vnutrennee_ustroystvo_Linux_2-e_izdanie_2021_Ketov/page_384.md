---
source_image: page_384.png
page_number: 384
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.86
tokens: 7573
characters: 2197
timestamp: 2025-12-24T04:43:26.468746
finish_reason: stop
---

2 grub-install: info: reading /usr/lib/grub/x86_64-efi/part_gpt.mod.
2 grub-install: info: kernel_img=0x5636d82a7800, kernel_size=0x1a000.
2 grub-install: info: the core size is 0x1e289.
2 grub-install: info: writing 0x21000 bytes.

3 grub-install: info: copying '/boot/grub/x86_64-efi/core.efi' -> '/boot/efi/EFI/BOOT/BOOTX64.EFI'.

Installation finished. No error reported.

Загрузчик W:[GRUB] сам по себе имеет модульное устройство, поэтому при его инсталляции сначала в каталог /boot/grub копируются ① его модули *.mod (и другие компоненты, например шрифты .pf2) на корневую ФС, а затем формируется стартовый файл core.efi путем компоновки нескольких модулей ②, а затем он «правильным образом» помещается¹ на ESP-раздел ③. Таким образом, получается, что при загрузке стартового файла с ESP он содержит только минимально необходимые модули (драйвер ФС ext2.mod и таблицы разделов gpt_part.mod), но позволяющие динамически догружать любые другие модули с корневой ФС. Нужно отметить, что такую (классическую) схему инсталлятор загрузчика выбрал потому, что его опции указывают, что инсталляция ведется на «съемное» --removable устройство и не требуется соответствовать спецификациям «безопасной загрузки» --no-uefi-secure-boot, когда проверяются цифровые подписи загружаемых компонент (и компоновка неподписанного core.efi на лету уже не сработает). Для «стационарных» устройств используются похожие, но немного другие схемы, что можно наблюдать в листингах 10.1 и 10.2.

Процедура инсталляции ядра, показанная в листинге 10.19, намного проще и обычно ограничивается инсталляцией пакета ① ядра. Этот пакет, как правило, зависит от необходимых утилит ① работы с образами «временной» корневой ФС (см. листинг 10.5), модулей ядра ② и службы ③ udev, которая начинает работу на самых ранних этапах загрузки, еще при поиске и монтировании «настоящей» корневой ФС.

Листинг 10.19. Инсталляция ядра

root@ubuntu:/# apt install linux-image-5.3.0-18-generic
Reading package lists... Done
Building dependency tree
Reading state information... Done
...

¹ Под именем BOOTX64.EFI, которое по умолчанию ищет «аппаратный» UEFI-загрузчик на подключенных накопителях, если ему вообще разрешено с них загружаться.