---
source_image: page_367.png
page_number: 367
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.71
tokens: 7425
characters: 1938
timestamp: 2025-12-24T04:42:46.001138
finish_reason: stop
---

В листинге 10.5 показано, что для просмотра содержимого initrd.img используется утилита lsinitramfs(8), тогда как для распаковки и запаковки образа предназначаются утилиты mkinitramfs(8) и unmkinitramfs(8).

10.2. Как обнаруживаются драйверы устройств

Как уже упоминалось в разд. 4.1.1, большинство драйверов устройств выполнено в виде динамически загружаемых модулей ядра, которые могут пристыковываться к ядру и отстыковываться от него в любой момент времени исполнения. Однако открытым остается вопрос о том, каким образом нужные модули загружаются при обнаружении того или иного устройства.

Когда-то очень давно (когда динамически загружаемых драйверов еще не существовало) для добавления каждого нового устройства необходимо было пересоздавать новый бинарный образ ядра (из исходного кода), куда бы вошел нужный драйвер. Практиковался также вариант с бинарным образом ядра, поддерживающим все (ну или почти все) возможные драйверы, жертвуя размером бинарного образа и потреблением памяти. В те времена ядро при загрузке пробовало проинициализировать все включенные в него драйверы в надежде обнаружить соответствующие устройства. При добавлении новых устройств все равно приходилось перезагружать операционную систему, потому что для их добавления обычно обеспечивали аппаратные средства.

С появлением динамически загружаемых модулей и драйверов стало возможным создать бинарный образ ядра (точнее, его остова) и все его модулей единожды, а затем загружать драйверы по мере необходимости. Необходимость в перезагрузке существенно уменьшилась с появлением все большего количества устройств с «горячим» подключением — на шинах PCMCIA, USB, SATA и даже PCI. Вместе с тем перестал себя оправдывать подход с загрузкой всех драйверов подряд, а с устройствами «горячего» подключения он вообще не работоспособен как с точки зрения здравого смысла, так и просто в силу количества модулей (в листинге 10.6), являющихся драйверами устройств.