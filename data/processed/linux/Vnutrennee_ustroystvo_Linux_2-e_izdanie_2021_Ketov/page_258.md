---
source_image: page_258.png
page_number: 258
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.43
tokens: 7419
characters: 1814
timestamp: 2025-12-24T04:39:08.851919
finish_reason: stop
---

6.3. Служба имен и DNS/mDNS-резолверы

Основными идентификаторами сетевого взаимодействия в стеке протоколов TCP/IP являются числа — IP-адреса узлов и номера портов TCP/UDP, «человеческое» использование которых довольно неудобно1. Использование строковых имен для узлов и портов приводит к необходимости отображать «человеческие» имена в «протокольные» числа и обратно, что возложено на службу имен (name service). Как указывалось ранее, служба имен вообще предназначается для организации доступа приложений к свойствам каталогизируемых сущностей по их имени: к UID пользователя по имени его учетной записи, к IP-адресу по имени узла, к номеру порта TCP/UDP по имени сетевой службы, использующей его, и т. д.

Отображение имен сущностей на их свойства зачастую выполняется различными способами в разных каталогах, что определяется конфигурацией коммутатора службы имен nsswitch.conf(5) (name service switch configuration) и наличием ее соответствующих модулей libnss_*.*.so.?

В листинге 6.10 иллюстрируется такая конфигурация отображения имен узлов hosts ①, которая использует сначала файловую таблицу ① /etc/hosts — см. hosts(5), а затем — службы W:[mDNS] ② и W:[DNS] ③.

Аналогично, номера портов сетевых служб services отображаются сначала с использованием файла индексированной базы данных (соответствующий модуль libnss_db.so.2 оказался не установлен), а затем с использованием файловой таблицы /etc/services — см. services(5).

Листинг 6.10. Служба имен и ее модули

lumpy@ubuntu:~$ grep hosts /etc/nsswitch.conf
hosts: files mdns4_minimal [NOTFOUND=return] dns
lumpy@ubuntu:~$ grep services /etc/nsswitch.conf
services: db files
lumpy@ubuntu:~$ find /lib/ -name 'libnss_*'

1 Если с 32-битным IPv4-адресом еще можно было совладать, то 128-битный адрес IPv6 не оставляет человеку практически никаких шансов.