---
source_image: page_134.png
page_number: 134
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.53
tokens: 7472
characters: 1716
timestamp: 2025-12-24T04:35:43.516859
finish_reason: stop
---

В примере из листинга 4.17 компрессор pbzip2(1) создает при помощи системного вызова clone(2) семь «дочерних» нитей ①...⑦ PID = 12514→12520, которые имеют общую память CLONE_VM, общие открытые файлы CLONE_FILES и прочие общие ресурсы.

Листинг 4.17. Системный вызов clone — порождение новой нити

fitz@ubuntu:~$ strace -fe clone,fork,execve pbzip2 plan9.iso
execve("/usr/bin/pbzip2", ["pbzip2", "plan9.iso"], 0x7ffd28884938 /* 35 vars */) = 0
clone(child_stack=0x7f1d46d38fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|... ) = 12514
...
clone(child_stack=0x7f1d46537fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|...) = 12520
strace: Process 12520 attached
...
strace: Process 12514 attached
[pid 12514] +++ exited with 0 +++
...
[pid 12520] +++ exited with 0 +++
+++ exited with 0 +++

4.4. Дерево процессов

Процессы, попарно связанные дочерне-родительскими отношениями, формируют дерево процессов операционной системы. Первый процесс init(1), называемый прародителем процессов, порождается ядром операционной системы после инициализации и монтирования корневой файловой системы, откуда и считывается программа /sbin/init (в современных системах является символической ссылкой на актуальный /lib/systemd/systemd). Праводитель процессов всегда имеет PID = 1, а его основной задачей является запуск разнообразных системных служб, включая запуск обработчиков (см. разд. 2.2.1) алфавитно-цифрового терминального доступа getty(8), менеджера дисплеев (см. разд. 7.5.3) графического доступа, службы дистанционного доступа SSH (см. разд. 6.4.1) и прочих (см. главу 10). Кроме того, systemd(1) назначается приемным родителем для «осиротевших» процессов, а также отслеживает аварийные завершения запускаемых им служб и перезапускает их.