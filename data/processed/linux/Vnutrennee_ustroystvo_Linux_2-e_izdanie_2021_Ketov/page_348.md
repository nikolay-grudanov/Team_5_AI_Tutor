---
source_image: page_348.png
page_number: 348
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.78
tokens: 7555
characters: 2375
timestamp: 2025-12-24T04:42:11.065294
finish_reason: stop
---

9743 0 {ps} busybox sh
/ # exit
rick@ubuntu:~$ mount -t proc
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
② none on /home/rick/c-137/proc type proc (rw,relatime)

В листинге 9.4 показано монтирование ① файловой системы /proc внутри протоконтейнера, после чего утилиты ps(1) ③ и mount(8) ② начинают исправно функционировать. Однако нужно заметить, что если внутри контейнера видны только файловые системы, смонтированные ниже его корневого каталога ①, то в самой системе видны абсолютно все смонтированные в ее дерево файловые системы, включая те, которые смонтированы внутри и для контейнеров ②, что доставляет некоторые неудобства. Более того, в протоконтейнере видны абсолютно все процессы операционной системы ③, что в принципе ожидаемо, т.к. механизм чрутизации изначально предназначался для изоляции в пространстве дерева каталогов и никакого отношения к пространству процессов не имеет.

Еще одно замечание по поводу busybox в листинге 9.4 касается того, что далеко не все команды реализуются им как «встроенные» в его интерпретатор. Многие из них, например mount или cat и подобные, вызываются напрямую другими программами и, как следствие, должны быть «внешними» в окружении, как это обычно бывает в «normalных» случаях. Именно поэтому они должны иметь имена в каталогах /bin или /sbin, которые просто линкуются на сам busybox, который, как и в случае со встроенными командами, их и реализует.

9.2. Пространства имен

Для «настоящей» контейнеризации, т.е. изоляции в других пространствах, отличных от дерева каталогов, в Linux появились так называемые пространства имен (namespaces), которые на деле оказываются достаточно простым механизмом, не многим сложнее chroot(2).

Например, пространства имен процессов (PID namespaces, нужно заметить, что процессы «именуются» своими идентификаторами) позволяют изолировать процессы так, что они «видят» друг друга, только если находятся в одном пространстве. Более того, в каждом пространстве нумерация процессов начинается с единицы, а идентификаторы разных процессов из разных пространств могут совпадать.

Точно так же, пространства монтирований (mount namespaces) позволяют процессам видеть только файловые системы, смонтированные в их пространстве. Аналогично, сетевые пространства (net namespaces) изолируют сетевые интерфейсы и сокеты, пространства средств межпроцессного взаимодействия (IPC namespaces)