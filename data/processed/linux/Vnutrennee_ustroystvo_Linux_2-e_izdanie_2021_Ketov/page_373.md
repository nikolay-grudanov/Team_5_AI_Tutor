---
source_image: page_373.png
page_number: 373
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.21
tokens: 7540
characters: 2191
timestamp: 2025-12-24T04:42:59.556318
finish_reason: stop
---

файловых систем. В результате такой трактовки файловые системы (да и вся «инициализация») монтируются по мере доступности, а вся работа над юнитами происходит событийно и максимально параллельно.

В листинге 10.8 показано «дерево юнитов» активированных systemd при старте ОС и находящихся в выполняющемся (running) состоянии. Нужно заметить, что оно далеко не всегда повторяет дерево процессов, т. к. процессы зачастую теряют дочерне-родительские отношения при своей работе. Для группировки юнитов systemd использует иерархию групп управления (см. разд. 9.4), позволяющую ему группировать процессы «по смыслу». Все процессы пользователей размещаются в группе управления user.slice, а процессы системных служб — в группе system.slice. Важно заметить, что сами user.slice и system.slice естественно являются юнитами (см. systemd.slice(5)), т. к. systemd манипулирует только юнитами и ничем, кроме юнитов, и под каждый из них создает свою группу управления.

Каждая проиллюстрированная1 системная служба выполняется в своей индивидуальной группе управления, что естественным образом позволяет легко и удобно ограничить ее в ресурсах (изменив или дополнив конфигурацию systemd). Процессы интерактивных пользовательских сеансов помещаются в «динамически создаваемые» группы (см. systemd.scope(5)), в данном случае в так называемые сеансовые группы, чем заведует служба-компаньон systemd-logind(8). В листинге 10.8 можно наблюдать группу процессов графического сеанса session-7.scope и группу процессов сеанса удаленного доступа SSH session-25.scope.

Листинг 10.8. Система systemd

morty@ubuntu:~$ systemctl status

● ubuntu
  State: running
  Jobs: 0 queued
  Failed: 0 units
  Since: Sun 2020-01-12 18:14:57 MSK; 1 day 6h ago
① CGroup: /
① └─user.slice
    └─user-1000.slice
        └─user@1000.service
            ┌─gnome-terminal-server.service
            │   ┌─3587 /usr/libexec/gnome-terminal-server
            │   └─3597 bash
            └─init.scope
                ┌─1750 /lib/systemd/systemd --user
                └─1754 (sd-pam)
                ...

1 Все эти службы описывались ранее, см. containerd и dockerd в главе 9, NetworkManager и avahi-daemon в главе 6, gdm в главах 8 и 7.