---
source_image: page_131.png
page_number: 131
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.05
tokens: 7579
characters: 1851
timestamp: 2025-12-24T04:35:36.202340
finish_reason: stop
---

событий и записывает в журнальные файлы каталога /var/log/* и т. д. Параллельная обработка потоков поступающих событий при помощи нитей производится с минимально возможными накладными расходами, что позволяет достигать колоссальной производительности по количеству обрабатываемых сообщений в единицу времени.

Распараллеливание используется не только для псевдоодновременного выполнения ветвей параллельной программы, но и для их настоящего одновременного выполнения несколькими центральными процессорами. В примере из листинга 4.15 показано, как сокращается время сжатия ISO-образа файла при использовании параллельного упаковщика pbzip2(1) по сравнению с последовательным bzip2(1). Для измерения времени упаковки применяется встроенная команда интерпретатора time, при этом сначала измеряется время упаковки ① и время распаковки ② последовательным упаковщиком, а затем — время упаковки ① и время распаковки ② параллельным упаковщиком. Команды упаковки запускаются на «заднем фоне», оценивается наличие процессов и нитей паковщиков, после чего они переводятся на «передний фон» встроенной командой интерпретатора fg (foreground) и оцениваются затраты времени.

Листинг 4.15. Параллельные многонитевые утилиты

fitz@ubuntu:~$ ls -lh plan9.iso
-rw-r--r-- 1 fitz fitz 287M нояб. 28 15:47 plan9.iso

① fitz@ubuntu:~$ time bzip2 plan9.iso &
[1] 5545
fitz@ubuntu:~$ ps f
   PID TTY      STAT TIME COMMAND
 4637 pts/0    S    0:00 -bash
 5545 pts/0    S    0:00 \_ -bash
 5546 pts/0    R   0:12 \_ bzip2 plan9.iso
 5548 pts/0    R+   0:00 \_ ps f
fitz@ubuntu:~$ ps -fLp 5546
UID   PID PPID LWP C NLWP STIME TTY TIME CMD
fitz  5546 5545 5546 96 1 10:50 pts/0 00:00:22 bzip2 plan9.iso
fitz@ubuntu:~$ fg
time bzip2 plan9.iso

real 0m54.780s
user 0m51.772s
sys 0m0.428s
fitz@ubuntu:~$ ls -lh plan9.iso.bz2
-rw-r--r-- 1 fitz fitz 89M нояб. 28 15:47 plan9.iso.bz2