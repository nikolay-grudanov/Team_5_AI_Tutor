---
source_image: page_165.png
page_number: 165
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.75
tokens: 7254
characters: 1266
timestamp: 2025-12-24T04:36:28.272019
finish_reason: stop
---

В память процесса интерпретатора отображен исполняемый ELF-файл его программы ①② и ELF-файлы всех библиотек ③, от которых она зависит. Отображение ELF-файлов выполняется частями — сегментами (при помощи readelf(1) можно получить их список), в зависимости от их назначения. Так, например, сегмент программного кода ① отображен в страницы ①, доступные на чтение r и выполнение x, сегмент данных ② отображен в страницы ②, доступные на чтение r и запись w, и т. д.

Более того, выделение страниц памяти по требованию (heap, куча) в процессе работы процесса ④ реализуется при помощи «воображаемого» отображения некоторого несуществующего, «анонимного файла» [anon] на страничные кадры. Необходимо отметить, что механизм виртуальной памяти при освобождении неиспользуемых страниц выгружает в специальную область подкачки SWAP (см. рис. 4.4) только «анонимные» страничные кадры и «анонимизированные», полученные копированием при изменении (согласно принципу COW). Неанонимные измененные кадры выгружаются непосредственно в соответствующие им файлы, а неизмененные освобождаются вовсе без выгрузки, т. к. уже «заранее выгружены».

В примере из листинга 4.38 иллюстрируются два способа выделения памяти по требованию: явный — при помощи системного вызова mmap(2) с аргументом