---
source_image: page_349.png
page_number: 349
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.85
tokens: 7658
characters: 2185
timestamp: 2025-12-24T04:42:15.209006
finish_reason: stop
---

изолируют разделяемую память, очереди сообщений и семафоры (см. разд. 4.9.5), а пространства пользователей (user namespaces) изолируют пользовательские идентификаторы, которые могут в каждом пространстве начинаться с 0 (!), т.е. обеспечивать контейнерам собственного «виртуального» пользователя root. На текущий момент различают 8 различных типов пространств, подробную информацию о которых можно найти в странице руководства namespaces(7).

По умолчанию все процессы выполняются в одних и тех же пространствах и, как следствие, совместно используют (share) ресурсы, но при порождении процесса системным вызовом clone(2)1 или позднее при работе процесса при помощи системного вызова unshare(2) можно создать новое пространство, в которое и будет перемещен процесс. А по умолчанию, согласно традициям UNIX, процессы просто унаследуют пространства своих родителей при порождении, т.е. продолжат выполняться в одних и тех же пространствах.

Как и большинство сущностей в Linux, пространства имен являются файлами в некоторой псевдофайловой системе 1, однако, в отличие от «нормальных» файлов, они не имеют имен и идентифицируются только номерами 2 их индексных дескрипторов inode. Показать номера пространств процессов может утилита ps(1), поскольку она получает любую информацию о процессах (в том числе идентификаторы их пространств) через псевдофайловую систему /proc (листинг 9.5).

Листинг 9.5. Идентификаторы пространств имен процесса

rick@ubuntu:~$ ps up $$
USER    PID %CPU %MEM   VSZ RSS TTY STAT START TIME COMMAND
rick    2314 0.0 0.2 19844 5788 pts/0 Ss 13:07 0:01 -bash

rick@ubuntu:~$ ls -la /proc/$$/ns
total 0
dr-x--x--x 2 rick rick 0 янв 11 16:25 .
dr-xr-xr-x 9 rick rick 0 янв 11 13:07 ..
lrwxrwxrwx 1 rick rick 0 янв 11 16:25 mnt -> 'mnt:[4026531840]'
lrwxrwxrwx 1 rick rick 0 янв 11 16:25 net -> 'net:[4026531992]' →
lrwxrwxrwx 1 rick rick 0 янв 11 16:25 pid -> 'pid:[4026531836]'

rick@ubuntu:~$ ps o pid,netns,mntns,pidns,comm p $$
PID    NETNS    MNTNS    PIDNS    COMMAND
10149  4026531992  4026531840  4026531836 bash

1 Который определяет, будут ли совместно использованы память, файловые дескрипторы и другие ресурсы между порождающим и порожденным процессами.