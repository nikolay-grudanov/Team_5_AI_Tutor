---
source_image: page_066.png
page_number: 66
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.92
tokens: 5694
characters: 2049
timestamp: 2025-12-24T04:11:00.497603
finish_reason: stop
---

можно использовать в сочетании с любыми командами перемещения курсора. \ap переключит состояние текущего абзаца. \G — от начала текущей строки до конца файла. \\ переключит состояние текущей строки.

Если вас заинтересовала возможность создания собственных операторов, начните с чтения справки :h :map-operator http://vimdoc.sourceforge.net/htmldoc/map.html#:map-operator.

Собственные команды перемещения получают поддержку существующих операторов
Стандартный набор команд перемещения в Vim является достаточно полным, но мы можем еще больше расширить его новыми командами перемещения и текстовыми объектами.

Отличным примером может служить расширение textobj-entire, созданное Кана Натсуно (Kana Natsuno)1. Оно добавляет в Vim поддержку новых текстовых объектов: ie и ae, — воздействующих на весь файл.

Если нам потребуется применить автоматическое оформление отступов ко всему файлу с помощью команды =, мы могли бы выполнить команду gg=G (то есть gg, чтобы перейти в начало файла, и =G, чтобы оформить отступы от текущей позиции курсора до конца файла). Но если установить расширение textobj-entire, то же самое можно выполнить более простой командой =ae. Ей безразлична текущая позиция курсора; она всегда воздействует на файл целиком.

Обратите внимание, что если установить оба расширения, commentary и textobj-entire, мы сможем использовать их совместно. Команда \ae переключит состояние строк во всем файле.

Если вас заинтересовала возможность создания собственных команд перемещения, начните с чтения справки :h omap-info http://vimdoc.sourceforge.net/htmldoc/map.html#omap-info.

Режим ожидающего оператора

Командный режим, режим вставки и визуальный режим обычно легко идентифицируются, но Vim поддерживает и другие режимы, которые легко не заметить. Показательным примером является режим ожидающего оператора (operator-pending mode). Мы используем его десятки раз на дню, но обычно редактор находится в этом режиме доли секунды. Например, редактор входит в этот режим, когда мы вызываем

1 https://github.com/kana/vim-textobj-entire