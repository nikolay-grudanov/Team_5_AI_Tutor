---
source_image: page_333.png
page_number: 333
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.07
tokens: 5661
characters: 1726
timestamp: 2025-12-24T04:16:33.072320
finish_reason: stop
---

Сначала мы рассмотрим ситуацию, когда grep и Vim действуют независимо, никак не взаимодействуя друг с другом. Мы исследуем слабые стороны этого подхода, а затем перейдем к изучению интегрированного решения, лишенного подобных проблем.

Использование grep из командной строки

Допустим, что в процессе работы в Vim нам потребовалось отыскать каждое вхождение слова «Waldo» во всех файлах в текущем каталоге. Оставляя Vim, мы запускаем следующую команду:

⇒ $ grep -n Waldo *
department-store.txt:1:Waldo is beside the boot counter.
goldrush.txt:6:Waldo is studying his clipboard.
goldrush.txt:9:The penny farthing is 10 paces ahead of Waldo.

По умолчанию программа grep выводит по одной строке на каждое найденное совпадение, отображая содержимое строки с совпадением и имя файла. Флаг -n предписывает программе grep включать номера строк в вывод.

Итак, что мы можем сделать с этим выводом? Скажем так: мы могли бы интерпретировать его как оглавление. Опираясь на информацию в любой строке, мы могли бы открыть соответствующий файл и перейти к строке с указанным номером. Например, чтобы открыть файл goldrush.txt и перейти к строке 9, мы могли бы выполнить следующую команду оболочки:

⇒ $ vim goldrush.txt +9

Разумеется, имеющиеся у нас инструменты способны поддерживать более тесную интеграцию.

Вызов grep из редактора Vim

В редакторе Vim имеется команда :grep, являющаяся оберткой для внешней программы grep (см. :h :grep http://vimdoc.sourceforge.net/htmldoc/quickfix.html#:grep). Вместо вызова команды grep из командной оболочки мы можем выполнить ее, не покидая редактора:

⇒ :grep Waldo *

За кулисами Vim выполнит команду grep -n Waldo *. Но вместо вывода результатов работы grep Vim проанализирует их и сконстру-