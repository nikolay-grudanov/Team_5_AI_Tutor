---
source_image: page_117.png
page_number: 117
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.54
tokens: 5661
characters: 1866
timestamp: 2025-12-24T04:12:04.488758
finish_reason: stop
---

Символ % в командной строке Vim является сокращенной формой имени текущего файла (см. :h cmdline-special http://vimdoc.sourceforge.net/htmldoc/cmdline.html#cmdline-special). Мы можем использовать это обстоятельство для выполнения каких-либо операций с текущим файлом с помощью внешних команд. Например, редактируя сценарий на языке Ruby, его можно выполнить следующей командой:

⇒ :!ruby %

Редактор Vim предоставляет также множество модификаторов, позволяющих извлекать информацию из имени текущего файла, такую как путь к файлу или расширение (см. :h filename-modifiers http://vimdoc.sourceforge.net/htmldoc/cmdline.html#filename-modifiers). Загляните в рецепт 44 (глава 7), где дается пример их использования.

Синтаксис :!{cmd} отлично подходит для запуска одиночных команд, но как быть, если потребуется выполнить несколько команд в командной оболочке? В этом случае можно воспользоваться командой Vim :shell, которая запускает интерактивный сеанс командной оболочки (см. :h :shell http://vimdoc.sourceforge.net/htmldoc/various.html#:shell):

⇒ :shell
⇒ $ pwd
    /Users/drew/books/PracticalVim/code/ex_mode
⇒ $ ls
    duplicate.todo        loop.js
    emails.csv            practical-vim.html
    foobar.js             shopping-list.todo
    history-scrollers.vim
⇒ $ exit

Команда exit закроет сеанс и вернет нас в Vim.

Перевод редактора в фоновый режим работы

Команда :shell позволяет переключиться в интерактивный сеанс командной оболочки. Но если Vim уже выполняется в терминале, нам становятся доступны встроенные команды оболочки. Например, поддержка команд управления заданиями в оболочке bash, которые позволяют приостанавливать задания, переводя их в фоновый режим, и возобновлять — переводя их обратно на передний план.

Допустим, что мы запустили Vim в командной оболочке bash и нам нужно выполнить серию команд оболочки. Нажатие комбинации Ctrl-z