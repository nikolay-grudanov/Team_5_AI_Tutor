---
source_image: page_304.png
page_number: 304
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.95
tokens: 5548
characters: 1449
timestamp: 2025-12-24T04:15:55.600372
finish_reason: stop
---

Рецепт 100. Сортировка свойств в правилах CSS

Объединяя команду Ex с командой :global, можно также определить диапазон для команды [cmd]. Vim позволяет определять диапазон динамически, с использованием :g/{pattern} в качестве точки отсчета. В этом рецепте будет показано, как использовать данную особенность для сортировки свойств в блоках, внутри файла CSS.
Для демонстрации будет использоваться следующий файл:

global/unsorted.css
http://media.pragprog.com/titles/dnvim/code/global/unsorted.css

html {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
}
body {
    line-height: 1.5;
    color: black;
    background: white;
}

Допустим, что нам требуется отсортировать свойства внутри каждого правила в алфавитном порядке. Для этого можно было бы использовать встроенную команду :sort (:h :sort http://vimdoc.sourceforge.net/htmldoc/change.html#:sort).

Сортировка свойств внутри одного блока

Давайте для начала попробуем отсортировать с помощью команды :sort лишь часть файла (см. табл. 15.1).
Строки внутри фигурных скобок {} легко можно выбрать с помощью текстового объекта vi{. Последующая команда :'<,'>sort отсортирует строки в алфавитном порядке. Этот прием замечательно подходит, когда требуется отсортировать содержимое только одного блока, но давайте полагать, что наша таблица стилей содержит несколько сотен правил. Возможно ли как-то автоматизировать этот процесс?