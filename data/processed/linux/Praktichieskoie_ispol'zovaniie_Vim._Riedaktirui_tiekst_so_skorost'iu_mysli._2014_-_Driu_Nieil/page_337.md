---
source_image: page_337.png
page_number: 337
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.93
tokens: 5647
characters: 1800
timestamp: 2025-12-24T04:16:36.878889
finish_reason: stop
---

Однако есть ряд важных особенностей, которые требуется учитывать. Программа grep использует регулярные выражения POSIX, тогда как ack — регулярные выражения Perl. Если настроить использование программы ack командой :grep, увеличивается вероятность допустить ошибку при составлении регулярных выражений. Может, лучше было бы создать собственную команду :Ack, имя которой не вводило бы в заблуждение?
Именно этой стратегии следует расширение Ack.vim, а также расширение fugitive.vim¹, которое добавляет собственную команду :Ggrep, вызывающую git-grep. Мы можем установить несколько расширений, подобных этим, а так как каждый из них создает отдельную команду, не переопределяя команду :grep, они прекрасно могут сосуществовать, не конфликтую друг с другом. Мы не ограничены какой-то одной grep-подобной программой и можем использовать любые другие, которые наиболее удобны для нас.

Переход к строке и позиции в строке при использовании ack

Но программа ack имеет еще одну особенность. Когда она вызывается с ключом --column, ack выводит не только номер строки с совпадением, но и номер позиции в строке. Взгляните:

⇒ $ ack --nogroup --column Waldo *
department-store.txt:1:1:Waldo is beside the boot counter.
goldrush.txt:6:1:Waldo is studying his clipboard.
goldrush.txt:9:41:The penny farthing is 10 paces ahead of Waldo.

Если изменить значение параметра grepformat так, что включится извлечение дополнительной информации, при навигации по списку результатов мы сможем перемещаться непосредственно к найденному совпадению. Этого можно добиться при следующих настройках:

⇒ :set grepprg=ack\ --nogroup\ --column\ $*
⇒ :set grepformat=%f:%l:%c:%m

Спецификатор %c соответствует позиции в строке.

________
¹ https://github.com/mileszs/ack.vim и https://github.com/tpope/vim-fugitive соответственно.