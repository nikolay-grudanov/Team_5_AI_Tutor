---
source_image: page_278.png
page_number: 278
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.77
tokens: 5852
characters: 2138
timestamp: 2025-12-24T04:15:31.900135
finish_reason: stop
---

В этом примере мы не могли использовать поиск с заменой, чтобы заменить слова «content» словами «сору». Тогда мы использовали «формулу точки». Однако эту задачу можно было бы решить с помощью команды подстановки, добавив в нее флаг с:

⇒ :%s/content/copy/gc

Флаг с вынуждает редактор Vim показать каждое совпадение и спросить: «Replace with copy?» («Заменить на сору?»). В ответ на этот вопрос можно нажать y, чтобы подтвердить замену, или n, чтобы пропустить совпадение. Редактор выполнит наше требование, перейдет к следующему совпадению и снова задаст вопрос.
В данном примере мы могли бы ответить ynu, подтвердив подстановку для первого и последнего совпадений и оставив второе совпадение нетронутым.
Мы не ограничены двумя вариантами ответов. В действительно-сти Vim услужливо напоминает в строке запроса все доступные варианты ответов «y/n/a/q/l/^\E/^\Y», значения которых описываются в таблице ниже:

<table>
  <tr>
    <th>Вариант ответа</th>
    <th>Результат</th>
  </tr>
  <tr>
    <td>y</td>
    <td>Выполнить подстановку для данного совпадения</td>
  </tr>
  <tr>
    <td>n</td>
    <td>Пропустить данное совпадение</td>
  </tr>
  <tr>
    <td>q</td>
    <td>Прервать выполнение команды</td>
  </tr>
  <tr>
    <td>l</td>
    <td>«last» (последнее) – Выполнить подстановку для данного совпадения и прервать выполнение команды</td>
  </tr>
  <tr>
    <td>a</td>
    <td>«all» (все) – Выполнить подстановку для всех оставшихся совпадений</td>
  </tr>
  <tr>
    <td><C-e></td>
    <td>Прокрутить экран вверх</td>
  </tr>
  <tr>
    <td><C-y></td>
    <td>Прокрутить экран вниз</td>
  </tr>
</table>

Это описание можно также найти в разделе справки :h :s_c http://vimdoc.sourceforge.net/htmldoc/change.html#:s_c.

Обсуждение

Большинство клавиш на клавиатуре не выполняет никаких действий, когда Vim находится в режиме подстановки с подтверждением, что довольно необычно. Как всегда, клавиша <Esc> позволяет вернуться в командный режим, но остальные клавиши, кроме упомянутых выше, не дают никакого эффекта.
С одной стороны, такое поведение дает нам возможность выполнить операцию с минимумом нажатий на клавиши. Но с другой —