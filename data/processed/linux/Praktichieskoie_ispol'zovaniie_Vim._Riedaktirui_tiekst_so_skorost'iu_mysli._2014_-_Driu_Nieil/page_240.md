---
source_image: page_240.png
page_number: 240
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.42
tokens: 5756
characters: 1732
timestamp: 2025-12-24T04:14:39.390276
finish_reason: stop
---

Давайте перепишем регулярное выражение, соответствующее шестнадцатеричным кодам цвета, но на этот раз с применением ключа \v:

⇒ /\v#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})

Ключ \v в начале регулярного выражения придает всем последующим символам специальное значение. Теперь регулярное выражение выглядит более опрятно, без всех этих символов обратного слэша, вам так не кажется?

Использование класса шестнадцатеричных цифр

Мы можем еще больше упростить регулярное выражение: вместо перечисления всех символов [0-9a-fA-F] можно использовать символьный класс \x (см. :h /character-classes http://vimdoc.sourceforge.net/htmldoc/pattern.html#/character-classes). Этот шаблон действует точно так же, как и предыдущий:

⇒ /\v#(\x{6}|\x{3})

Обсуждение

В следующей таблице перечислены все регулярные выражения, созданные в этом рецепте, чтобы проще было сравнить их:

<table>
  <tr>
    <th>Шаблон</th>
    <th>Примечания</th>
  </tr>
  <tr>
    <td>#\([0-9a-fA-F]{6}\|[0-9a-fA-F]{3}\)</td>
    <td>Используя расширенный режим, мы вынуждены экранировать символы (, ), | и {, чтобы придать им специальное значение</td>
  </tr>
  <tr>
    <td>\v#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})</td>
    <td>Применение ключа \v обеспечивает специальную интерпретацию символов (, ), | и { по умолчанию</td>
  </tr>
  <tr>
    <td>\v#(\x{6}|\x{3})</td>
    <td>Задействовав символьный класс \x, который является эквивалентом класса [0-9A-Fa-f], можно сделать регулярное выражение еще короче</td>
  </tr>
</table>

Одно заключительное замечание: символ # не имеет специального значения, поэтому в регулярных выражениях он соответствует сам себе. Вспомните, как выше говорилось, что в самом волшебном режиме (very magic) специальное значение имеют все символы, кро-