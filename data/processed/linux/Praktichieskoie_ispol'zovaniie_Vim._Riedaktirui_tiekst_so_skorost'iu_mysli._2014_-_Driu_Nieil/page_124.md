---
source_image: page_124.png
page_number: 124
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.81
tokens: 5681
characters: 1661
timestamp: 2025-12-24T04:12:12.118007
finish_reason: stop
---

Рецепт 36. Следение за открытыми файлами с помощью списка буферов

Файлы хранятся на диске, тогда как буфер хранится в памяти. Когда мы открываем файл в Vim, его содержимое читается в буфер с тем же именем. Изначально содержимое буфера идентично содержимому файла, но оно начинает отличаться с того момента, как мы начинаем вносить изменения в буфер. Если мы пожелаем сохранить изменения, мы можем записать содержимое буфера обратно в файл. Большинство команд в Vim оперирует буферами, но есть и такие, которые оперируют файлами, включая команды :write, :update и :saveas.

Встречайте: список буферов

Редактор Vim позволяет работать с несколькими буферами одновременно. Давайте откроем несколько файлов, выполнив следующие команды в командной оболочке:

⇒ $ cd code/files
⇒ $ vim *.txt
2 files to edit

Шаблону *.txt в данном случае соответствуют два файла, находящиеся в текущем каталоге: a.txt и b.txt. Эта команда предлагает редактору Vim открыть оба файла. Когда Vim запустится, он отобразит единственное окно с буфером, в котором хранится содержимое первого из двух файлов. Второй буфер останется невидимым, но в него будет загружено содержимое второго файла, в чем можно убедиться, выполнив следующую команду:

⇒ :ls
1 %a "a.txt"      line 1
2   "b.txt"       line 0

Команда :ls выводит список всех буферов, присутствующих в памяти (:h :ls http://vimdoc.sourceforge.net/htmldoc/windows.html#:ls). Переключиться на следующий буфер в списке можно командой :bnext:

⇒ :bnext
⇒ :ls
1 #  "a.txt"      line 1
2 %a "b.txt"      line 1

Символ % показывает, какой из буферов отображается в текущем окне, а символом # отмечается альтернативный файл. Мы легко мо-