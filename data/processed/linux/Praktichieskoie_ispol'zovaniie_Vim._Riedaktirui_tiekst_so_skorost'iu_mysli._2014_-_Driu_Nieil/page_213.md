---
source_image: page_213.png
page_number: 213
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.52
tokens: 5698
characters: 1847
timestamp: 2025-12-24T04:14:08.109169
finish_reason: stop
---

Как следствие при последовательном подходе, столкнувшись с какими-либо неожиданностями, робот выдает сигнал тревоги и прекращает работу. Даже если на конвейерной ленте имеются детали, требующие обработки, работа все равно прекращается.

Параллельное выполнение макроса

При параллельном выполнении макроса понятие конвейера вообще исчезает. Вместо этого мы развертываем целый комплекс роботов, каждый из которых запрограммирован на выполнение одной и той же операции. Каждому дается единственная деталь. Если робот успешно справился с работой — хорошо. Если нет — ничего страшного.

В действительности Vim всегда выполняет макросы последовательно, независимо от выбранного нами подхода. Термин «параллельно» использовался, только чтобы провести аналогию с надежностью параллельного соединения. Это вовсе не означает, что Vim выполняет множество изменений параллельно.

В рецептах 67 и 69 ниже будут представлены примеры последовательного и параллельного выполнения макросов.

Рецепт 65. Товсь! Цельсь! Отставить!

Иногда в результате выполнения макроса могут получиться неожиданные результаты, но мы сможем избежать их, если будем следовать некоторым рекомендациям.

Выполняя макрос, Vim слепо повторяет записанную последовательность нажатий клавиш. Если не соблюдать меры предосторожности, результат выполнения макроса может отличаться от ожидаемого. Но у нас есть возможность конструировать более гибкие макросы, адаптирующие свое поведение в разных контекстах.

Главное правило: при записи макроса используйте только повторяемые команды.

Нормализация позиции курсора

Начиная записывать макрос, задайте себе вопрос: «Где я, откуда я пришел и куда направляюсь?» Прежде чем приступать к выполнению операций, убедитесь, что установили курсор в нужную позицию, чтобы команда выполнила необходимое действие именно там, где она должна его выполнить.