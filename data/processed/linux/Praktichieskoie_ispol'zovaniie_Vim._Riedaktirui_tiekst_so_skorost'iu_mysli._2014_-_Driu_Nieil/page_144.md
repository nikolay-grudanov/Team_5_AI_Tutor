---
source_image: page_144.png
page_number: 144
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.97
tokens: 5642
characters: 1739
timestamp: 2025-12-24T04:12:39.471858
finish_reason: stop
---

Рецепт 42. Открытие файла по его имени с использованием команды :find

Вообще говоря, комбинация %:h не так полезна, чтобы отображать ее на горячие клавиши. Более интересное решение описывается во врезке «Простой способ извлечения имени каталога активного файла» ниже.

Простой способ извлечения имени каталога активного файла

Попробуйте добавить следующую строку в свой файл vimrc:

snoremap <expr> %% getcmdtype() == ':' ? expand('%:h').'/' : '%%'

Теперь, когда вы будете вводить последовательность %% в командной строке Vim, она автоматически будет замещаться путем к каталогу, где хранится активный файл, как если бы вы ввели %:h<Tab>. Помимо удобства при работе с командой :edit, эта последовательность с успехом может использоваться и в иных командах Ex, таких как :write, :saveas и :read.
Другие примеры использования этого отображения можно увидеть в скринкасте на сайте Vimgcasts.org :edit command¹.

Рецепт 42. Открытие файла по его имени с применением команды :find

Команда :find позволяет открывать файлы по их именам, без необходимости указывать пути к ним. Чтобы задействовать эту возможность, сначала необходимо настроить параметр настройки path.
Мы всегда можем использовать команду :edit, чтобы открыть файл, указав полный путь к нему. Но как быть тем, кто работает с проектами, имеющими несколько уровней вложенных подкаталогов? Ввод полного пути каждый раз, когда потребуется открыть файл, может оказаться чересчур утомительным делом. В таких ситуациях на помощь к вам может прийти команда :find.

Подготовка

Для демонстрации будем использовать каталог files/mvc из загружаемого пакета файлов для этой книги. Запустите Vim в командной оболочке из каталога files/mvc:

¹ http://vimcasts.org/episodes/the-edit-command/