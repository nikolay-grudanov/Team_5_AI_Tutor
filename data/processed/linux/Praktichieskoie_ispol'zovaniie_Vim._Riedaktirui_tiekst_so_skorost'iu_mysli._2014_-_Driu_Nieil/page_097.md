---
source_image: page_097.png
page_number: 97
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 14.63
tokens: 5556
characters: 1472
timestamp: 2025-12-24T04:11:33.030904
finish_reason: stop
---

Рецепт 28. Выполнение команд для одной строки или для группы смежных строк

Многие команды редактора Ex принимают диапазон строк [range], к которым они применяются. Первую и последнюю строки диапазона можно указать в виде номеров строк, меток или шаблона.

Одной из сильных сторон команд Ex является возможность применения их ко множеству строк. Рассмотрим, как можно использовать ее на примере следующего фрагмента разметки HTML:

ex_mode/practical-vim.html
http://media.pragprog.com/titles/dnvim/code/ex_mode/practical-vim.html

1 <!DOCTYPE html>
2 <html>
3   <head><title>Practical Vim</title></head>
4   <body><h1>Practical Vim</h1></body>
5 </html>

Возьмем для демонстрации команду :print, которая просто выводит указанные строки ниже командной строки. Эта команда не выполняет никакой полезной работы, но с ее помощью легко продемонстрировать порядок определения диапазона. Попробуйте заменить :print в каждом из последующих примеров такой командой, как :delete, :join, :substitute или :normal, и вы получите представление о том, насколько полезными могут быть команды Ex.

Номера строк

Если ввести команду Ex, состоящую из единственного числа, Vim будет интерпретировать ее как адрес и переместит курсор в указанную строку. Мы можем перейти в начало файла, выполнив следующие команды:

⇒ :1
⇒ :print
  1 <!DOCTYPE html>

Наш фрагмент содержит всего пять строк. Если потребуется перейти в конец файла, можно ввести команду :5 или использовать специальный символ $: