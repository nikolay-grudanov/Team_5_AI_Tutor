---
source_image: page_256.png
page_number: 256
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.00
tokens: 5873
characters: 2139
timestamp: 2025-12-24T04:15:03.091617
finish_reason: stop
---

Рецепт 79. Встречайте: команда поиска

зовалась команда ?, тогда команда n будет перемещаться между совпадениями в обратном направлении. Команда N всегда вызывает перемещение в направлении, обратном первоначальному направлению поиска.

Иногда может понадобиться повторить поиск с использованием того же шаблона, но в другом направлении или с другим смещением. В таких случаях полезно помнить, что при выполнении команды поиска без шаблона Vim будет использовать шаблон из предыдущей попытки поиска. В табл. 13.1 перечисляются возможные способы выполнения повторного поиска.

Таблица 13.1. Способы повторного поиска

<table>
  <tr>
    <th>Команда</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td>n</td>
    <td>Переход к следующему совпадению с сохранением направления поиска и смещения</td>
  </tr>
  <tr>
    <td>N</td>
    <td>Переход к предыдущему совпадению с сохранением направления поиска и смещения</td>
  </tr>
  <tr>
    <td>/<CR></td>
    <td>Переход вперед, к следующему совпадению с тем же шаблоном</td>
  </tr>
  <tr>
    <td>?<CR></td>
    <td>Переход назад, к предыдущему совпадению с тем же шаблоном</td>
  </tr>
</table>

Допустим, что поиск был инициирован командой ?. После перехода назад, к предыдущему совпадению, мы решили двинуться вперед и просмотреть все имеющиеся совпадения. Мы могли бы продолжить с помощью клавиши N, но это вызывает ощущение выполнения поиска шиворот-навыворот. Вместо этого мы можем выполнить команду /<CR>, инициирующую поиск в прямом направлении с тем же шаблоном, а затем использовать клавишу n для обхода оставшихся совпадений.

В рецепте 84 ниже мы увидим более сложный пример, где при каждой повторной попытке поиска изменяется смещение.

История поиска

Редактор Vim сохраняет шаблоны поиска, чтобы их легко можно было использовать повторно. Когда видна строка ввода шаблона, мы можем прокручивать прежде использовавшиеся шаблоны, нажимая клавишу <Up> (со стрелкой вверх). В действительноности интерфейс просмотра истории поиска в точности повторяет интерфейс просмотра истории командной строки, который подробно рассматривался в рецепте 34 главы 5. Мы воспользуемся им в рецепте 85.