---
source_image: page_246.png
page_number: 246
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.83
tokens: 5758
characters: 2007
timestamp: 2025-12-24T04:14:48.138827
finish_reason: stop
---

Использование круглых скобок без сохранения совпадений

Иногда бывает желательно использовать круглые скобки для группировки, и при этом не требуется сохранять совпадения с подвыражениями в них. Примером может служить следующий шаблон, совпадающий с любой формой написания моего имени:

⇒ /\v(And|D)rew Neil

Здесь круглые скобки использовались, чтобы обеспечить совпадение с формой написания «Andrew» или «Drew», но в данном случае не требуется сохранять совпадение «And» или «D» с подвыражением в круглых скобках. Мы можем сообщить Vim, что он может не сохранять совпадение в регистре \1, добавив перед скобками знак процента %:

⇒ /\v%(And|D)rew Neil

И что это нам дает? В простейшем случае поиск по такому шаблону будет выполняться быстрее, хотя вы вряд ли это заметите. Кроме того, такая возможность может пригодиться, когда вы будете использовать в шаблоне несколько пар круглых скобок. Представьте, что потребовалось заменить все вхождения FIRSTNAME LASTNAME на LASTNAME, FIRSTNAME во всех формах написания моего имени. Сделать это можно так:

⇒ /\v(%(And|D)rew) (Neil)
⇒ :%s//\2, \1/g

Регулярное выражение сохранит в регистре \1 либо «Andrew», либо «Drew», а в регистре \2 — «Neil». Если бы в этом выражении не использовались простые группирующие скобки %( ), механизм поиска сохранил бы ненужный нам фрагмент и поле замены выглядело бы иначе.

Специальный символ <, например, можно выразить как \W\zs\w, а специальный символ > — как \w\ze\W.

В самом волшебном (very magic) режиме поиска границы слова можно обозначать неэкранированными символами < и >, но в расширенном и стандартном режимах, а также в режиме поиска точного совпадения их необходимо экранировать. Поэтому, чтобы отыскать описание этих специальных символов в справке Vim, их следует экранировать символом обратного слэша: :h /\< http://vimdoc.sourceforge.net/htmldoc/pattern.html#Δ<. Имейте в виду, что если потребуется отыскать сам символ угловой скобки в самом волшебном (very magic) режиме поиска, его необходимо экранировать.