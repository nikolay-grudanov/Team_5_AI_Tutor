---
source_image: page_049.png
page_number: 49
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.51
tokens: 5705
characters: 1845
timestamp: 2025-12-24T04:10:41.669105
finish_reason: stop
---

Рецепт 5. Поиск и замена вручную

Для выполнения поиска с заменой в Vim имеется команда :substitute, но существует альтернативный прием, когда мы изменяем первое вхождение вручную, а затем отыскиваем и заменяем каждое последующее вхождение по одному. Команда «точка» могла бы спасти нас от переутомления, но существует другая, более привлекательная команда, осуществляемая переход между совпадениями.

В следующем фрагменте текста в каждой строке встречается слово «content»:

the_vim_way/1_copy_content.txt
http://media.pragprog.com/titles/dnvim/code/the_vim_way/1_copy_content.txt

...We’re waiting for content before the site can go live...
...If you are content with this, let’s go ahead with it...
...We’ll launch as soon as we have the content...

Допустим, что нам понадобилось заменить каждое слово «content» словом «copy». Вы можете подумать, что сделать это очень просто — достаточно лишь воспользоваться командой подстановки:

⇒ :%s/content/copy/g

Но минутку! В этом случае фраза «If you are content with this» («Если вас это устраивает») превратится во фразу «If you are ‘copy’ with this» («Если вас это копия»), лишенную смысла!

Мы столкнулись с проблемой, потому что слово «content» имеет два смысла. Один из них — синоним слова «copy» (копия), а другой — синоним слова «happy» (довольный). Технически мы имеем дело с омонимами (словами, разными по значению, но одинаковыми по написанию), но не это здесь главное. Главное здесь то, что вы должны следить за своими действиями.

Мы не можем слепо заменить каждое вхождение слова «content» словом «copy». Мы должны оценить каждое из найденных вхождений и ответить «да» или «нет» на вопрос о замене. Команда подстановки имеет свою область применения, и мы познакомимся с ней поближе в рецепте 89 в главе 14. А пока займемся альтернативным решением, соответствующим теме данной главы.