---
source_image: page_107.png
page_number: 107
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.28
tokens: 5627
characters: 1799
timestamp: 2025-12-24T04:11:47.376013
finish_reason: stop
---

В этом случае мы использовали команду :normal для выполнения команды «точка», но точно так же мы можем выполнить любую команду командного режима. Например, решить поставленную задачу можно единственной командой:

⇒ :%normal A;

Символ %, при использовании в качестве диапазона представляет файл целиком. То есть команда:%normal A; сообщает редактору Vim, что он должен добавить точку с запятой в конец каждой строки в файле. Чтобы выполнить эти изменения, редактору приходится переключаться в режим вставки, но после этого он автоматически возвращается в командный режим.

Прежде чем выполнить указанную команду командного режима для каждой строки, Vim перемещает курсор в начало строки. Поэтому нам не приходится беспокоиться о позиционировании курсора при выполнении команды. Следующей одиночной командой можно закомментировать весь файл с кодом на JavaScript:

⇒ :%normal i//

Хотя команду :normal можно использовать в комбинации с любыми командами командного режима, но, на мой взгляд, наибольшего эффекта можно добиться при использовании команд повторения: либо :normal. для применения простых изменений, либо :normal @q для решения более сложных задач (пару примеров такого подхода вы найдете в рецептах 67 и 69 главы 11).

В разделе «Команды Ex стреляют дальше и накрывают большую площадь» выше уже отмечалось, что команды Ex способны одновременно изменять несколько строк. Команда :normal позволяет объединить выразительность командного режима с диапазонами команд Ex. В результате получается весьма мощная комбинация!

Еще одно альтернативное решение задачи, рассматривавшейся в этом примере, можно найти в рецепте 26 в главе 4.

Рецепт 31. Повторяйте последнюю команду Ex

В командном режиме для повторения последней команды можно использовать команду ., а для повторения последней команды