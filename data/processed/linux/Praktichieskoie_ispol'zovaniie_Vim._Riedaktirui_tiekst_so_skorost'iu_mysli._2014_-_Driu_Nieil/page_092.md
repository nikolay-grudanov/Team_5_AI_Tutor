---
source_image: page_092.png
page_number: 92
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.18
tokens: 5872
characters: 2139
timestamp: 2025-12-24T04:11:33.191098
finish_reason: stop
---

Таблица 4.5. Добавление точки с запятой в конец нескольких строк в блочном визуальном режиме

<table>
  <tr>
    <th>Нажатия клавиш</th>
    <th>Содержимое буфера</th>
  </tr>
  <tr>
    <td>{start}<br>Командный режим</td>
    <td>var foo = 1<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td><C-v>jj$<br>Визуальный режим</td>
    <td>var foo = 1<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td>A;<br>Режим вставки</td>
    <td>var foo = 1;<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td><Esc><br>Командный режим</td>
    <td>var foo = 1;<br>var bar = 'a';<br>var foobar = foo + bar;</td>
  </tr>
</table>

Выделив фрагмент, мы можем добавить текст в конец каждой выделенной строки, воспользовавшись командой A (см. врезку «Соглашения для клавиш 'i' и 'a'» ниже). Она переводит редактор в режим вставки в самой верхней строке выделенного фрагмента. Все, что будет вводиться после этого (до выхода из режима вставки), будет появляться только в этой строке, но сразу после перехода в командный режим все изменения будут автоматически распространены на все остальные строки, попавшие в выделенную область.

Соглашения для клавиш 'i' и 'a'

В Vim имеется пара соглашений, касающихся переключения из командного режима в режим вставки. Команды i и a обе выполняют такое переключение, устанавливая курсор перед и после текущего символа соответственно. Команды I и A действуют аналогично, кроме того что устанавливают курсор в начало или в конец текущей строки.
Аналогичные соглашения поддерживаются также для организации перехода из блочного визуального режима в режим вставки. Команды I и A обе выполняют такое переключение, устанавливая курсор перед и после выделения соответственно. А как же команды i и a; как они действуют в визуальном режиме?
В визуальном режиме и в режиме ожидающего оператора клавиши i и a следуют иному соглашению: они образуют первую половину текстового объекта. Подробнее о текстовых объектах рассказывается в рецепте 51 (глава 8). Если вы, выделив текст в блочном визуальном режиме, не можете перейти в режим вставки клавишей i, попробуйте нажать I.