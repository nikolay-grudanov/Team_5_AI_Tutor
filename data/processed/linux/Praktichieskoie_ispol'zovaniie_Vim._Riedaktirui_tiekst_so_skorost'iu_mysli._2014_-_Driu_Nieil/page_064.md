---
source_image: page_064.png
page_number: 64
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.71
tokens: 5759
characters: 1992
timestamp: 2025-12-24T04:10:55.979068
finish_reason: stop
---

Рецепт 12. Объединяй и властуй

ясную историю отмен и насколько для вас утомительно заниматься подсчетами.

Рецепт 12. Объединяй и властуй

Широта возможностей редактора Vim в немалой степени обусловлена его способностью объединять команды операций с командами перемещения курсора (motion). В этом рецепте мы увидим, как это делается, и остановимся на следствиях.

Оператор + команда перемещения = Действие

Команда d{motion} может оперировать единственным символом (dl), словом (daw) или целым абзацем (dap). Это достигается сочетанием оператора с командой перемещения. То же относится к командам c{motion}, y{motion} и некоторым другим. Все вместе эти команды называются операторами. Полный список операторов можно найти в справке :h operator i http://vimdoc.sourceforge.net/htmldoc/motion.html#operator, однако наиболее употребительные из них приводятся в табл. 2.1 ниже.

Команды g~, gu и gU вызываются нажатием двух клавиш. В каждом из этих случаев символ g можно рассматривать как префикс, изменяющий поведение последующей клавиши. Дальнейшее обсуждение приводится во врезке «Режим ожидающего оператора» ниже.

Объединение операторов с командами перемещения курсора образует своеобразную грамматику. Основное правило легко запомнить: действие определяется оператором, за которым указывается команда перемещения курсора. Изучение новых команд перемещения и операторов напоминает изучение словаря Vim. Следуя простым грамматическим правилам, мы сможем свободнее выражать свои мысли по мере увеличения словаря.

Допустим, что мы уже знаем, как удалить слово командой daw, и потом мы узнали о команде gU (см. :h gU i http://vimdoc.sourceforge.net/htmldoc/change.html#gU). Это тоже оператор, поэтому мы можем вызвать команду gUaw, чтобы преобразовать текущее слово в КРИЧАЩИЙ регистр. Если потом наш словарь расширится и в нем появится команда перемещения ap, определяющая абзац, мы обнаружим две новые операции: dap — выполняющую удаление и gUap — переводящую в верхний регистр целый абзац.