---
source_image: page_247.png
page_number: 247
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.94
tokens: 5811
characters: 2218
timestamp: 2025-12-24T04:14:53.022238
finish_reason: stop
---

Даже если вы не используете явно специальные символы границ слова в своих шаблонах, вы все равно используете их косвенно, вызывая команду * или # (см. :h * http://vimdoc.sourceforge.net/htmldoc/pattern.html#star). Эти команды выполняют поиск слова под курсором вперед и назад соответственно. Если вывести историю поиска после использования этих команд (нажав /<Up>), можно увидеть, что последний шаблон поиска заключен в специальные символы границ слова. Кстати, команды g* и g# выполняют поиск слова под курсором без использования границ.

Рецепт 77. Границы совпадения

Иногда бывает желательно определить более универсальный шаблон и затем сконцентрироваться на подмножестве совпадений. Такая возможность в редакторе Vim обеспечивается элементами \zs и \ze.

До настоящего момента мы рассматривали шаблоны и совпадения с ними как единое целое. Настало время разделить эти понятия. Для начала дадим необходимые определения. Говоря о шаблоне, мы подразумеваем регулярное выражение (или простой текст), которое указывается в команде поиска. Говоря о совпадении, мы подразумеваем любой текст в документе, подсвеченный в результате выполнения операции поиска (предполагается, что параметр hlsearch включен).

Границы совпадения обычно соответствуют началу и концу шаблона. Но для сужения круга совпадений мы можем использовать специальные символы \zs и \ze (см. :h /\zs http://vimdoc.sourceforge.net/htmldoc/pattern.html#△zs). Специальный символ \zs соответствует началу совпадения, а специальный символ \ze — концу совпадения. Вместе они позволяют определять шаблоны, совпадающие с некоторой последовательностью символов, а затем ограничить подмножество совпадений. Так же как и границы слова (о которых рассказывалось в предыдущем рецепте), символы \zs и \ze имеют нулевую ширину.

Понять назначение этих символов проще всего на примере. Если выполнить поиск по шаблону /Practical Vim<CR>, в документе будут подсвечены все вхождения фразы «Practical Vim». Если выполнить поиск по шаблону /Practical \zsVim<CR>, подсвечены будут только вхождения слова «Vim». Слово «Practical» будет исключено из совпадений, несмотря на то что оно присутствует в шаблоне. То есть подсвечены будут только вхождения слова «Vim», следующие