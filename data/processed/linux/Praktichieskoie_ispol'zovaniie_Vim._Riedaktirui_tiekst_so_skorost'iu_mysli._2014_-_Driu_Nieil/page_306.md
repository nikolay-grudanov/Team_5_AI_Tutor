---
source_image: page_306.png
page_number: 306
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.23
tokens: 5703
characters: 1812
timestamp: 2025-12-24T04:16:03.054383
finish_reason: stop
---

Рецепт 100. Сортировка свойств в правилах CSS

Команда сортировки выполняется внутри блоков {}. Наша демонстрационная таблица стилей содержит всего десяток строк, но этот прием с успехом можно применять к значительно более длинным файлам CSS.

Команда :global достаточно сложна, поэтому очень важно понять, как она действует, чтобы осознать всю скрытую в ней мощь. Стандартный синтаксис команды имеет следующий вид:

:g/{pattern}/[cmd]

Напомню, что команды Ex обычно могут принимать собственные диапазоны (как описывалось в рецепте 28 в главе 5). Такая возможность сохраняется и в контексте команды :global. Следовательно, шаблон можно развернуть, как показано ниже:

:g/{pattern}/[range][cmd]

Диапазон [range] для нашей команды [cmd] может устанавливаться динамически, с использованием :g/{pattern}. Обычно диапазон . соответствует строке, в которой находится курсор. Но в контексте команды :global он означает: «для каждой строки, соответствующей шаблону {pattern}».

Мы можем разбить нашу команду на две отдельные команды Ex. Давайте вернемся пройденным путем в обратном направлении. Ниже приводится вполне допустимая команда Ex:

⇒ :.+1,/}/-1 sort

Если выбросить смещения, команда примет вид: . ,/}//. Ее можно интерпретировать как: «От текущей строки вверх, пока не встретится следующая строка, соответствующая шаблону /}/». Смещения +1 и −1 просто сужают диапазон применения команды до содержимого блока в фигурных скобках {}. Если поместить курсор в строку 1 или 9 оригинального, несортированного файла CSS, данная команда Ex отсортирует содержимое соответствующего блока {}.

Чтобы отсортировать содержимое блока {}, достаточно лишь установить курсор в его начало и выполнить команду :.,/}/sort. Правильно? Теперь попробуем выполнить поиск с использованием шаблона {pattern} из команды :global:

⇒ /{/