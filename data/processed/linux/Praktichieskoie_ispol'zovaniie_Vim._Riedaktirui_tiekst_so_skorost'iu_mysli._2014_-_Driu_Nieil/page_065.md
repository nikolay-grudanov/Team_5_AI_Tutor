---
source_image: page_065.png
page_number: 65
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.69
tokens: 5881
characters: 2128
timestamp: 2025-12-24T04:11:03.891599
finish_reason: stop
---

Грамматика Vim включает еще одно правило: когда вызывается команда-оператор два раза подряд, она воздействует на текущую строку. То есть dd удалит текущую строку, а >> добавит в нее отступ. Команда gU — особый случай. Мы можем заставить ее воздействовать на текущую строку, либо нажав последовательность клавиш gUgU, либо воспользовавшись более коротким эквивалентом gUU.

Таблица 2.1. Команды-операторы Vim

<table>
  <tr>
    <th>Команда</th>
    <th>Выполняемая операция</th>
  </tr>
  <tr>
    <td>c</td>
    <td>Изменить</td>
  </tr>
  <tr>
    <td>d</td>
    <td>Удалить</td>
  </tr>
  <tr>
    <td>y</td>
    <td>Копировать в регистр</td>
  </tr>
  <tr>
    <td>g~</td>
    <td>Поменять регистр символов</td>
  </tr>
  <tr>
    <td>gu</td>
    <td>Преобразовать в нижний регистр</td>
  </tr>
  <tr>
    <td>gU</td>
    <td>Преобразовать в верхний регистр</td>
  </tr>
  <tr>
    <td>>></td>
    <td>Сдвинуть вправо</td>
  </tr>
  <tr>
    <td><</td>
    <td>Сдвинуть влево</td>
  </tr>
  <tr>
    <td>=</td>
    <td>Выравнивать автоматически</td>
  </tr>
  <tr>
    <td>!</td>
    <td>Фильтровать {motion} строки внешней программой</td>
  </tr>
</table>

Расширение возможностей Vim

Количество операций, которые можно выполнить с применением операторов и команд перемещения, поддерживаемых редактором Vim по умолчанию, чрезвычайно велико. Но мы можем увеличить их количество еще больше, определяя собственные операторы и команды перемещения. Давайте посмотрим, что из этого следует.

Собственные операторы получают поддержку существующих команд перемещения
Стандартный набор операторов, поддерживаемых редактором Vim, относительно невелик, но у нас имеется возможность расширять его, определяя собственные операторы. Отличным примером является расширение commentary.vim Тима Поупа (Tim Pope)¹. Оно добавляет команду, с помощью которой можно закомментировать или раскомментировать строки кода на любом языке программирования, поддерживаемом редактором Vim.
Команда вызывается нажатием клавиш \\{motion} и переключает состояние указанных строк. Это — команда-оператор, поэтому ее

¹ https://github.com/tpope/vim-commentary