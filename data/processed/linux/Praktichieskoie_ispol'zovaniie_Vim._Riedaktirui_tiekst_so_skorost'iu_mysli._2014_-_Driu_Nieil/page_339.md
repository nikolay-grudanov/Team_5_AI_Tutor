---
source_image: page_339.png
page_number: 339
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 11.02
tokens: 5491
characters: 1088
timestamp: 2025-12-24T04:16:29.858426
finish_reason: stop
---

Если бы нам потребовалось использовать команду :grep для поиска во всех файлах проекта, нам сначала пришлось бы преобразовывать его в соответствии со стандартом POSIX.

История поиска и :vimgrep

В предыдущем примере мы использовали <C-r>/ для вставки содержимого регистра последнего поиска в поле шаблона команды :vimgrep. Если вы читали рецепт 90 в главе 14, у вас наверняка возник вопрос: «Что случится, если оставить поле шаблона пустым?»
Весьма печально, но ответ будет не тем, что вы ожидаете. Если оставить поле шаблона пустым, команда :vimgrep будет обнаруживать совпадение в каждой строке, в каждом файле.
Обе команды, :substitute и :global, тесно интегрированы с историей поиска Vim. Если в этих командах оставить поле шаблона пустым, Vim будет использовать текущий шаблон поиска. А если передать любой из них какой-либо шаблон, Vim сохранит его как текущий шаблон поиска. Команда :vimgrep не имеет такой тесной интеграции с историей поиска. Поэтому, если вы пожелаете повторно использовать последний шаблон поиска, вставляйте его непосредственно в поле шаблона командой <C-r>/.