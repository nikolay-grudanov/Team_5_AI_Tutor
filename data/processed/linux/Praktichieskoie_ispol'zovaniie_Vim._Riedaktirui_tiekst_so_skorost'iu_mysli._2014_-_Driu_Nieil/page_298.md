---
source_image: page_298.png
page_number: 298
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.76
tokens: 5602
characters: 1519
timestamp: 2025-12-24T04:15:47.165817
finish_reason: stop
---

Глава 15. Глобализация команд

Команда :global соединяет в себе мощь команд Ex с возможностями поиска по шаблону. Ее можно использовать для применения команд Ex к каждой строке, соответствующей указанному шаблону. Наряду с «формулой точки» и макросами команда :global является одним из самых мощных инструментов Vim, предназначенных для эффективного выполнения повторяющихся действий.

Рецепт 97. Встречайте: команда :global

Команда :global дает возможность применить команду Ex к каждой строке, соответствующей определенному шаблону. Для начала познакомимся с синтаксисом команды.
Команда :global имеет следующий синтаксис (см. :h :g http://vimdoc.sourceforge.net/htmldoc/repeat.html#:g):

:[range] global[!] /{pattern}/ [cmd]

Диапазоном [range] для команды :global по умолчанию является весь файл (%). Этим она отличается от других команд Ex, включая :delete, :substitute и :normal, которые по умолчанию воздействуют на текущую строку (.).
Поле шаблона {pattern} интегрируется с историей поиска, в том смысле что его можно оставить пустым, в этом случае будет использоваться текущий шаблон поиска.
В поле команды [cmd] можно указать любую команду Ex, кроме самой команды :global. На практике чаще всего используются команды Ex, выполняющие операции с текстом документа, как те, что перечислены в табл. 5.1. Если команда в поле [cmd] не указана, по умолчанию будет использоваться команда :print.
Чтобы изменить смысл команды :global на противоположный, ее можно вызвать как :global! или :vglobal (мнемоника: inVert –