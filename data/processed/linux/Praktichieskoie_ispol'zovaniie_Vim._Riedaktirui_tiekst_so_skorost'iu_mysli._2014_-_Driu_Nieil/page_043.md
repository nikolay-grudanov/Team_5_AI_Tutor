---
source_image: page_043.png
page_number: 43
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.54
tokens: 5656
characters: 1646
timestamp: 2025-12-24T04:10:29.338695
finish_reason: stop
---

От момента входа в режим вставки (например, нажатием клавиши i) до выхода в командный режим (нажатием <Esc>) Vim записывает все нажатия клавиш. После создания такого изменения команда «точка» будет повторять эти нажатия (но прочитайте предупреждение во врезке «Перемещение по тексту в режиме вставки закрывает последнее изменение» в главе 2).

Команда «точка» — микромакроопределение

Ниже, в главе 11 «Макросы», будет показано, как в редакторе Vim организовать запись последовательности из произвольного количества нажатий клавиш для повторного воспроизведения ее в будущем. Эта возможность позволяет сохранять повторяющиеся операции и воспроизводить их нажатием одной клавиши. Команду «точка» можно считать миниатюрным, или «микро-» (если хотите), макроопределением.

На протяжении этой главы будет показано несколько вариантов применения команды «точка». Кроме того, пара приемов работы с командой «точка» будет показана в рецептах 9 (глава 2) и 43 (глава 4).

Рецепт 2. Не повторяйся

Для такой типичной операции, как добавление точки с запятой в конец строки, Vim предоставляет отдельную команду, объединяющую два шага в один.

Допустим, что у нас имеется следующий фрагмент кода на JavaScript:

the_vim_way/2_foo_bar.js
http://media.pragprog.com/titles/dnvim/code/the_vim_way/2_foo_bar.js

var foo = 1
var bar = 'a'
var foobar = foo + bar

Нам требуется добавить точку с запятой в конец каждой строки. Для этого нужно переместить курсор в конец текущей строки и затем перейти в режим вставки, чтобы выполнить изменение. Команда $ выполнит такое перемещение, после чего мы сможем нажать последовательность a;<Esc>, чтобы выполнить изменение.