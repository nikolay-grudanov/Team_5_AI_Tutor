---
source_image: page_250.png
page_number: 250
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.76
tokens: 5656
characters: 1597
timestamp: 2025-12-24T04:14:50.669429
finish_reason: stop
---

Рецепт 78. Экранирование проблемных символов

ввести /\V<C-r>u<CR>. Получившаяся команда поиска должна выглядеть так:

⇒ /\Vhttp://vimdoc.net/search?q=/\

Запустив ее, мы получим следующий результат:

Search items: [http://vimdoc.net/search?q=/\\][s]
...
[s]: http://vimdoc.net/search?q=/\\

Что случилось, почему мы не получили ожидаемого результата? Когда мы вставляли полную строку URL в команду поиска, Vim интерпретировал первый символ / как конец поля искомого шаблона (см. врезку «Символы завершения шаблона поиска» ниже). Все, что оказалось за первым символом слэша, было просто проигнорировано, поэтому фактически мы выполнили поиск строки http:.

При выполнении поиска вперед необходимо экранировать символы слэша. Это требуется в любом режиме поиска — и в самом волшебном (с ключом \v), и в самом простом (с ключом \V). Давайте исправим ошибку в предыдущей попытке поиска, вставив обратный слэш перед каждым символом /:

⇒ /\Vhttp:\/\/vimdoc.net\/search?q=\/\\

На этот раз результат получился ближе к ожидаемому:

Search items: [http://vimdoc.net/search?q=/\\][s]
...
[s]: http://vimdoc.net/search?q=/\\

Но он все еще неверный. Последний обратный слэш не попал в совпадение. Вскоре мы узнаем причину такого непонятного поведения, но сначала познакомимся с правилами поиска назад.

Экранируйте символы «?», выполняя поиск назад

При поиске назад символ ? играет роль границы поля шаблона в команде поиска. То есть при поиске назад не требуется экранировать символы /, зато требуется экранировать символы ?. Взгляните, что получится, если выполнить поиск назад строки URL из регистра u: