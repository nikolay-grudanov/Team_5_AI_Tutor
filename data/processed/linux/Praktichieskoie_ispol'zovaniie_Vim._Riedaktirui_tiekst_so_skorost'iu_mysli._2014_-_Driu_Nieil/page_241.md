---
source_image: page_241.png
page_number: 241
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.48
tokens: 5800
characters: 2220
timestamp: 2025-12-24T04:14:42.381097
finish_reason: stop
---

ме подчеркивания («_»), букв и цифр. Похоже, что мы нашли исключение из этого правила!

В ответ на это Vim отвечает: «Любые символы, не имеющие специального значения, зарезервированы для расширения в будущем» (см. :h /\\ http://vimdoc.sourceforge.net/htmldoc/pattern.html#Δ). Иными словами, отсутствие специального значения у символа # сегодня вовсе не означает, что он не получит его в будущих версиях. Если бы символ # имел специальное значение, нам пришлось бы экранировать его, чтобы обеспечить соответствие самому себе. Однако не позволяйте этой мысли беспокоить вас по ночам.

Урок истории: наследственность синтаксиса шаблонов в Vim

Помимо синтаксисов шаблонов, поддержка которых активируется ключами \v и \V, в Vim поддерживаются еще два более старых синтаксиса. По умолчанию в Vim используется расширенный (magic) синтаксис, имеется также стандартный (nomagic) синтаксис, имитирующий поведение vi. Они могут включаться ключами и \m и \M соответственно.
Ключ \M стандартного (nomagic) режима производит эффект, аналогичный ключу \V литературного режима (или режима точного сопоставления), за исключением пары символов, ^ и $, которым автоматически придается специальное значение.
В расширенном режиме специальное значение приобретают еще несколько символов, таких как ., * и квадратные скобки. Расширенный режим поиска был реализован, чтобы упростить создание несложных регулярных выражений. Но такие символы, как +, ?, круглые и фигурные скобки, в этом режиме не имеют специального значения, поэтому их необходимо экранировать, чтобы использовать для специальных целей.
Расширенный режим остановился на полпути к достижению простоты в создании регулярных выражений. Как результат набор правил экранирования выглядит беспорядочным, что усложняет его запоминание. Ключ \v придает специальное значение всем символам, кроме _, цифр и букв. Правила этого режима легко запоминаются, и они более полно соответствуют правилам составления регулярных выражений в языке Perl.

Рецепт 74. Ключ \V включает режим поиска точного совпадения

Специальные символы регулярных выражений удобно использовать, когда поиск выполняется по шаблону, но они могут мешать, когда требуется найти точное совпадение с искомым текстом. С по-