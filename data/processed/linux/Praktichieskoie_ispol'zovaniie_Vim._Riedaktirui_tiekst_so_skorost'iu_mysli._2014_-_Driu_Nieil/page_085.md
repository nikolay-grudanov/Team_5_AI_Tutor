---
source_image: page_085.png
page_number: 85
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 16.43
tokens: 5632
characters: 1635
timestamp: 2025-12-24T04:11:18.368069
finish_reason: stop
---

жет приносить пользу, когда текст выделяется в построчном визуальном режиме, но оно же может давать неожиданные результаты при выделении в посимвольном визуальном режиме. Рассмотрим пример, иллюстрирующий это.

Рецепт 23. Используйте операторы вместо команд визуального режима, если это возможно

Возможно, работа в визуальном режиме более понятна, чем в командном режиме, но в ней есть свои недостатки: команда «точка» не всегда действует непротиворечиво с визуальным режимом. Этот недостаток часто можно обойти с помощью операторов командного режима.
Допустим, что нам требуется изменить следующий список гиперссылок, преобразовав символы в верхний регистр:

visual_mode/list-of-links.html
http://media.pragprog.com/titles/dnvim/code/visual_mode/list-of-links.html

<a href="#">one</a>
<a href="#">two</a>
<a href="#">three</a>

Мы можем выделить внутреннее содержимое тега командой vit, которую можно интерпретировать как visually select inside the tag (визуально выделить содержимое тега). Эта команда представляет собой особую разновидность области действия, называемую текстовым объектом (text object). Подробнее о текстовых объектах рассказывается в рецепте 51 в главе 8.

Использование визуального оператора

В визуальном режиме можно выделить текст и выполнить операцию над ним. В данном случае нам нужно выполнить команду U, которая преобразует выделенные символы в верхний регистр (:h v_U http://vimdoc.sourceforge.net/htmldoc/change.html#v_U). См. табл. 4.1 ниже.
Выполнив преобразование в первой строке, нам нужно выполнить то же самое преобразование в следующих двух строках. А не воспользоваться ли нам формулой «точки»?