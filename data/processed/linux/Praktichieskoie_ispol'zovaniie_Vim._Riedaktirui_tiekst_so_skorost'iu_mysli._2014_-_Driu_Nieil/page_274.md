---
source_image: page_274.png
page_number: 274
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.22
tokens: 5706
characters: 1934
timestamp: 2025-12-24T04:15:22.326733
finish_reason: stop
---

тельно в команде подстановки можно указать флаги для настройки ее поведения.
Команда подстановки позволяет найти и заменить один фрагмент текста другим. Она имеет следующий синтаксис:

:[range]s[ubstitute]/{pattern}/{string}/[flags]

Команда подстановки состоит из множества частей. При определении элемента [range] используются те же правила, что и в других командах Ex, которые подробно рассматривались в рецепте 28 (глава 5). То же относится и к элементу {pattern}, о котором рассказывалось в главе 12 «Поиск по шаблону и поиск точного совпадения».

Настройка поведения команды подстановки с помощью флагов

Поведение команды подстановки можно настраивать с помощью флагов. Проще всего разобраться с флагами — посмотреть на них в действии, но прежде чем двинуться дальше, давайте коротко ознакомимся с определениями флагов, которые будут использоваться в рецептах, следующих ниже. (Полное описание можно найти в справке :h :s_flags http://vimdoc.sourceforge.net/htmldoc/change.html#:s_flags.)

Флаг g включает глобальный (globally) режим действия команды подстановки, обеспечивая изменение всех совпадений, а не только первого найденного. Этот флаг встретится нам в рецепте 88.
Флаг c дает возможность подтвердить или отвергнуть замену найденного совпадения. Этот флаг встретится нам в рецепте 89.
Флаг n подавляет типичное поведение команды подстановки, заставляя ее сообщать количество найденных совпадений. Пример использования этого флага приводился в рецепте 82 в главе 13.
Если выполнить команду подстановки с шаблоном, не имеющим совпадений в текущем файле, Vim сообщит об ошибке: «E486: Pattern not found» («Шаблон не найден»). Отключить вывод этого сообщения можно с помощью флага e, как будет показано в рецепте 96.
Флаг & просто предписывает редактору Vim повторно использовать тот же набор флагов, что использовался в предыдущей команде подстановки. Где может пригодиться такая возможность, рассказывается в рецепте 92.