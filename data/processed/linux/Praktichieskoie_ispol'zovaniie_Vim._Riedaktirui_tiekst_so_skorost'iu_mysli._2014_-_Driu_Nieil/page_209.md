---
source_image: page_209.png
page_number: 209
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.77
tokens: 5593
characters: 1623
timestamp: 2025-12-24T04:14:00.121916
finish_reason: stop
---

Глава 11. Макросы

Редактор Vim поддерживает более одного способа повторения операций. Мы уже познакомились с командой «точка», очень удобной для повторения небольших изменений. Но когда требуется организовать повторение чего-то более существенного, следует использовать макроопределения Vim. С помощью механизма макросов можно записать последовательность нажатий на клавиши любой длины и затем воспроизводить ее.

Макросы идеально подходят для повторения операций над похожими строками, абзацами и даже файлами. В этой главе вы узнаете, что есть два способа многократного выполнения макросов — последовательно или параллельно — и в каком случае применяется каждый из этих способов.

При записи последовательности команд всегда есть вероятность допустить ошибку. Но это не означает, что всякий раз нужно будет начинать все сначала. Мы легко можем добавлять новые команды в конец существующего макроса. Для внесения более обширных поправок можно даже вставить макрос в документ, отредактировать последовательность команд и затем скопировать ее обратно в регистр.

Иногда возникает необходимость вставлять в текст последовательные числа. В рецепте 66 мы узнаем, как это делается с применением комбинации элементарного сценария на языке Vim и регистра выражений.

Подобно игре «Отелло» (реверси)¹, нужно потратить всего несколько минут, чтобы научиться пользоваться макросами Vim, и целую жизнь, чтобы овладеть ими. Но любой, от начинающего до эксперта, сможет извлечь немало выгод от применения этого инструмента для автоматизации задач. Давайте посмотрим, как.

________
¹ http://ru.wikipedia.org/wiki/Реверси — Прим. перев.