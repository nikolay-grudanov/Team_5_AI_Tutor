---
source_image: page_344.png
page_number: 344
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.00
tokens: 5700
characters: 1792
timestamp: 2025-12-24T04:16:46.732472
finish_reason: stop
---

Рецепт 112. Работа с меню функции автодополнения

Изменение документа по мере прокручивания списка слов

Комбинация <C-n>, напротив, не только выбирает следующий элемент меню, но и вставляет выбранное слово в документ. Это означает, что вам не придется нажимать клавишу <CR>, чтобы подтвердить свой выбор, потому что текст документа всегда синхронизируется в соответствии с выбранным элементом меню. Закончив выбор, можно просто продолжить ввод текста, и меню закроется автоматически.

Я предпочитаю использовать комбинации <C-p> и <C-n> по двум веским причинам. При использовании этих комбинаций не нужно убирать руки из основной позиции. А кроме того, не требуется подтверждать свой выбор нажатием <CR> или <C-y>, потому что текст вставляется в документ автоматически. И снова мы столкнулись с мантрой из рецепта 46 главы 8: не убирайте руки из основной позиции на клавиатуре.

Отклонение вариантов выбора

После вызова меню с вариантами автодополнения может появиться желание закрыть его. Например, если список содержит слишком много вариантов дополнения, может оказаться быстрее ввести слово вручную. Закрыть меню можно нажатием комбинации <C-e>, которая не только закроет меню, но и восстановит прежний текст перед курсором.

Фильтрация списка по мере ввода

В этом разделе я расскажу об одном из самых моих любимых приемов при работе с меню функции автодополнения. Попробуйте нажать последовательность <C-n><C-p>. То есть выполните две отдельные команды: <C-n> и вслед за ней <C-p>. Первая команда вызовет функцию автодополнения, откроет меню и выберет первый элемент в списке слов. Вторая команда выберет предыдущий элемент в списке, вернув первоначальный вариант, но при этом оставит меню открытым. После этого можно продолжать ввод, в ходе которого Vim будет фильтровать список слов.