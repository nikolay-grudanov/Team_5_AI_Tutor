---
source_image: page_207.png
page_number: 207
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.46
tokens: 5718
characters: 1883
timestamp: 2025-12-24T04:13:57.964147
finish_reason: stop
---

В Linux и Windows все не так просто — системная команда вставки обычно вызывается комбинацией Ctrl-v. В командном режиме эта комбинация вызывает переход в режим визуального блока (рецепт 21 в главе 4), а в режиме обеспечивает вставку символов буквально или по их кодам (рецепт 17 в главе 3).

Некоторые версии эмуляторов терминала в Linux поддерживают модифицированную версию команды Ctrl-v для вставки текста из системного буфера обмена. Она может быть привязана к комбинации Ctrl-Shift-v или Ctrl-Alt-v, в зависимости от системы. Не волнуйтесь, если вам не удастся выяснить, с какой комбинацией клавиш связана системная команда вставки. В крайнем случае вы можете пользоваться регистром "*".

Использование системной команды вставки в режиме вставки

Если переключиться в режим вставки и вызвать системную команду вставки, получится странный результат:

[1,2,3,4,5,6,7,8,9,10].each do |n|
    if n%5==0
        puts "fizz"
    else
        puts n
    end
end

Что-то нарушило выравнивание текста. Когда системная команда вставки используется в режиме вставки, Vim действует так, как если бы символы вводились вручную. Когда параметр autoindent включен, Vim сохраняет отступы при создании каждой новой строки. Начальные пробелы в каждой строке из буфера обмена добавляются к автоматически установленным отступам, и в результате каждая следующая строка смещается все дальше и дальше вправо.

Версия редактора GVim отличает ситуацию, когда текст вставляется из буфера обмена и корректирует такое поведение, но когда Vim выполняется внутри терминала, эта информация ему недоступна. Параметр paste позволяет нам явно предупредить Vim, что мы будем использовать системную команду вставки. Когда параметр paste включен, Vim отключает в режиме вставки все привязки клавиш и сокращения и сбрасывает некоторые основные параметры, включая autoindent (см. :h 'paste' http://vimdoc.sourceforge.