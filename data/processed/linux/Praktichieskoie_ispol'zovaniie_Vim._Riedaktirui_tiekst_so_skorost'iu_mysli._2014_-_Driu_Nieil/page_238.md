---
source_image: page_238.png
page_number: 238
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.94
tokens: 5915
characters: 2105
timestamp: 2025-12-24T04:14:44.613166
finish_reason: stop
---

ности к регистру в любой операции поиска, добавив в шаблон символ \C или \c. В табл. 12.1 приводится матрица параметров, управляющих чувствительностью к регистру. Аналогичную таблицу можно найти во встроенной документации Vim (:h /ignorecase http://vimdoc.sourceforge.net/htmldoc/pattern.html#/ignorecase).

Таблица 12.1. Настройка чувствительности к регистру в операциях поиска

<table>
  <tr>
    <th>Шаблон</th>
    <th>ignorecase</th>
    <th>smartcase</th>
    <th>Совпадения</th>
  </tr>
  <tr>
    <td>foo</td>
    <td>выключен</td>
    <td>—</td>
    <td>foo</td>
  </tr>
  <tr>
    <td>foo</td>
    <td>включен</td>
    <td>—</td>
    <td>foo Foo F00</td>
  </tr>
  <tr>
    <td>foo</td>
    <td>включен</td>
    <td>включен</td>
    <td>foo Foo F00</td>
  </tr>
  <tr>
    <td>Foo</td>
    <td>включен</td>
    <td>включен</td>
    <td>Foo</td>
  </tr>
  <tr>
    <td>Foo</td>
    <td>включен</td>
    <td>выключен</td>
    <td>foo Foo F00</td>
  </tr>
  <tr>
    <td>\cfoo</td>
    <td>—</td>
    <td>—</td>
    <td>foo Foo F00</td>
  </tr>
  <tr>
    <td>foo\C</td>
    <td>—</td>
    <td>—</td>
    <td>foo</td>
  </tr>
</table>

Рецепт 73. Включение поддержки регулярных выражений

Синтаксис регулярных выражений в Vim ближе к описываемому стандартом POSIX, чем к поддерживаемому языком Perl. Для программистов, уже имеющих опыт использования регулярных выражений в Perl, это обстоятельство может превратиться в источник расстройств. Однако с помощью переключателя самого волшебного режима (very magic) интерпретации шаблонов можно включить поддержку более знакомого синтаксиса регулярных выражений.

Допустим, что нам нужно сконструировать регулярное выражение, которому будут соответствовать все коды цвета в следующем фрагменте CSS:

patterns/color.css
$http://media.pragprog.com/titles/dnvim/code/patterns/color.css

body { color: #3c3c3c; }
a { color: #0000EE; }
strong { color: #000; }

Регулярное выражение должно совпадать с символом #, за которым следуют три или шесть шестнадцатеричных цифр (все десятичные цифры плюс буквы от A до F включительно, в верхнем или в нижнем регистре).