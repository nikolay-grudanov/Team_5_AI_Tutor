---
source_image: page_201.png
page_number: 201
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.05
tokens: 5787
characters: 2084
timestamp: 2025-12-24T04:13:51.916727
finish_reason: stop
---

Технически регистр "/ доступен не только для чтения — его содержимое можно определить явно, выполнив команду :let (см. :h quote/ http://vimdoc.sourceforge.net/htmldoc/change.html#quote), тем не менее я включил его в таблицу для полноты картины.

Рецепт 61. Замена выделенного текста содержимым регистра

При работе в визуальном режиме команда вложения (вставки) приобретает не совсем обычные свойства. В этом рецепте мы посмотрим, как можно использовать их в своих интересах.
При попытке выполнить команду p в визуальном режиме Vim заменит выделенный фрагмент содержимым указанного регистра (см. :h v_p http://vimdoc.sourceforge.net/htmldoc/change.html#v_p). Эту особенность можно использовать для решения проблемы из раздела «Ой! Я затер свою копию»:

<table>
  <tr>
    <th>Нажатия клавиш</th>
    <th>Содержимое буфера</th>
  </tr>
  <tr>
    <td>yiw</td>
    <td>collection = getCollection();<br>process(somethingInTheWay, target);</td>
  </tr>
  <tr>
    <td>jww</td>
    <td>collection = getCollection();<br>process(somethingInTheWay, target);</td>
  </tr>
  <tr>
    <td>ve</td>
    <td>collection = getCollection();<br>process(somethingInTheWay, target);</td>
  </tr>
  <tr>
    <td>P</td>
    <td>collection = getCollection();<br>process(collection, target);</td>
  </tr>
</table>

Это мое любимое решение данной конкретной проблемы. Оно позволяет избежать неприятностей, связанных с использованием неименованного регистра обеими операциями, захвата (копирования) и вложения (вставки), потому что здесь отсутствует этап удаления. В данном решении команды удаления и вставки объединены в один шаг — замену выделенного фрагмента.
Однако этот прием имеет один побочный эффект. Попробуйте нажать u, чтобы отменить последнее изменение, затем gv, чтобы повторно выделить фрагмент текста и снова нажать p. Что произошло? Абсолютно ничего!
Для получения желаемого результата повторно необходимо нажать последовательность "0p, чтобы заменить выделенный фрагмент содержимым регистра захвата. В первый раз проблема не проявилась просто потому, что неименованный регистр, так получилось,