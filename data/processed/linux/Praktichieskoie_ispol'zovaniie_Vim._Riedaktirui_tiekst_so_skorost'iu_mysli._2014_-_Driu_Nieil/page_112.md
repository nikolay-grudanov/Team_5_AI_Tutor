---
source_image: page_112.png
page_number: 112
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.13
tokens: 5719
characters: 1879
timestamp: 2025-12-24T04:12:00.147205
finish_reason: stop
---

Когда нажимается клавиша *, курсор перепрыгивает к следующему совпадению, но в конечном итоге возвращается к тому же самому слову. Последовательность cwcounter<Esc> вносит изменение.

Остальные изменения в этом примере мы выполним с помощью команды :substitute. Так как курсор теперь находится на слове «counter», нам не требуется вводить его снова. Мы можем воспользоваться последовательностью <C-r><C-w> для заполнения поля, определяющего строку замены:

⇒ :%s//<C-r><C-w>/g

Эта команда на книжной странице не выглядит короткой, но два нажатия на клавиши, чтобы вставить слово, — очень неплохо. Благодаря ранее выполненной команде * нам не пришлось даже вводить шаблон поиска. Чтобы понять, почему поле шаблона можно оставить пустым, как в данном примере, обращайтесь к рецепту 90 в главе 14.

Команда <C-r><C-w> позволяет получить слово под курсором, а чтобы получить СЛОВО, можно воспользоваться командой <C-r><C-a> (описание см. в рецепте 48 в главе 8). За дополнительной информацией обращайтесь к справке :h c_CTRL-R_CTRL-W http://vimdoc.sourceforge.net/htmldoc/cmdline.html#c_CTRL-R_CTRL-W. В этом примере мы использовали команду :substitute, но описанные комбинации клавиш можно применять с любыми командами Ex.

В качестве упражнения откройте файл vimrc, установите курсор на название какого-либо параметра настройки и затем введите :help <C-r><C-w>, чтобы перейти к справке с описанием этого параметра.

Рецепт 34. Повторный вызов команд из истории

Редактор Vim записывает команды, выполнявшиеся в режиме командной строки, и предоставляет два способа повторного их вызова: посредством прокрутки клавишами управления курсором или посредством ввода номера команды.

Vim запоминает команды, выполнявшиеся в режиме командной строки. Мы легко можем повторно вызвать любую команду, вызывавшуюся прежде, и тем самым избежать необходимости повторного ввода длинных команд Ex.