---
source_image: page_044.png
page_number: 44
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.78
tokens: 5821
characters: 1921
timestamp: 2025-12-24T04:10:33.893411
finish_reason: stop
---

Рецепт 2. Не повторяйся

Чтобы выполнить задание полностью, нам могло бы потребоваться повторить ту же самую последовательность нажатий с остальными двумя строками, но это дело слишком уж нехитрое. Команда «точка» повторяет последнее изменение, поэтому мы можем просто выполнить j$ дважды. Одно нажатие (.) экономит три (a; <Esc>). Экономия получается не очень большая, но эффективность приема будет расти с ростом количества повторений.

А теперь рассмотрим поближе этот шаблон: j$.. Команда j перемещает курсор на одну строку вниз, а затем команда $ перемещает его в конец строки. Нам пришлось нажать две клавиши, только чтобы вывести курсор в позицию, где можно применить команду «точка». Не кажется ли вам, что здесь есть что улучшить?

Избавляйтесь от лишних перемещений

Команда a переходит в режим вставки в позицию, находящуюся за позицией курсора. Однако есть команда A, выполняющая переход в режим вставки в позицию, находящуюся в конце текущей строки. Где бы ни находился курсор, нажатие на клавишу A выполнит переход в режим вставки и переместит курсор в конец строки. Иными словами, эта команда совмещает в себе последовательность команд $a. Во врезке «Две по цене одной» ниже мы узнаем, что в редакторе Vim имеется несколько подобных составных команд.

Ниже показано измененное решение предыдущей задачи:

<table>
  <tr>
    <th>Нажатия клавиш</th>
    <th>Содержимое буфера</th>
  </tr>
  <tr>
    <td>{start}</td>
    <td>var foo = 1<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td>A;<Esc></td>
    <td>var foo = 1,<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td>j</td>
    <td>var foo = 1;<br>var bar = 'a'<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td>.</td>
    <td>var foo = 1;<br>var bar = 'a';<br>var foobar = foo + bar</td>
  </tr>
  <tr>
    <td>j .</td>
    <td>var foo = 1;<br>var bar = 'a';<br>var foobar = foo + bar;</td>
  </tr>
</table>