---
source_image: page_047.png
page_number: 47
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.36
tokens: 5748
characters: 2011
timestamp: 2025-12-24T04:10:38.683475
finish_reason: stop
---

Делайте перемещения повторяемыми

В этом примере присутствует еще одна хитрость. Команда f{char} сообщает редактору Vim, что он должен найти следующее вхождение указанного символа и переместить курсор в его позицию (см. :h f http://vimdoc.sourceforge.net/htmldoc/motion.html#f). Поэтому, когда вводится последовательность f+, курсор перепрыгивает к следующему символу +. Подробнее о команде f{char} рассказывается в рецепте 49 в главе 8.

Выполнив первое изменение, мы могли бы перейти к следующему символу +, повторив команду f+, но есть более простой путь. Команда ; повторяет последний поиск, произведенный с помощью команды f. Поэтому вместо команды f+ мы можем использовать эту команду.

Теперь все вместе

Команда ; переносит курсор в позицию следующего символа +, а команда . повторяет последнее изменение, поэтому мы можем внести оставшиеся изменения, трижды введя последовательность ; ..

Не кажется ли вам такой алгоритм действий знакомым?

Вместо того чтобы бороться с модальной моделью ввода в Vim, мы используем ее преимущества и убеждаемся, насколько она способна упростить решение поставленной задачи.

Рецепт 4. Действие, повтор, возврат

Сталкиваясь с повторяющимися задачами, мы можем выработать еще более оптимальную стратегию редактирования, делая одновременно перемещения и изменения повторяющимися. В редакторе Vim имеется все необходимое для этого. Он запоминает наши действия и сохраняет их так, чтобы мы легко могли воспользоваться ими. В этом рецепте мы познакомимся с каждым из действий, которые Vim способен повторить, и узнаем, как отменить их.

Мы уже знаем, что команда «точка» повторяет последнее изменение. Поскольку существует огромное количество команд, которые могут интерпретироваться как изменения, команда «точка» оказывается чрезвычайно универсальной. Но некоторые команды могут повторяться другими средствами. Например, @: может повторить любую команду редактора Ex (как описывается в рецепте 31 в главе 5). Точно так же, нажав & (см. рецепт 92 в главе 14), можно повто-