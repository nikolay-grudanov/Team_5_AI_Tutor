---
source_image: page_189.png
page_number: 189
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.03
tokens: 5763
characters: 2128
timestamp: 2025-12-24T04:13:34.365541
finish_reason: stop
---

Устанавливайте глобальную метку перед погружением в код

Глобальные метки особенно удобны, когда возникает необходимость заглянуть в несколько файлов, а затем вернуться назад. Представьте, что вы работаете с некоторым кодом и хотите отыскать все вызовы метода fooBar() в проекте. Для этого можно воспользоваться командой :vimgrep, описываемой в рецепте 110 в главе 18):

⇒ :vimgrep /fooBar/ **

По умолчанию команда :vimgrep автоматически переходит к первому найденному совпадению, что может означать переход к другому файлу. Из этой точки мы можем вернуться обратно командой <C-o>.

Допустим, что в проекте имеются десятки совпадений с шаблоном fooBar. Для каждого найденного совпадения команда :vimgrep создает запись в списке результатов (quickfix list). Теперь допустим, что мы потратили несколько минут на обход этого списка, пока не нашли то, что искали. И нужно вернуться обратно в точку, где была выполнена команда :vimgrep. Как это сделать?

Мы могли бы воспользоваться командой <C-o>, чтобы обойти список переходов в обратном порядке, но это может потребовать некоторого времени. В этой ситуации нам очень пригодилась бы глобальная метка. Если перед командой :vimgrep выполнить команду mM, мы сможем вернуться обратно одним движением, выполнив команду `M.

Советы редко воспринимаются положительно, когда даются в форме: «Вы должны были предварительно выполнить команду X». Глобальные метки приносят пользу, только когда они устанавливаются предварительно. С опытом вы научитесь отличать ситуации, когда было бы полезно установить глобальную метку.

Попробуйте выработать привычку устанавливать глобальную метку всегда, когда собираетесь использовать команды, взаимодействующие со списком результатов, такие как :grep, :vimgrep и :make. То же относится к командам, взаимодействующим со списками буферов и аргументов, таким как :args{arglist} и :argdo (см. рецепт 37 в главе 6).

Помните, что вы можете установить до 26 глобальных меток, чего более чем достаточно. Не ограничивайте себя в их использовании; устанавливайте глобальные метки всякий раз, когда видите что-то, к чему наверняка потребуется вернуться позднее.