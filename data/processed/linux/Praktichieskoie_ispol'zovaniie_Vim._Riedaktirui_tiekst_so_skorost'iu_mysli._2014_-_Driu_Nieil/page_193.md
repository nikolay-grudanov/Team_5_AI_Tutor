---
source_image: page_193.png
page_number: 193
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.50
tokens: 5692
characters: 1775
timestamp: 2025-12-24T04:13:40.318535
finish_reason: stop
---

Команда p понимает, что на этот раз она имеет дело с целыми строками, поэтому результат получается вполне ожидаемый: она вставляет содержимое неименованного регистра после текущей строки. Напомню, что в предыдущем примере, где демонстрировалась последовательность нажатий xp, команда p вставляла содержимое регистра после текущего символа.
Последовательность ddp можно рассматривать как единую команду: «Переставить местами следующие две строки».

Создание дубликатов строк

Если потребуется создать новую строку текста, содержимое которой повторяет содержимое предыдущей строки с небольшими отличиями, мы можем начать с создания дубликата строки и использовать его как шаблон. Эту операцию в Vim можно выполнить, применив команду копирования строки с последующей командой вставки:

<table>
  <tr>
    <th>Нажатия клавиш</th>
    <th>Содержимое буфера</th>
  </tr>
  <tr>
    <td>{start}</td>
    <td>1) line one<br>2) line two</td>
  </tr>
  <tr>
    <td>уур</td>
    <td>1) line one<br>2) line two<br>2) line two</td>
  </tr>
</table>

Обратите внимание на сходство этих двух последовательностей, ddp и уур. Первая производит вырезание и вставку строки, фактически выполняя перестановку двух строк местами. А вторая производит копирование и вставку строки, фактически дублируя ее.

Ой! Я затер свою копию

До сих пор команды удаления, копирования и вставки выглядели вполне просто и понятно. Они существенно упрощают решение многих типичных задач, возникающих при редактировании. А теперь рассмотрим ситуацию, когда эти команды работают не так слаженно, как хотелось бы. Взгляните на следующий фрагмент:

copy_and_paste/collection.js
http://media.pragprog.com/titles/dnvim/code/copy_and_paste/collection.js

collection = getCollection();
process(somethingInTheWay, target);