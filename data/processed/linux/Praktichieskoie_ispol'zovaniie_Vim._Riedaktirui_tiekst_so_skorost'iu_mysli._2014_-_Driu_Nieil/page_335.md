---
source_image: page_335.png
page_number: 335
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.08
tokens: 5670
characters: 1934
timestamp: 2025-12-24T04:16:33.249720
finish_reason: stop
---

Символ $* в значении параметра grepprg является меткой-заполнителем, замещаемой любыми аргументами, переданными команде :grep.

Значением параметра grepformat является строка, содержащая спецификаторы формата, которые описывают вывод, возвращаемый командой :grep. В строке grepformat используются те же спецификаторы формата, что и в параметре errorformat, с которым мы познакомились в разделе «Заполнение списка с результатами на основе вывода Nodelint» в главе 17. Полный перечень спецификаторов можно найти в разделе справки :h errorformat http://vimdoc.sourceforge.net/htmldoc/quickfix.html#errorformat.

Давайте посмотрим, как формат по умолчанию %f:%l %m обеспечивает анализ вывода команды grep:

department-store.txt:1:Waldo is beside the boot counter.
goldrush.txt:6:Waldo is studying his clipboard.
goldrush.txt:9:The penny farthing is 10 paces ahead of Waldo.

Для каждой строки спецификатор %f извлекает имя файла (department-store.txt или goldrush.txt), %l извлекает номер строки, а %m — оставшийся текст.

Строка grepformat может содержать множество спецификаторов формата, разделенных запятыми. По умолчанию вывод команды grep соответствует либо набору спецификаторов %f:%l %m, либо %f %l%m. Vim будет использовать первый набор, подошедший для анализа вывода :grep.

Настройка :grep на вызов команды ack

Программа ack — это альтернатива программе grep, которая предназначена в первую очередь для использования программистами. Если вам интересно ознакомиться со сравнительными характеристиками программ ack и grep, обязательно посетите страницу: http://betterthangrep.com.

Прежде всего необходимо установить программу ack. В Ubuntu это можно сделать с помощью следующей команды:

⇒ $ sudo apt-get install ack-grep
⇒ $ sudo ln -s /usr/bin/ack-grep /usr/local/bin/ack

Первая из этих команд установит программу, что даст нам возможность вызывать ее как ack-grep. А вторая создаст символическую ссылку на нее с именем ack.