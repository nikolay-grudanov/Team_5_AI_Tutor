---
source_image: page_214.png
page_number: 214
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.72
tokens: 5775
characters: 2074
timestamp: 2025-12-24T04:14:11.448990
finish_reason: stop
---

Рецепт 65. Товс! Цельс! Отставить!

Это может подразумевать необходимость перемещения курсора к следующему совпадению (n), к началу текущей строки (0) или, может быть, к первой строке текущего файла (gg). Всегда тщательно прицеливайтесь, чтобы каждый раз поражать правильную цель.

Устанавливайте курсор повторяемыми командами перемещения

Редактор Vim имеет богатый набор команд перемещения курсора. Используйте их с умом.
Не пользуйтесь клавишей l для установки курсора в нужную позицию. Не забывайте, что Vim слепо выполняет ваши команды. Перемещение курсора вправо на десять позиций, возможно, установит курсор туда, куда нужно в момент записи макроса, но попадете ли вы в нужное место, когда будете воспроизводить макрос позднее? В другой ситуации перемещение курсора вправо на десять позиций может оказаться излишним или недостаточным.
Команды перемещения по словам, такие как w, b, e и ge, обычно позволяют добиться большей гибкости, чем команды перемещения по символам h и l. Если вы записали команду перемещения 0 и вслед за ней e, то смело можете ожидать получения одного и того же результата при каждом выполнении макроса. В этом случае курсор окажется на последнем символе первого слова в текущей строке. И не важно, сколько символов в этом слове, главное, чтобы строка содержала хотя бы одно слово.
Используйте команды поиска. Используйте текстовые объекты. Используйте весь арсенал команд перемещения курсора, чтобы сделать макрос максимально гибким. Помните: при записи макроса нельзя пользоваться мышью!

Используйте возможность прерывания при неудачном перемещении курсора

Команды перемещения курсора в редакторе Vim могут терпеть неудачу. Например, если курсор находится в первой строке в файле, команда k никуда не переместит его. То же относится к команде j, если курсор находится в последней строке в файле. По умолчанию Vim издает звуковой сигнал, когда команда перемещения терпит неудачу, который, впрочем, можно запретить с помощью параметра настройки visualbell (см. :h 'visualbell' http://vimdoc.sourceforge.net/htmldoc/options.html#'visualbell').