---
source_image: page_204.png
page_number: 204
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.66
tokens: 5724
characters: 1898
timestamp: 2025-12-24T04:13:51.585020
finish_reason: stop
---

Рецепт 62. Вставка из регистра

гумента. Выбор команды между р и Р зависит от позиции курсора. Взгляните на следующее содержимое буфера:

collection = getCollection();
process(, target);

И сравните его с:

collection = getCollection();
process(, target);

В первом случае следует использовать команду р, а во втором — команду Р. На мой взгляд, ситуация не так очевидна, как кажется. В действительности я допускаю подобные ошибки настолько часто, что последовательности ruP и Rup у меня выполняются уже на уровне рефлекса!

Я не люблю задумываться над тем, куда будет вставлена последовательность символов — левее или правее курсора. Поэтому я иногда предпочитаю вставлять символы в режиме вставки с помощью команды <C-r>{register} и избегаю пользоваться командами р и Р в командном режиме. При использовании этого приема текст вставляется левее курсора, как если бы он вводился вручную.

Вставить текст из неименованного регистра в режиме вставки можно командой <C-r>"', а из регистра захвата — командой <C-r>0 (см. рецепт 15 в главе 3). Этот прием можно использовать и для решения проблемы из раздела «Ой! Я затер свою копию»:

<table>
  <tr>
    <th>Нажатия клавиш</th>
    <th>Содержимое буфера</th>
  </tr>
  <tr>
    <td>yiw</td>
    <td>collection = getCollection();<br>process(somethingInTheWay, target);</td>
  </tr>
  <tr>
    <td>jww</td>
    <td>collection = getCollection();<br>process(somethingInTheWay, target);</td>
  </tr>
  <tr>
    <td>ciw<C-r>0<Esc></td>
    <td>collection = getCollection();<br>process(collection, target);</td>
  </tr>
</table>

Применение команды ciw дает нам дополнительное преимущество: после ее выполнения команда «точка» будет заменять текущее слово словом «collection».

Вставка строк

Если в регистре сохранена целая строка, команды р и Р будут вставлять текст ниже или выше текущей строки. Такое поведение более понятно, чем в случае вставки символов.