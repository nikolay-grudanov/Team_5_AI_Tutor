---
source_image: page_132.png
page_number: 132
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.75
tokens: 5722
characters: 1938
timestamp: 2025-12-24T04:12:22.938890
finish_reason: stop
---

Обработка скрытых буферов при выходе из редактора

Наличие скрытых буферов никак не отражается на работе Vim. Мы так же можем открывать другие буферы, изменять их, сохранять и выполнять другие операции без каких-либо последствий — но только до момента, когда будет предпринята попытка завершить сеанс работы с редактором. В этот момент Vim напомнит, что имеются несохраненные изменения в одном из буферов:

⇒ :quit
E37: No write since last change (add ! to override)
E162: No write since last change for buffer "a.txt"

При этом Vim загрузит первый скрытый буфер с изменениями в текущее окно, благодаря чему мы сможем решить, что с ним делать. Если потребуется сохранить изменения, можно выполнить команду :write. Или, если потребуется отменить изменения, можно выполнить команду :edit!, которая прочитает файл с диска и затрет содержимое буфера. Приведя содержимое буфера в соответствие с содержимым файла на диске, можно попытаться еще раз выполнить команду :quit.

При наличии другого несохраненного буфера Vim активирует следующий такой буфер, и так каждый раз при попытке выполнить команду :quit. Напомню, что мы можем использовать команду :write или :edit!, чтобы сохранить или отменить изменения. Этот цикл будет продолжаться, пока не будет принято решение по каждому скрытому буферу с имеющимися изменениями. Когда в редакторе не останется окон и скрытых буферов с изменениями, команда :q закроет редактор Vim.

Чтобы закрыть Vim, невзирая на наличие изменений, можно выполнить команду :qall!. Если появится желание сохранить все буферы сразу, не просматривая их один за другим, можно воспользоваться командой :wall. Все эти возможности перечислены в табл. 6.1 ниже.

Включите параметр настройки hidden перед вызовом команды :argdo или :bufdo

По умолчанию редактор Vim не позволяет покидать измененные буферы с помощью команд :next, :bnext, :cnext и других, если не указать в конце команды восклицательный знак. Vim будет ворчать