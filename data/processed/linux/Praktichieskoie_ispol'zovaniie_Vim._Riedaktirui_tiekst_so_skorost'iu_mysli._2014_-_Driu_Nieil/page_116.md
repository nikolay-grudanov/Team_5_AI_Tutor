---
source_image: page_116.png
page_number: 116
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.88
tokens: 5648
characters: 1753
timestamp: 2025-12-24T04:11:59.031818
finish_reason: stop
---

Рецепт 35. Выполнение команд в оболочке

строки, пытаясь закрыть редактор! Окно режима командной строки действительно очень полезно, но многие сильно расстраиваются, столкнувшись с ним впервые (случайно). Прочитайте рецепт 85 в главе 13, где приводится еще один пример использования окна режима командной строки.

Рецепт 35. Выполнение команд в оболочке

Мы легко можем запускать внешние программы, не покидая Vim. Но самое замечательное — в том, что мы можем передавать содержимое буфера на вход команды или сохранять вывод команды в буфере.
Команды, обсуждаемые в этом рецепте, лучше всего использовать в редакторе Vim, выполняющемся в окне терминала. Если вы используете GVim (или MacVim), некоторые команды могут работать не так, как описывается здесь. Это не должно быть большим сюрпризом. Редактору Vim намного проще делегировать выполнение операций командной оболочки, когда он сам выполняется в командной оболочке. GVim может делать что-то лучше, чем Vim, но выполнение команд оболочки — это одна из областей, где Vim оказывается впереди.

Запуск программ в командной оболочке

Находясь в режиме командной строки, можно запускать внешние программы, добавляя в начало команд восклицательный знак (см. :h :! http://vimdoc.sourceforge.net/htmldoc/various.html#:!). Например, если потребуется выяснить содержимое текущего каталога, можно выполнить следующую команду:

⇒ :!ls
duplicate.todo        loop.js
emails.csv            practical-vim.html
foobar.js             shopping-list.todo
history-scrollers.vim

Press ENTER or type command to continue

Обратите внимание на разницу между командами :!ls и :ls — первая из них вызовет внешнюю команду ls в командной оболочке, а команда :ls вызовет встроенную команду Vim, которая выведет список буферов.