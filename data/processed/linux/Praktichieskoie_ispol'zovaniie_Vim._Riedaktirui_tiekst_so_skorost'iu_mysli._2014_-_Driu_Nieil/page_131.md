---
source_image: page_131.png
page_number: 131
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.56
tokens: 5602
characters: 1438
timestamp: 2025-12-24T04:12:16.634682
finish_reason: stop
---

дактора без сохранения изменений. В этом рецепте вы узнаете, как обрабатывать скрытые буферы при завершении Vim.

Выполните следующие команды в командной оболочке, чтобы запустить Vim:

⇒ $ cd code/files
⇒ $ ls
    a.txt      b.txt
⇒ $ vim *.txt
2 files to edit

Измените содержимое буфера a.txt: просто выполните команду Go, чтобы добавить пустую строку в конец буфера. Не сохраняя изменений, заглянем в список буферов:

⇒ :ls
1 %a + "a.txt"        line 1
2     "b.txt"         line 0

Буфер, представляющий файл a.txt, был помечен знаком +, указывающим, что буфер содержит несохраненные изменения. Если теперь сохранить буфер, его содержимое будет записано в файл на диске и знак + исчезнет. Но давайте пока не будем сохранять его. Вместо этого попробуем переключиться на следующий буфер:

⇒ :bnext
E37: No write since last change (add ! to override)

Vim вывел сообщение об ошибке, указав, что текущий буфер содержит несохраненные изменения. Попробуем последовать совету в круглых скобках¹ и добавим восклицательный знак в конце:

⇒ :bnext!
⇒ :ls
1 #h + "a.txt"        line 1
2 %a     "b.txt"      line 1

Восклицательный знак заставил редактор переключить буферы, несмотря на то что текущий буфер содержит несохраненные изменения. Если теперь выполнить команду :ls, буфер b.txt будет помечен буквой a как активный, а буфер a.txt — буквой h как скрытый (hidden).

¹ add ! to override (добавьте !, чтобы обойти проверку). – Прим. перев.