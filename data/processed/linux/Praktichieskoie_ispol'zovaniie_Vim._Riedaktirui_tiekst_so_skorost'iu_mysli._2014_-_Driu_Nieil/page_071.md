---
source_image: page_071.png
page_number: 71
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.30
tokens: 5809
characters: 2248
timestamp: 2025-12-24T04:11:08.729299
finish_reason: stop
---

Рецепт 15. Вставка из регистра, не покидая режима вставки

Операции копирования текста в регистр и вставки из регистра обычно выполняются в командном режиме, но иногда может возникнуть желание вставить текст в документ, не покидая режима вставки.
Ниже приводится незавершенный фрагмент текста:

insert_mode/practical-vim.txt
http://media.pragprog.com/titles/dnvim/code/insert_mode/practical-vim.txt

Practical Vim, by Drew Neil
Read Drew Neil’s

Переназначение клавиши Caps Lock

Для пользователей Vim клавиша Caps Lock представляет определенную угрозу. Если нажать клавишу Caps Lock и попробовать использовать клавиши k и j для перемещения курсора, в результате будут выполнены команды K и J. Проще говоря: команда K найдет страницу справочного руководства (man) для слова под курсором (: h K http://vimdoc.sourceforge.net/htmldoc/various.html#K), а команда J объединит текущую и следующую строки (: h J http://vimdoc.sourceforge.net/htmldoc/change.html#J). Это просто удивительно, как быстро можно испортить текст в буфере, случайно нажав клавишу Caps Lock!
Многие пользователи Vim переназначают действие клавиши Caps Lock на другую клавишу, например <Esc> или <Ctrl>. На современных клавиатурах клавиша <Esc> находится достаточно далеко, тогда как Caps Lock всегда под рукой. Переназначение клавиши Caps Lock, чтобы она вела себя как клавиша <Esc>, может сэкономить массу сил и времени, особенно если учесть, что клавиша <Esc> очень часто используется в Vim. Лично я предпочитаю назначать клавише Caps Lock поведение клавиши <Ctrl>. Комбинация <C-[> действует идентично клавише <Esc>, и ее легко вводить, когда клавиша <Ctrl> оказывается под рукой. Кроме того, клавишу <Ctrl> можно использовать и для отображений многих других функций, не только в Vim, но и в других программах.
Простейший способ переназначить клавишу Caps Lock — выполнить эту операцию на системном уровне. Методы могут отличаться в OS X, Linux и Windows, поэтому я не буду приводить инструкции для каждой системы, а предложу проконсультироваться у Google. Обратите внимание, что эта настройка затронет не только Vim: она отразится на всей системе. Если вы воспользуетесь моим советом, то откажитесь от клавиши Caps Lock навсегда. И вы никогда не будете жалеть об этом, обещаю.