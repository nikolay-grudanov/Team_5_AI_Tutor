---
source_image: page_358.png
page_number: 358
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.45
tokens: 5761
characters: 2151
timestamp: 2025-12-24T04:17:12.682910
finish_reason: stop
---

Иногда Vim может ошибаться и отмечать как неправильные вполне допустимые слова только потому, что они отсутствуют в словаре. Вы можете обучать Vim распознавать слова с помощью команды zg (:h zg http://vimdoc.sourceforge.net/htmldoc/spell.html#zg), которая добавляет слово под курсором в словарь.

Редактор поддерживает также парную ей команду zw, помечающую слово под курсором как ошибочное. В действительности эта команда удаляет текущее слово из словаря. Если команда zg или zw окажется вызванной случайно, мы по ошибке добавим слово в словарь или удалим его оттуда. Как раз для таких случаев Vim поддерживает отдельную команду отмены zug, которая отменяет команду zg или zw для слова под курсором.

Vim записывает добавляемые слова непосредственно в файл словаря, поэтому они сохраняются между сеансами редактирования. Имя файла словаря конструируется из названия языка и кодировки символов в файле.

Например, команда zg будет сохранять слова английского языка в кодировке UTF-8 в файле с именем ~/.vim/spell/en.utf-8.add.

Создание словаря для специальных терминов

В параметре настройки spellfile можно указать путь к файлу, куда Vim будет добавлять слова при вызове команды zg и откуда он будет удалять при вызове команды zw (см.: h 'spellfile' http://vimdoc.sourceforge.net/htmldoc/options.html#'spellfile').

Мы можем указать сразу несколько файлов словарей, то есть поддерживать несколько списков слов.

Эта книга содержит множество текстовых элементов, которые не считаются словами, включая команды Vim (такие как ciw) и имена параметров настройки (такие как spelllang). Я не хотел, чтобы Vim помечал их как ошибочные, но при этом я не хотел также, чтобы они считались допустимыми словами английского языка. В качестве компромиссного решения я настроил поддержку отдельного списка слов с терминами Vim. Я в любой момент мог загрузить этот словарь, создававшийся в процессе работы над книгой.

По окончании работы над очередной главой я подключал файл, содержащий следующие настройки:

spell_check/spellfile.vim

setlocal spelllang=en_us
setlocal spellfile=~/.vim/spell/en.utf-8.add
setlocal spellfile+=~/books/practical_vim/jargon.utf-8.add