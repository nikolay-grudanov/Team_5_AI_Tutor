---
source_image: page_478.png
page_number: 478
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.99
tokens: 7862
characters: 1938
timestamp: 2025-12-24T02:53:35.795167
finish_reason: stop
---

A.4. Дополнительные способы использования универсальных функций

array([[1.28, 1.28, 1.28],
       [-0.42, -0.42, -0.42],
       [0.44, 0.44, 0.44],
       [1.6 , 1.6 , 1.6 ]])

In [115]: arr[:2] = [[-1.37], [0.509]]

In [116]: arr
Out[116]:
array([[-1.37 , -1.37 , -1.37 ],
       [ 0.509,  0.509,  0.509],
       [ 0.44 ,  0.44 ,  0.44 ],
       [ 1.6 ,  1.6 ,  1.6 ]])

A.4. ДОПОЛНИТЕЛЬНЫЕ СПОСОБЫ ИСПОЛЬЗОВАНИЯ УНИВЕРСАЛЬНЫХ ФУНКЦИЙ

Многие пользователи NumPy используют универсальные функции только ради быстрого выполнения поэлементных операций, однако у них есть и другие возможности, которые иногда позволяют кратко записать код без циклов.

Методы экземпляра u-функций

Любая бинарная u-функция в NumPy имеет специальные методы для выполнения некоторых видов векторных операций. Все они перечислены в табл. А.2, но я приведу и несколько конкретных примеров для иллюстрации.

Метод reduce принимает массив и агрегирует его, возможно вдоль указанной оси, выполняя последовательность бинарных операций. Вот, например, как можно с помощью np.add.reduce просуммировать элементы массива:

In [117]: arr = np.arange(10)

In [118]: np.add.reduce(arr)
Out[118]: 45

In [119]: arr.sum()
Out[119]: 45

Начальное значение (для add оно равно 0) зависит от u-функции. Если задана ось, то редукция производится вдоль этой оси. Это позволяет давать краткие ответы на некоторые вопросы. В качестве не столь скучного примера воспользуемся методом np.logical_and, чтобы проверить, отсортированы ли значения в каждой строке массива:

In [120]: my_rng = np.random.default_rng(12346) # для воспроизводимости

In [121]: arr = my_rng.standard_normal((5, 5))

In [122]: arr
Out[122]:
array([[-0.9039,  0.1571,  0.8976, -0.7622, -0.1763],
       [ 0.053 , -1.6284, -0.1775,  1.9636,  1.7813],
       [-0.8797, -1.6985, -1.8189,  0.119 , -0.4441],
       [ 0.7691, -0.0343,  0.3925,  0.7589, -0.0705],
       [ 1.0498,  1.0297, -0.4201,  0.7863,  0.9612]])