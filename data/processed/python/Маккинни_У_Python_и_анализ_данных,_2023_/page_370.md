---
source_image: page_370.png
page_number: 370
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.81
tokens: 7835
characters: 2247
timestamp: 2025-12-24T02:50:26.080640
finish_reason: stop
---

11.4. Часовые пояса

Работа с часовыми поясами традиционно считается одной из самых неприятных сторон манипулирования временными рядами. Поэтому многие пользователи предпочитают иметь дело с временными рядами в координированном универсальном времени (UTC), не зависящем от географического местоположения международном стандарте. Часовые пояса выражаются в виде смещений от UTC; например, в Нью-Йорке время отстает от UTC на 4 часа в летний период и на 5 часов в остальное время года.

В Python информация о часовых поясах берется из сторонней библиотеки pytz (ее можно установить с помощью pip или conda), которая является оберткой вокруг базы данных Олсона, где собраны все сведения о мировых часовых поясах. Это особенно важно для исторических данных, потому что даты перехода на летнее время (и даже смещения от UTC) многократно менялись по прихоти местных правительств. В США даты перехода на летнее время с 1900 года менялись много раз!

Подробные сведения о библиотеке pytz можно найти в документации к ней. Но поскольку pandas инкапсулирует функциональность pytz, то можете спокойно игнорировать весь ее API, кроме названий часовых поясов. Поскольку pandas в любом случае зависит от библиотеки pytz, устанавливать ее отдельно необязательно. А названия поясов можно узнать как интерактивно, так и из документации:

In [110]: import pytz

In [111]: pytz.common_timezones[-5:]
Out[111]: ['US/Eastern', 'US/Hawaii', 'US/Mountain', 'US/Pacific', 'UTC']
Получить объект часового пояса от pytz позволяет функция pytz.timezone:
In [112]: tz = pytz.timezone("America/New_York")

In [113]: tz
Out[113]: <DstTzInfo 'America/New_York' LMT-1 day, 19:04:00 STD>

Методы из библиотеки pandas принимают как названия часовых зон, так и эти объекты.

Локализация и преобразование
По умолчанию временные ряды в pandas не учитывают часовые пояса. Рассмотрим следующий ряд:

In [114]: dates = pd.date_range("2012-03-09 09:30", periods=6)

In [115]: ts = pd.Series(np.random.standard_normal(len(dates)), index=dates)

In [116]: ts
Out[116]:
2012-03-09 09:30:00    -0.202469
2012-03-10 09:30:00     0.050718
2012-03-11 09:30:00     0.639869
2012-03-12 09:30:00     0.597594
2012-03-13 09:30:00    -0.797246
2012-03-14 09:30:00     0.472879
Freq: D, dtype: float64