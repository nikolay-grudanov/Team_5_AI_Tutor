---
source_image: page_500.png
page_number: 500
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.31
tokens: 7471
characters: 1420
timestamp: 2025-12-24T02:54:03.367119
finish_reason: stop
---

x = 5
y = 7
if x > 5:
    x += 1
    y = 8

Проще всего воспользоваться магическими функциями %paste и %cpaste (отметим, что они не работают в Jupyter, поскольку там в ячейке кода возможны операции копирования и вставки). Функция %paste берет текст, находящийся в буфере обмена, и выполняет его в оболочке как единый блок:

In [17]: %paste
x = 5
y = 7
if x > 5:
    x += 1
    y = 8
## -- Конец вставленного текста --

Функция %cpaste аналогична, но выводит специальное приглашение для вставки кода:

In [18]: %cpaste
Pasting code; enter '--' alone on the line to stop or use Ctrl-D.
:x = 5
:y = 7
:if x > 5:
    :    x += 1
    :
    :    y = 8
:--

При использовании %cpaste вы можете вставить сколько угодно кода, перед тем как начать его выполнение. Например, %cpaste может пригодиться, если вы хотите посмотреть на вставленный код до выполнения. Если окажется, что случайно вставлен не тот код, то из %cpaste можно выйти нажатием <Ctrl-C>.

В.3. История команд

IPython хранит небольшую базу данных на диске, в которой находятся тексты всех выполненных команд. Она служит нескольким целям:

○ поиск, автозавершение и повторное выполнение ранее выполненных команд с минимальными усилиями;
○ сохранение истории команд между сеансами;
○ протоколирование истории ввода-вывода в файле.

Эти средства больше полезны в оболочке, чем в блокноте, поскольку блокнот изначально хранит всю историю ввода-вывода в каждой ячейке.