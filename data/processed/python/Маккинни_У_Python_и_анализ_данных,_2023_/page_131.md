---
source_image: page_131.png
page_number: 131
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.98
tokens: 7814
characters: 2158
timestamp: 2025-12-24T02:43:31.921704
finish_reason: stop
---

Устранение дубликатов и другие теоретико-множественные операции

В NumPy имеются основные теоретико-множественные операции для одномерных массивов. Пожалуй, самой употребительной является numpy.unique, она возвращает отсортированное множество уникальных значений в массиве:

In [224]: names = np.array(["Bob", "Will", "Joe", "Bob", "Will", "Joe", "Joe"])

In [225]: np.unique(names)
Out[225]: array(['Bob', 'Joe', 'Will'], dtype='<U4')

In [226]: ints = np.array([3, 3, 3, 2, 2, 1, 1, 4, 4])

In [227]: np.unique(ints)
Out[227]: array([1, 2, 3, 4])

Сравните numpy.unique с альтернативой на чистом Python:

In [228]: sorted(set(names))
Out[228]: ['Bob', 'Joe', 'Will']

Во многих случаях вариант из NumPy быстрее и возвращает массив NumPy, а не список Python.

Функция numpy.in1d проверяет, присутствуют ли значения из одного массива в другом, и возвращает булев массив:

In [229]: values = np.array([6, 0, 0, 3, 2, 5, 6])

In [230]: np.in1d(values, [2, 3, 6])
Out[230]: array([ True, False, False, True, True, False, True])

В табл. 4.7 перечислены все теоретико-множественные функции, имеющиеся в NumPy.

Таблица 4.7. Теоретико-множественные операции с массивами

<table>
  <tr>
    <th>Метод</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>unique(x)</td>
    <td>Вычисляет отсортированное множество уникальных элементов</td>
  </tr>
  <tr>
    <td>intersect1d(x, y)</td>
    <td>Вычисляет отсортированное множество элементов, общих для x и y</td>
  </tr>
  <tr>
    <td>union1d(x, y)</td>
    <td>Вычисляет отсортированное объединение элементов</td>
  </tr>
  <tr>
    <td>in1d(x, y)</td>
    <td>Вычисляет булев массив, показывающий, какие элементы x встречаются в y</td>
  </tr>
  <tr>
    <td>setdiff1d(x, y)</td>
    <td>Вычисляет разность множеств, т. е. элементы, принадлежащие x, но не принадлежащие y</td>
  </tr>
  <tr>
    <td>setxor1d(x, y)</td>
    <td>Симметрическая разность множеств; элементы, принадлежащие одному массиву, но не обоим сразу</td>
  </tr>
</table>

4.5. Файловый ввод-вывод массивов

NumPy умеет сохранять на диске и загружать с диска данные в текстовом или двоичном формате. В этом разделе мы рассмотрим только встроенный