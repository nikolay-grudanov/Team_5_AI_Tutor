---
source_image: page_120.png
page_number: 120
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.98
tokens: 7702
characters: 2011
timestamp: 2025-12-24T02:43:09.828642
finish_reason: stop
---

4.2. Генерирование псевдослучайных чисел

Модуль numpy.random дополняет встроенный модуль random функциями, которые генерируют целые массивы случайных чисел с различными распределениями вероятности. Например, с помощью функции numpy.random.standard_normal можно получить случайный массив 4×4, выбранный из стандартного нормального распределения:

In [141]: samples = np.random.standard_normal(size=(4, 4))

In [142]: samples
Out[142]:
array([[-0.2047, 0.4789, -0.5194, -0.5557],
       [1.9658, 1.3934, 0.0929, 0.2817],
       [0.769 , 1.2464, 1.0072, -1.2962],
       [0.275 , 0.2289, 1.3529, 0.8864]])

Встроенный в Python модуль random умеет выдавать только по одному случайному числу за одно обращение. Ниже видно, что numpy.random более чем на порядок быстрее стандартного модуля при генерации очень больших выборок:

In [143]: from random import normalvariate

In [144]: N = 1_000_000

In [145]: %timeit samples = [normalvariate(0, 1) for _ in range(N)]
1.04 s +- 11.4 ms per loop (mean +- std. dev. of 7 runs, 1 loop each)

In [146]: %timeit np.random.standard_normal(N)
21.9 ms +- 155 us per loop (mean +- std. dev. of 7 runs, 10 loops each)

Эти числа не истинно случайные, а псевдослучайные, они порождаются настраиваемым детерминированным генератором случайных чисел. Функции типа numpy.random.standard_normal пользуются генератором по умолчанию из модуля numpy.random, но вы можете сконфигурировать генератор явно:

In [147]: rng = np.random.default_rng(seed=12345)

In [148]: data = rng.standard_normal((2, 3))

Здесь аргумент seed определяет начальное состояние генератора. Состояние изменяется при каждом использовании объекта rng для генерирования случайного числа. Объект rng изолирован от прочего кода, в котором может использоваться модуль numpy.random:

In [149]: type(rng)
Out[149]: numpy.random._generator.Generator

В табл. 4.3 приведен неполный перечень методов таких объектов, как rng. Далее в этой главе я буду использовать созданный выше объект rng для генерирования случайных данных.