---
source_image: page_298.png
page_number: 298
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.63
tokens: 7516
characters: 1579
timestamp: 2025-12-24T02:48:15.518492
finish_reason: stop
---

Отметим несколько важных моментов. Метод ax.annotate умеет рисовать метку в позиции, заданной координатами x и y. Мы воспользовались методами set_xlim и set_ylim, чтобы вручную задать нижнюю и верхнюю границы графика, а не полагаться на умолчания matplotlib. Наконец, метод ax.set_title задает название графика в целом.

В галерее matplotlib в сети есть много других поучительных примеров аннотаций.

Для рисования фигур требуется больше усилий. В matplotlib имеются объекты, соответствующие многим стандартным фигурам, они называются патчами (patches). Часть из них, например Rectangle, Circle и Polygon, находится в модуле matplotlib.pyplot, а весь набор — в модуле matplotlib.patches.

Чтобы поместить на график фигуру, мы создаем объект патча shp и добавляем его в подграфик, вызывая метод ax.add_patch(shp) (см. рис. 9.12):

fig, ax = plt.subplots()

rect = plt.Rectangle((0.2, 0.75), 0.4, 0.15, color="black", alpha=0.3)
circ = plt.Circle((0.7, 0.2), 0.15, color="blue", alpha=0.3)
pgon = plt.Polygon([[0.15, 0.15], [0.35, 0.4], [0.2, 0.6]],
                   color="green", alpha=0.5)
ax.add_patch(rect)
ax.add_patch(circ)
ax.add_patch(pgon)

![Визуализация данных, составленная из трех разных патчей](../images/9_12.png)

Рис. 9.12. Визуализация данных, составленная из трех разных патчей

Заглянув в код многих знакомых типов графиков, вы увидите, что они составлены из патчей.

Сохранение графиков в файле
Активный рисунок можно сохранить в файле методом экземпляра рисунка savefig. Например, чтобы сохранить рисунок в формате SVG, достаточно указать только имя файла: