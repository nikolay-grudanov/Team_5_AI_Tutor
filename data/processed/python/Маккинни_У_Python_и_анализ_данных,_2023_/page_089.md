---
source_image: page_089.png
page_number: 89
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.00
tokens: 7624
characters: 1922
timestamp: 2025-12-24T02:42:19.868733
finish_reason: stop
---

Встречая конструкцию for key in some_dict, интерпретатор Python сначала пытается создать итератор из some_dict:

In [209]: dict_iterator = iter(some_dict)

In [210]: dict_iterator
Out[210]: <dict_keyiterator at 0x7fefe45465c0>

Итератор — это любой объект, который отдает интерпретатору Python объекты при использовании в контексте, аналогичном циклу for. Методы, ожидающие получить список или похожий на список объект, как правило, удовлетворяются любым итерируемым объектом. Это относится, в частности, к встроенным методам, например min, max и sum, и к конструкторам типов, например list и tuple:

In [211]: list(dict_iterator)
Out[211]: ['a', 'b', 'c']

Генератор — это удобный механизм конструирования итерируемого объекта, похожий на обычную функцию. Если обычная функция выполняется и возвращает единственное значение, то генератор может возвращать последовательность значений, приостанавливаясь после возврата каждого в ожидании запроса следующего. Чтобы создать генератор, нужно вместо return использовать ключевое слово yield:

def squares(n=10):
    print(f"Генерируются квадраты чисел от 1 до {n ** 2}")
    for i in range(1, n + 1):
        yield i ** 2

В момент вызова генератора никакой код не выполняется:

In [213]: gen = squares()

In [214]: gen
Out[214]: <generator object squares at 0x7fefe437d620>

И лишь после запроса элементов генератор начинает выполнять свой код:

In [215]: for x in gen:
    ....:     print(x, end=" ")
Генерируются квадраты чисел от 1 до 100
1 4 9 16 25 36 49 64 81 100

Поскольку генераторы отдают значения по одному, а не весь список сразу, программа потребляет меньше памяти.

Генераторные выражения
Еще один способ создать генератор — воспользоваться генераторным выражением. Такой генератор аналогичен списковому, словарному и множественному включениям; чтобы его создать, заключите выражение, которое выглядит как списковое включение, в круглые скобки вместо квадратных: