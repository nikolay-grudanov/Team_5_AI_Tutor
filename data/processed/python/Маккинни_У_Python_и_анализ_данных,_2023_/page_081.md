---
source_image: page_081.png
page_number: 81
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.70
tokens: 7649
characters: 2089
timestamp: 2025-12-24T02:42:08.593897
finish_reason: stop
---

1: bar, two
2: baz, three

reversed
Функция reversed перебирает элементы последовательности в обратном порядке:

In [154]: list(reversed(range(10)))
Out[154]: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]

Имейте в виду, что reversed — это генератор (это понятие мы рассмотрим ниже), поэтому он не создает инвертированную последовательность, если только не будет материализован (например, с помощью функции list или в цикле for).

Списковое, словарное и множественное включения
Списковое включение3 — одна из самых любимых особенностей Python. Этот механизм позволяет кратко записать создание нового списка, образованного фильтрацией элементов коллекции с одновременным преобразованием элементов, прошедших через фильтр. Основная синтаксическая форма такова:

[expr for val in collection if condition]

Это эквивалентно следующему циклу for:

result = []
for val in collection:
    if condition:
        result.append(expr)

Условие фильтрации можно опустить, оставив только выражение. Например, если задан список строк, то мы могли бы выделить из него строки длиной больше 2 и попутно преобразовать их в верхний регистр:

In [155]: strings = ["a", "as", "bat", "car", "dove", "python"]

In [156]: [x.upper() for x in strings if len(x) > 2]
Out[156]: ['BAT', 'CAR', 'DOVE', 'PYTHON']

Словарное и множественное включения — естественные обобщения, которые предлагают аналогичную идиому для порождения словарей и множеств.

Словарное включение выглядит так:

dict_comp = {key-expr : value-expr for value in collection if condition}

Множественное включение очень похоже на списковое, но квадратные скобки заменяются фигурными:

set_comp = {expr for value in collection if condition}

Все виды включений — не более чем дополнительное удобство, упрощающее написание и чтение кода. Рассмотрим приведенный выше список

3 Более-менее устоявшийся перевод термина list comprehension — «списковое включение» — крайне неудачен и совершенно не отражает сути дела. Я предложил бы перевод «трансфильтрация», являющийся объединением слов «трансформация» и «фильтрация», но не уверен в реакции сообщества. — Прим. перев.