---
source_image: page_234.png
page_number: 234
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.60
tokens: 7512
characters: 1474
timestamp: 2025-12-24T02:46:16.139237
finish_reason: stop
---

7.3. Расширение типов данных

In [136]: s = pd.Series([1, 2, 3, None], dtype=pd.Int64Dtype())

In [137]: s
Out[137]:
0    1
1    2
2    3
3   <NA>
dtype: Int64

In [138]: s.isna()
Out[138]:
0    False
1    False
2    False
3    True
dtype: bool

In [139]: s.dtype
Out[139]: Int64Dtype()

Здесь маркер <NA> означает, что в массиве расширенного типа отсутствует значение. Для этого используется специальное маркерное значение pandas.NA:

In [140]: s[3]
Out[140]: <NA>

In [141]: s[3] is pd.NA
Out[141]: True

Для задания этого типа можно было бы использовать сокращенную запись "Int64" вместо pd.Int64Dtype(). Заглавная буква обязательна, иначе считалось бы, что это нерасширенный тип, основанный на NumPy:

In [142]: s = pd.Series([1, 2, 3, None], dtype="Int64")

В pandas имеется также расширенный тип специально для строковых данных, в котором не используются массивы NumPy (для его работы необходима библиотека pyarrow, которую придется устанавливать отдельно):

In [143]: s = pd.Series(['one', 'two', None, 'three'], dtype=pd.StringDtype())

In [144]: s
Out[144]:
0    one
1    two
2   <NA>
3    three
dtype: string

Такие массивы строк обычно потребляют гораздо меньше памяти и зачастую оказываются вычислительно эффективнее при выполнении операций над большими наборами данных.

Categorical — еще один важный расширенный тип, который мы подробнее обсудим в разделе 7.5 ниже. Сравнительно полный перечень расширенных типов на момент написания книги приведен в табл. 7.3.