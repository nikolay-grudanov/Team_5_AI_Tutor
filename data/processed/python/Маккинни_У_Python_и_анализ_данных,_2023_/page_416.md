---
source_image: page_416.png
page_number: 416
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.61
tokens: 7778
characters: 2221
timestamp: 2025-12-24T02:51:55.481269
finish_reason: stop
---

Глава 13

Примеры анализа данных

Вот мы и дошли до последней главы, где рассмотрим несколько реальных наборов данных. Для каждого набора мы применим описанные в книге приемы, чтобы извлечь смысл из исходных данных. Продемонстрированная техника пригодна и для любых других наборов данных, в т. ч. ваших собственных. Я включил различные примеры наборов данных, на которых можно попрактиковаться в применении описанных в книге инструментов.

Все примеры наборов данных имеются в репозитории этой книги на GitHub (http://github.com/wesm/pydata-book). Если у вас нет доступа к GitHub, можете скачать их с зеркала на Gitee (https://gitee.com/wesmckinn/pydata-book).

13.1. Набор данных Bitly с сайта 1.usa.gov

В 2011 году служба сокращения URL-адресов bit.ly заключила партнерское соглашение с сайтом правительства США USA.gov (https://www.usa.gov/) о синхронном предоставлении анонимных данных о пользователях, которые сокращают ссылки, заканчивающиеся на .gov или .mil. В 2011 году, помимо синхронной ленты, формировалась ежечасные мгновенные снимки, доступные в виде текстовых файлов. В 2017 году эта служба уже закрылась, но мы сохранили файлы данных и приводим их в качестве примеров.

В мгновенном снимке каждая строка представлена в формате JSON (JavaScript Object Notation), широко распространенном в вебе. Например, первая строка файла выглядит примерно так:

In [5]: path = "datasets/bitly_usagov/example.txt"

In [6]: with open(path) as f:
...:     print(f.readline())
...
{
    "a": "Mozilla\\5.0 (Windows NT 6.1; WOW64) AppleWebKit\\535.11 (KHTML, like Gecko) Chrome\\17.0.963.78 Safari\\535.11",
    "c": "US", "nk": 1,
    "tz": "America\\New_York", "gr": "MA", "g": "A6qOVH", "h": "wfLQtf", "l": "orofrog", "al": "en-US,en;q=0.8", "hh": "1.usa.gov", "r": "http:\\\\www.facebook.com\\\\l\\\\7AQEFzjSi\\\\1.usa.gov\\\\wfLQtf", "u": "http:\\\\www.ncbi.nlm.nih.gov\\\\pubmed\\\\22415991", "t": 1331923247, "hc": 1331822918, "cy": "Danvers", "ll": [42.576698, -70.954903]
}

Для Python имеется много встроенных и сторонних модулей, позволяющих преобразовать JSON-строку в объект словаря Python. Ниже я воспользовался модулем json; принадлежащая ему функция loads вызывается для каждой строки скачанного мной файла: