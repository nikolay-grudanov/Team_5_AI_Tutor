---
source_image: page_296.png
page_number: 296
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.94
tokens: 7478
characters: 1569
timestamp: 2025-12-24T02:48:10.948557
finish_reason: stop
---

In [48]: ax.plot(np.random.randn(1000).cumsum(), color="black", linestyle="dashed",
    ....:     label="two");
In [49]: ax.plot(np.random.randn(1000).cumsum(), color="black", linestyle="dotted",
    ....:     label="three");

После этого можно вызвать метод ax.legend(), и он автоматически создаст пояснительную надпись. Получившийся график показан на рис. 9.10:

In [50]: ax.legend()

![Простой график с тремя линиями и пояснительной надписью](../images/fig_9_10.png)

Рис. 9.10. Простой график с тремя линиями и пояснительной надписью

Аргумент loc метода legend может принимать и другие значения. Дополнительные сведения см. в строке документации (введите ax.legend?).

Аргумент loc говорит, где поместить надпись. По умолчанию подразумевается значение 'best', в этом случае место выбирается так, чтобы по возможности не загораживать сам график. Чтобы исключить из надписи один или несколько элементов, не задавайте параметр label вовсе или задайте label='_nolegend_'.

**Аннотации и рисование в подграфике**

Помимо стандартных типов графиков, разрешается наносить на график свои аннотации, которые могут включать текст, стрелки и другие фигуры. Для добавления аннотаций и текста предназначены функции text, arrow и annotate. Функция text наносит на график текст, начиная с точки с заданными координатами (x, y), с факультативной стилизацией:

ax.text(x, y, "Hello world!",
    family="monospace", fontsize=10)

В аннотациях могут встречаться текст и стрелки. В качестве примера построим график цен закрытия по индексу S&P 500 начиная с 2007 года (даннные получены