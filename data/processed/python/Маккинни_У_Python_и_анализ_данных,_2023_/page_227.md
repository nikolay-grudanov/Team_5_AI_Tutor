---
source_image: page_227.png
page_number: 227
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 44.83
tokens: 8090
characters: 1851
timestamp: 2025-12-24T02:46:27.906891
finish_reason: stop
---

Обнаружение и фильтрация выбросов

Фильтрация, или преобразование, выбросов — это в основном вопрос применения операций с массивами. Рассмотрим объект DataFrame с нормально распределенными данными:

In [95]: data = pd.DataFrame(np.random.standard_normal((1000, 4)))

In [96]: data.describe()
Out[96]:
   0    1    2    3
count 1000.000000 1000.000000 1000.000000 1000.000000
mean 0.049091 0.026112 -0.002544 -0.051827
std 0.996947 1.007458 0.995232 0.998311
min -3.645860 -3.184377 -3.745356 -3.428254
25% -0.599807 -0.612162 -0.687373 -0.747478
50% 0.047101 -0.013609 -0.022158 -0.088274
75% 0.756646 0.695298 0.699046 0.623331
max 2.653656 3.525865 2.735527 3.366626

Допустим, что мы хотим найти в одном из столбцов значения, превышающие 3 по абсолютной величине:

In [97]: col = data[2]

In [98]: col[col.abs() > 3]
Out[98]:
41   -3.399312
136  -3.745356
Name: 2, dtype: float64

Чтобы выбрать все строки, в которых встречаются значения, по абсолютной величине превышающие 3, мы можем воспользоваться методом any для булева объекта DataFrame:

In [99]: data[(data.abs() > 3).any(axis="columns")]
Out[99]:
        0         1         2         3
41  0.457246 -0.025907 -3.399312 -0.974657
60  1.951312  3.260383  0.963301  1.201206
136 0.508391 -0.196713 -3.745356 -1.520113
235 -0.242459 -3.056990  1.918403 -0.578828
258 0.682841  0.326045  0.425384 -3.428254
322 1.179227 -3.184377  1.369891 -1.074833
544 -3.548824  1.553205 -2.186301  1.277104
635 -0.578093  0.193299  1.397822  3.366626
782 -0.207434  3.525865  0.283070  0.544635
803 -3.645860  0.255475 -0.549574 -1.907459

Скобки вокруг data.abs() > 3 необходимы, они означают, что метод any применяется к результату операции сравнения.

Можно также присваивать значения данным, удовлетворяющим какому-то критерию. Следующий код срезает значения, выходящие за границы интервала от −3 до 3: