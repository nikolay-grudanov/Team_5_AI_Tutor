---
source_image: page_176.png
page_number: 176
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.18
tokens: 7750
characters: 1699
timestamp: 2025-12-24T02:44:50.255895
finish_reason: stop
---

Здесь элементам 0 и 2 присвоен не средний ранг 6.5, а ранги 6 и 7, потому что в данных метка 0 предшествует метке 2.
Можно ранжировать и в порядке убывания:

In [254]: obj.rank(ascending=False)
Out[254]:
   0    1.5
   1    7.0
   2    1.5
   3    3.5
   4    5.0
   5    6.0
   6    3.5
dtype: float64

В табл. 5.6 перечислены способы обработки равных рангов.
DataFrame умеет вычислять ранги как по строкам, так и по столбцам:

In [255]: frame = pd.DataFrame({"b": [4.3, 7, -3, 2], "a": [0, 1, 0, 1],
.....: "c": [-2, 5, 8, -2.5]})

In [256]: frame
Out[256]:
      b   a   c
0  4.3  0 -2.0
1  7.0  1  5.0
2 -3.0  0  8.0
3  2.0  1 -2.5

In [257]: frame.rank(axis="columns")
Out[257]:
      b   a   c
0  3.0  2.0  1.0
1  3.0  1.0  2.0
2  1.0  2.0  3.0
3  3.0  2.0  1.0

Таблица 5.6. Способы обработки равных рангов

<table>
  <tr>
    <th>Способ</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>"average"</td>
    <td>По умолчанию: всем элементам группы присвоить средний ранг</td>
  </tr>
  <tr>
    <td>"min"</td>
    <td>Всем элементам группы присвоить минимальный ранг</td>
  </tr>
  <tr>
    <td>"max"</td>
    <td>Всем элементам группы присвоить максимальный ранг</td>
  </tr>
  <tr>
    <td>"first"</td>
    <td>Присваивать ранги в порядке появления значений в наборе данных</td>
  </tr>
  <tr>
    <td>"dense"</td>
    <td>Как method="min", но при переходе к следующей группе элементов с одинаковым рангом ранг всегда увеличивается на 1, а не на количество элементов в группе</td>
  </tr>
</table>

Индексы по осям с повторяющимися значениями
Во всех рассмотренных до сих пор примерах метки на осях (значения индекса) были уникальны. Хотя для многих функций pandas (например, reindex) требу-