---
source_image: page_198.png
page_number: 198
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.64
tokens: 7823
characters: 2456
timestamp: 2025-12-24T02:45:22.104513
finish_reason: stop
---

In [64]: header, values = lines[0], lines[1:]

Далее мы можем создать словарь столбцов, применив словарное включение и выражение zip(*values), которое транспонирует строки и столбцы (помните, что для больших файлов эта операция потребляет много памяти):

In [65]: data_dict = {h: v for h, v in zip(header, zip(*values))}

In [66]: data_dict
Out[66]: {'a': ('1', '1'), 'b': ('2', '2'), 'c': ('3', '3')}

Встречаются различные вариации CSV-файлов. Для определения нового формата со своим разделителем, соглашением об употреблении кавычек и способе завершения строк создадим простой подкласс класса csv.Dialect:

class my_dialect(csv.Dialect):
    lineterminator = "\n"
    delimiter = ";"
    quotechar = '"'
    quoting = csv.QUOTE_MINIMAL

reader = csv.reader(f, dialect=my_dialect)

Параметры диалекта CSV можно задать также в виде именованных параметров csv.reader, не определяя подкласса:

reader = csv.reader(f, delimiter="|")

Возможные атрибуты csv.Dialect вместе с назначением каждого описаны в табл. 6.3.

Таблица 6.3. Параметры диалекта CSV

<table>
  <tr>
    <th>Аргумент</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>delimiter</td>
    <td>Односимвольная строка, определяющая разделитель полей. По умолчанию ','</td>
  </tr>
  <tr>
    <td>lineterminator</td>
    <td>Завершитель строк при выводе, по умолчанию '\r\n'. Объект reader игнорирует этот параметр, используя вместо него платформенное соглашение о концах строк</td>
  </tr>
  <tr>
    <td>quotechar</td>
    <td>Символ закавычивания для полей, содержащих специальные символы (например, разделитель). По умолчанию '"'</td>
  </tr>
  <tr>
    <td>quoting</td>
    <td>Соглашение об употреблении кавычек. Допустимые значения: csv.QUOTE_ALL (заключать в кавычки все поля), csv.QUOTE_MINIMAL (только поля, содержащие специальные символы, например разделитель), csv.QUOTE_NONNUMERIC и csv.QUOTE_NON (не заключать в кавычки). Полное описание см. в документации. По умолчанию QUOTE_MINIMAL</td>
  </tr>
  <tr>
    <td>skipinitialspace</td>
    <td>Игнорировать пробелы после каждого разделителя. По умолчанию False</td>
  </tr>
  <tr>
    <td>doublequote</td>
    <td>Как обрабатывать символ кавычки внутри поля. Если True, добавляется второй символ кавычки. Полное описание см. в документации.</td>
  </tr>
  <tr>
    <td>escapechar</td>
    <td>Строка для экранирования разделителя в случае, когда quoting равно csv.QUOTE_NONE. По умолчанию экранирование выключено</td>
  </tr>
</table>