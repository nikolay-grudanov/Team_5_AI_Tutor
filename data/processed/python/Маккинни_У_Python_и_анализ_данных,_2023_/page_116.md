---
source_image: page_116.png
page_number: 116
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.51
tokens: 7465
characters: 1348
timestamp: 2025-12-24T02:42:58.887903
finish_reason: stop
---

4.1. NumPy ndarray: объект многомерного массива

In [113]: mask = (names == "Bob") | (names == "Will")

In [114]: mask
Out[114]: array([ True, False, True, True, True, False, False])

In [115]: data[mask]
Out[115]:
array([[ 4,  7],
       [-5,  6],
       [ 0,  0],
       [ 1,  2]])

При выборке данных из массива путем булева индексирования всегда создается копия данных, даже если возвращенный массив совпадает с исходным.

Ключевые слова Python and и or с булевыми массивами не работают. Используйте вместо них & (и) и | (или).

Если значение устанавливается с применением булева массива, то значения из массива в правой части копируются в левую часть только тогда, когда значение соответствующего элемента булева массива равно True. Например, чтобы заменить все отрицательные значения в массиве data нулями, нужно всего лишь написать:

In [116]: data[data < 0] = 0

In [117]: data
Out[117]:
array([[4, 7],
       [0, 2],
       [0, 6],
       [0, 0],
       [1, 2],
       [0, 0],
       [3, 4]])

Задать целые строки или столбцы с помощью одномерного булева массива тоже просто:

In [118]: data[names != "Joe"] = 7

In [119]: data
Out[119]:
array([[7, 7],
       [0, 2],
       [7, 7],
       [7, 7],
       [7, 7],
       [0, 0],
       [3, 4]])

Как мы вскоре увидим, такого рода операции над двумерными данными удобно производить в pandas.