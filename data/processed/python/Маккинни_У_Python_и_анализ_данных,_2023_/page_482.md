---
source_image: page_482.png
page_number: 482
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.19
tokens: 7640
characters: 1607
timestamp: 2025-12-24T02:53:39.894013
finish_reason: stop
---

Имена полей хранятся в атрибуте `dtype.names`. При доступе к полю структурного массива возвращается шаговое представление данных, т. е. копирования не происходит:

In [152]: sarr['x']
Out[152]: array([1.5 , 3.1416])

Вложенные типы данных и многомерные поля
При описании структурного dtype можно факультативно передать форму (в виде целого числа или кортежа):

In [153]: dtype = [('x', np.int64, 3), ('y', np.int32)]

In [154]: arr = np.zeros(4, dtype=dtype)

In [155]: arr
Out[155]:
array([([0, 0, 0], 0), ([0, 0, 0], 0), ([0, 0, 0], 0), ([0, 0, 0], 0)],
      dtype=[('x', '<i8', (3,)), ('y', '<i4')])

В данном случае поле x в каждой записи ссылается на массив длиной 3:

In [156]: arr[0]['x']
Out[156]: array([0, 0, 0])

При этом результатом операции arr['x'] является двумерный массив, а не одномерный, как в предыдущих примерах:

In [157]: arr['x']
Out[157]:
array([0, 0, 0,
       0, 0, 0,
       0, 0, 0,
       0, 0, 0])

Это позволяет представлять более сложные вложенные структуры в виде одного блока памяти в массиве. Допускаются также вложенные типы данных, что позволяет создавать еще более сложные структуры. Например:

In [158]: dtype = [('x', [('a', 'f8'), ('b', 'f4')]), ('y', np.int32)]

In [159]: data = np.array(((1, 2), 5), ((3, 4), 6)), dtype=dtype)

In [160]: data['x']
Out[160]: array([(1., 2.), (3., 4.)], dtype=[('a', '<f8'), ('b', '<f4')])

In [161]: data['y']
Out[161]: array([5, 6], dtype=int32)

In [162]: data['x']['a']
Out[162]: array([1., 3.])

Объект DataFrame из библиотеки pandas не поддерживает этот механизм напрямую, хотя иерархическое индексирование в чем-то похоже.