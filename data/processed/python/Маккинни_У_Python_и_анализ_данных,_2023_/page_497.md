---
source_image: page_497.png
page_number: 497
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.11
tokens: 7693
characters: 2231
timestamp: 2025-12-24T02:54:10.341472
finish_reason: stop
---

что при этом всегда используется последняя трасса стека, так что
анализировать ее надо сразу после возникновения исключения, поскольку
следующее исключение затрет предыдущее.

Если вы хотите, чтобы IPython автоматически делал это при каждом
исключении, то обратитесь к документации по магической команде %pdb.

.. versionchanged:: 7.3
При выполнении кода пользовательские переменные больше не расширяются,
магическая строка никогда не модифицируется.

позиционные аргументы:
statement    Код, подлежащий выполнению в отладчике. При работе
             в режиме ячейки можно опускать.

факультативные аргументы:
--breakpoint <FILE:LINE>, -b <FILE:LINE>
Установить точку прерывания на строке LINE файла FILE.

Магические функции по умолчанию можно использовать и без знака процента, если только нигде не определена переменная с таким же именем, как у магической функции. Этот режим называется *автомагическим*, его можно включить или выключить с помощью функции %automagic.
Некоторые магические функции ведут себя как функции Python, и их результат можно присваивать переменной:

In [22]: %pwd
Out[22]: '/home/wesm/code/pydata-book'

In [23]: foo = %pwd

In [24]: foo
Out[24]: '/home/wesm/code/pydata-book'

Поскольку к документации по IPython легко можно обратиться из системы, я рекомендую изучить все имеющиеся специальные команды, набрав %quickref или %magic. Эта информация отображается консольным средством постраничного просмотра, для выхода из него нужно нажать клавишу q. В табл. B.2 описаны некоторые команды, наиболее важные для продуктивной работы в области интерактивных вычислений и разработки в среде IPython.

Таблица B.2. Часто используемые магические команды IPython

<table>
  <tr>
    <th>Команда</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>%quickref</td>
    <td>Вывести краткую справку по IPython</td>
  </tr>
  <tr>
    <td>%magic</td>
    <td>Вывести подробную документацию по всем имеющимся магическим командам</td>
  </tr>
  <tr>
    <td>%debug</td>
    <td>Войти в интерактивный отладчик в точке последнего вызова, показанного в обратной трассировке исключения</td>
  </tr>
  <tr>
    <td>%hist</td>
    <td>Напечатать историю введенных команд (по желанию вместе с результатами)</td>
  </tr>
</table>