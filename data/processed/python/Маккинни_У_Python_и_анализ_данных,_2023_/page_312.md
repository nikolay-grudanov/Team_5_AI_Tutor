---
source_image: page_312.png
page_number: 312
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.00
tokens: 7587
characters: 1341
timestamp: 2025-12-24T02:48:39.664114
finish_reason: stop
---

9.2. Построение графиков с помощью pandas и seaborn

In [106]: trans_data = np.log(data).diff().dropna()

In [107]: trans_data.tail()
Out[107]:
        cpi      m1   tbilrate   unemp
198 -0.007904  0.045361 -0.396881  0.105361
199 -0.021979  0.066753 -2.277267  0.139762
200  0.002340  0.010286  0.606136  0.160343
201  0.008419  0.037461 -0.200671  0.127339
202  0.008894  0.012202 -0.405465  0.042560

Затем мы можем использовать метод regplot из библиотеки seaborn, чтобы построить диаграмму рассеяния и аппроксимирующую ее прямую линейной регрессии (рис. 9.24):

In [109]: ax = sns.regplot(x="m1", y="unemp", data=trans_data)

In [110]: ax.title("Changes in log(m1) versus log(unemp)")

![Диаграмма рассеяния с прямой регрессии](https://i.imgur.com/3Q5z5QG.png)

Рис. 9.24. Диаграмма рассеяния с прямой регрессии, построенная средствами seaborn

В разведочном анализе данных полезно видеть все диаграммы рассеяния для группы переменных; это называется диаграммой пар, или матрицей диаграмм рассеяния. Построение такого графика с нуля — довольно утомительное занятие, поэтому в seaborn имеется функция pairplot, которая поддерживает размещение гистограмм или графиков оценки плотности каждой переменной вдоль диагонали (см. результирующий график на рис. 9.25):

In [111]: sns.pairplot(trans_data, diag_kind="kde", plot_kws={"alpha": 0.2})