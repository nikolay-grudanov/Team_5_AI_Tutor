---
source_image: page_108.png
page_number: 108
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.21
tokens: 7418
characters: 1455
timestamp: 2025-12-24T00:54:16.448372
finish_reason: stop
---

«Прихотливая» индексация

В предыдущих разделах мы рассмотрели доступ и изменение частей массива с помощью простых индексов (например, arr[0]), срезов (например, arr[:5]) и булевых масок (например, arr[arr > 0]). В этом разделе мы изучим другую разновидность индексации массивов, так называемую прихотливую индексацию (fancy indexing). «Прихотливая» индексация похожа на уже рассмотренную нами простую индексацию, но вместо скалярных значений передаются массивы индексов. Это дает возможность очень быстрого доступа и модификации сложных подмножеств значений массива.

Исследуем возможности «прихотливой» индексации

Суть «прихотливой» индексации проста: она заключается в передаче массива индексов с целью одновременного доступа к нескольким элементам массива. Например, рассмотрим следующий массив:

In[1]: import numpy as np
    rand = np.random.RandomState(42)
    x = rand.randint(100, size=10)
    print(x)

[51 92 14 71 60 20 82 86 74 74]

Допустим, нам требуется обратиться к трем различным элементам. Можно сделать это следующим образом:

In[2]: [x[3], x[7], x[2]]

Out[2]: [71, 86, 14]

С другой стороны, можно передать единый список индексов и получить тот же результат:

In[3]: ind = [3, 7, 4]
    x[ind]

Out[3]: array([71, 86, 60])

В случае «прихотливой» индексации форма результата отражает форму массивов индексов (index arrays), а не форму индексируемого массива:

In[4]: ind = np.array([[3, 7],
                      [4, 5]])
    x[ind]