---
source_image: page_298.png
page_number: 298
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.89
tokens: 7402
characters: 1602
timestamp: 2025-12-24T00:59:03.590687
finish_reason: stop
---

Обычно на практике мне удобнее использовать первый способ, указывая метки непосредственно для элементов, которые нужно отображать в легенде (рис. 4.46):

In[8]: plt.plot(x, y[:, 0], label='first')
    plt.plot(x, y[:, 1], label='second')
    plt.plot(x, y[:, 2:])
    plt.legend(framealpha=1, frameon=True);

![Альтернативный способ пользовательской настройки элементов легенды](../images/fig_4_46.png)

Рис. 4.46. Альтернативный способ пользовательской настройки элементов легенды

Обратите внимание, что по умолчанию в легенде игнорируются все элементы, для которых не установлен атрибут label.

Задание легенды для точек различного размера

Иногда возможностей легенды по умолчанию недостаточно для нашего графика. Допустим, вы используете точки различного размера для визуализации определенных признаков данных и хотели бы создать отражающую это легенду. Вот пример, в котором мы будем отражать население городов Калифорнии с помощью размера точек. Нам нужна легенда со шкалой размеров точек, и мы создадим ее путем вывода на графике маркированных данных без самих меток (рис. 4.47):

In[9]: import pandas as pd
    cities = pd.read_csv('data/california_cities.csv')

    # Извлекаем интересующие нас данные
    lat, lon = cities['latd'], cities['longd']
    population, area = cities['population_total'], cities['area_total_km2']

    # Распределяем точки по нужным местам,
    # с использованием размера и цвета, но без меток
    plt.scatter(lon, lat, label=None,
                c=np.log10(population), cmap='viridis',
                s=area, linewidth=0, alpha=0.5)
    plt.axis(aspect='equal')