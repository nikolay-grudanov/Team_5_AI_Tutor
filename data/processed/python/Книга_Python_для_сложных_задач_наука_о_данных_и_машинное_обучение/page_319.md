---
source_image: page_319.png
page_number: 319
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.55
tokens: 7363
characters: 1414
timestamp: 2025-12-24T00:59:33.474048
finish_reason: stop
---

Стрелки и поясняющие надписи

Наряду с отметками делений и текстом удобной поясняющей меткой является простая стрелка.

Рисование стрелок в Matplotlib зачастую оказывается более сложной задачей, чем вы могли бы предполагать. Несмотря на существование функции plt.arrow(), использовать ее я бы не советовал: создаваемые ею стрелки представляют собой SVG-объекты, подверженные изменениям в зависимости от соотношения сторон графиков, поэтому результат редко оказывается соответствующим ожиданиям. Вместо этого я предложил бы воспользоваться функцией plt.annotate(). Она создает текст и стрелку, причем позволяет очень гибко задавать настройки для стрелки.

В следующем фрагменте кода мы используем функцию annotate с несколькими параметрами (рис. 4.71):

In[7]: %matplotlib inline

    fig, ax = plt.subplots()

    x = np.linspace(0, 20, 1000)
    ax.plot(x, np.cos(x))
    ax.axis('equal')

    ax.annotate('local maximum', xy=(6.28, 1), xytext=(10, 4),
        arrowprops=dict(facecolor='black', shrink=0.05))

    ax.annotate('local minimum', xy=(5 * np.pi, -1), xytext=(2, -6),
        arrowprops=dict(arrowstyle="->", connectionstyle="angle3,angleA=0,angleB=-90"));

![Примеры поясняющих надписей](../images/fig_4_71.png)

Рис. 4.71. Примеры поясняющих надписей

Стилем стрелки можно управлять с помощью словаря arrowprops с множеством параметров. Эти параметры отлично описаны в онлайн-документации библиотеки