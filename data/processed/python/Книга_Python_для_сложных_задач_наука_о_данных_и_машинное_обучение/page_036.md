---
source_image: page_036.png
page_number: 36
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.56
tokens: 7485
characters: 1896
timestamp: 2025-12-24T00:52:31.742526
finish_reason: stop
---

Существует несколько параметров для точной настройки метода выполнения кода. Посмотреть относящуюся к этому документацию можно обычным способом, набрав команду %run? в интерпретаторе IPython.

Длительность выполнения кода: %timeit

Еще один пример полезной «магической» функции — %timeit, автоматически определяющая время выполнения следующего за ней однорядочного оператора языка Python. Например, если нам нужно определить производительность спискового включения:

In [8]: %timeit L = [n ** 2 for n in range(1000)]
1000 loops, best of 3: 325 µs per loop

Преимущество использования функции %timeit в том, что для коротких команд она автоматически будет выполнять множественные запуски с целью получения максимально надежных результатов. Для многострочных операторов добавление второго знака % превратит ее в блочную «магическую» функцию, которая может работать с многострочным вводом. Например, вот эквивалентная конструкция для цикла for:

In [9]: %%timeit
...: L = []
...: for n in range(1000):
...:     L.append(n ** 2)
...
1000 loops, best of 3: 373 µs per loop

Сразу же видно, что в данном случае списковое включение происходит примерно на 10% быстрее, чем эквивалентная конструкция для цикла for. Мы рассмотрим %timeit и другие подходы к мониторингу скорости выполнения и профилированию кода в разделе «Профилирование и мониторинг скорости выполнения кода» этой главы.

Справка по «магическим» функциям: ?, %magic и %lsmagic

Подобно обычным функциям языка программирования Python, у «магических» функций оболочки IPython есть свои инструкции (docstring), и к этой документации можно обратиться обычным способом. Например, чтобы просмотреть документацию по «магической» функции %timeit, просто введите следующее:

In [10]: %timeit?

К документации по другим функциям можно получить доступ аналогичным образом. Для доступа к общему описанию доступных «магических» функций введите команду: