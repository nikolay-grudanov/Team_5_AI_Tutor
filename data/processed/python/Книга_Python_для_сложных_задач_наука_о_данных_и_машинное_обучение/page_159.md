---
source_image: page_159.png
page_number: 159
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.70
tokens: 7640
characters: 1991
timestamp: 2025-12-24T00:55:33.481895
finish_reason: stop
---

In[11]: x = pd.Series(range(2), dtype=int)
    x

Out[11]: 0    0
         1    1
        dtype: int64

In[12]: x[0] = None
    x

Out[12]: 0    NaN
         1    1.0
        dtype: float64

Обратите внимание, что, помимо приведения типа целочисленного массива к массиву значений с плавающей точкой, библиотека Pandas автоматически преобразует значение None в NaN. Замечу, что существует план по внесению в будущем нативного целочисленного NA в библиотеку Pandas, но на момент написания данной книги оно еще не было включено.

Хотя подобный подход со значениями-индикаторами/приведением типов библиотеки Pandas может показаться несколько вычурным по сравнению с более унифицированным подходом к NA-значениям в таких предметно-ориентированных языках, как R, на практике он прекрасно работает и на моей памяти лишь изредка вызывал проблемы.

В табл. 3.2 перечислены правила повышающего приведения типов в библиотеке Pandas в случае наличия NA-значений.

Таблица 3.2. Правила повышающего приведения типов в библиотеке Pandas

<table>
  <tr>
    <th>Класс типов</th>
    <th>Преобразование при хранении NA-значений</th>
    <th>Значение-индикатор NA</th>
  </tr>
  <tr>
    <td>С плавающей точкой</td>
    <td>Без изменений</td>
    <td>np.nan</td>
  </tr>
  <tr>
    <td>Объект (object)</td>
    <td>Без изменений</td>
    <td>None или np.nan</td>
  </tr>
  <tr>
    <td>Целое число</td>
    <td>Приводится к float64</td>
    <td>np.nan</td>
  </tr>
  <tr>
    <td>Булево значение</td>
    <td>Приводится к object</td>
    <td>None или np.nan</td>
  </tr>
</table>

Имейте в виду, что строковые данные в библиотеке Pandas всегда хранятся с типом данных (dtype) object.

Операции над пустыми значениями

Библиотека Pandas рассматривает значения None и NaN как взаимозаменяемые средства указания на отсутствующие или пустые значения. Существует несколько удобных методов для обнаружения, удаления и замены пустых значений в структурах данных библиотеки Pandas, призванных упростить работу с ними.