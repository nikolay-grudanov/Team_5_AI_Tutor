---
source_image: page_124.png
page_number: 124
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.02
tokens: 7588
characters: 1954
timestamp: 2025-12-24T00:54:47.357439
finish_reason: stop
---

и массивы записей (record arrays), обеспечивающих эффективное хранилище для сложных неоднородных данных. Хотя демонстрируемые паттерны удобны для простых операций, подобные сценарии часто применяются и при работе со структурами данных DataFrame из библиотеки Pandas, которые мы рассмотрим в главе 3.

Пускай у нас имеется несколько категорий данных (например, имя, возраст и вес) о нескольких людях и мы хотели бы хранить эти значения для использования в программе на языке Python. Можно сохранить их в отдельных массивах:

In[2]: name = ['Alice', 'Bob', 'Cathy', 'Doug']
    age = [25, 45, 37, 19]
    weight = [55.0, 85.5, 68.0, 61.5]

Однако это не очень правильное решение. Ничто не указывает на то, что массивы как-то связаны, лучше было бы использовать для хранения этих данных единую структуру. Библиотека NumPy может это осуществить посредством применения структурированных массивов, представляющих собой массивы с составным типом данных.

Вспомните, что ранее мы создавали простой массив с помощью следующего выражения:

In[3]: x = np.zeros(4, dtype=int)

Аналогично можно создать структурированный массив, применяя спецификацию сложного типа данных:

In[4]: # Используем для структурированного массива составной тип данных
    data = np.zeros(4, dtype={'names':('name', 'age', 'weight'),
                              'formats':('U10', 'i4', 'f8')})
    print(data.dtype)

[('name', '<U10'), ('age', '<i4'), ('weight', '<f8')]

'U10' означает «строку в кодировке Unicode максимальной длины 10», 'i4' — «4-байтное (то есть 32-битное) целое число», а 'f8' — «8-байтное (то есть 64-битное) число с плавающей точкой». Мы обсудим другие варианты подобного кодирования типов в следующем разделе.

Создав пустой массив-контейнер, мы можем заполнить его нашим списком значений:

In[5]: data['name'] = name
    data['age'] = age
    data['weight'] = weight
    print(data)

[('Alice', 25, 55.0) ('Bob', 45, 85.5) ('Cathy', 37, 68.0)
 ('Doug', 19, 61.5)]