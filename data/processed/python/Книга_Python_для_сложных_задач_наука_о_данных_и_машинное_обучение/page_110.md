---
source_image: page_110.png
page_number: 110
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.68
tokens: 7416
characters: 1287
timestamp: 2025-12-24T00:54:24.481772
finish_reason: stop
---

In[9]: print(X)

[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]

Можно применять совместно «прихотливые» и простые индексы:

In[10]: X[2, [2, 0, 1]]

Out[10]: array([10,  8,  9])

Можно также использовать совместно «прихотливые» индексы и срезы:

In[11]: X[1:, [2, 0, 1]]

Out[11]: array([[ 6,  4,  5],
                [10,  8,  9]])

И можно применять совместно «прихотливую» индексацию и маскирование:

In[12]: mask = np.array([1, 0, 1, 0], dtype=bool)
        X[row[:, np.newaxis], mask]

Out[12]: array([[ 0,  2],
                [ 4,  6],
                [ 8, 10]])

Все эти варианты индексации вместе обеспечивают набор чрезвычайно гибких операций по доступу к значениям массивов и их изменению.

Пример: выборка случайных точек

Частая сфера применения «прихотливой» индексации — выборка подмножеств строк из матрицы. Пусть у нас имеется матрица размером N на D, представляющая N точек в D измерениях, например следующие точки, полученные из двумерного нормального распределения:

In[13]: mean = [0, 0]
        cov = [[1, 2],
               [2, 5]]
        X = rand.multivariate_normal(mean, cov, 100)
        X.shape

Out[13]: (100, 2)

С помощью инструментов рисования графиков, которые мы обсудим в главе 4, можно визуализировать эти точки в виде диаграммы рассеяния (рис. 2.7):