---
source_image: page_178.png
page_number: 178
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.57
tokens: 7628
characters: 2354
timestamp: 2025-12-24T00:56:00.689987
finish_reason: stop
---

Далее, воспользовавшись ключевым словом axis, можно получить и среднее значение по уровням по столбцам:

In[45]: data_mean.mean(axis=1, level='type')

Out[45]: type    HR    Temp
         year
         2013   36.833333   37.000000
         2014   46.000000   37.283333

Так, всего двумя строками кода мы смогли найти средний пульс и температуру по всем субъектам и визитам за каждый год. Такой синтаксис представляет собой сокращенную форму функциональности GroupBy, о которой мы поговорим в разделе «Агрегирование и группировка» главы 3. Хотя наш пример — всего лишь модель, структура многих реальных наборов данных аналогичным образом иерархична.

Данные объектов Panel

В библиотеке Pandas есть еще несколько пока не охваченных нами структур данных, а именно объекты pd.Panel и pd.Panel4D. Их можно рассматривать как соответственно трехмерное и четырехмерное обобщение (одномерной структуры) объекта Series и (двумерной структуры) объекта DataFrame. Раз вы уже знакомы с индексацией данных в объектах Series и DataFrame и манипуляциями над ними, то использование объектов Panel и Panel4D не должно вызвать у вас затруднений. В частности, возможности индексаторов loc, iloc и ix, обсуждавшихся в разделе «Индексация и выборка данных» текущей главы, с легкостью распространяются на эти структуры более высоких размерностей.

Мы не будем рассматривать многомерные структуры далее в данном тексте, поскольку, как я обнаружил, в большинстве случаев мультииндексация — удобное и концептуально простое представление для данных более высоких размерностей. Помимо этого, многомерные данные по существу — плотное представление данных, в то время как мультииндексация — разреженное представление данных. По мере увеличения размерности плотное представление становится все менее эффективным для большинства реальных наборов данных. В некоторых специализированных приложениях, однако, эти структуры данных могут быть полезны. Если вы захотите узнать больше о структурах Panel и Panel4D, загляните в ссылки, приведенные в разделе «Дополнительные источники информации» данной главы.

Объединение наборов данных: конкатенация и добавление в конец

Некоторые наиболее интересные исследования выполняются благодаря объединению различных источников данных. Эти операции могут включать в себя что угодно, начиная с простейшей конкатенации двух различных наборов данных до