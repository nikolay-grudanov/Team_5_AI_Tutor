---
source_image: page_327.png
page_number: 327
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.14
tokens: 7392
characters: 1528
timestamp: 2025-12-24T00:59:42.753573
finish_reason: stop
---

Но теперь эти метки делений выглядят несколько по-дурацки: можно догадаться, что они кратны \( \omega \), но из десятичного представления сразу это непонятно. Необходимо модифицировать форматер деления. Встроенного форматера для нашей задачи нет, поэтому мы воспользуемся форматером plt.FuncFormatter, принимающим на входе пользовательскую функцию, обеспечивающую более точный контроль за форматом вывода делений (рис. 4.80):

In[11]: def format_func(value, tick_number):
    # Определяем количество кратных пи/2 значений
    # [в требуемом диапазоне]
    N = int(np.round(2 * value / np.pi))
    if N == 0:
        return "0"
    elif N == 1:
        return r"\pi/2"
    elif N == 2:
        return r"\pi"
    elif N % 2 > 0:
        return r"${0}\pi/2$".format(N)
    else:
        return r"${0}\pi$".format(N // 2)

ax.xaxis.set_major_formatter(plt.FuncFormatter(format_func))
fig

![Деления с пользовательскими метками](https://i.imgur.com/3Q5z5QG.png)

Рис. 4.80. Деления с пользовательскими метками

Намного лучше! Обратите внимание: мы воспользовались тем, что библиотека Matplotlib поддерживает систему верстки LaTeX. Для ее использования необходимо заключить нужную строку в знаки доллара с двух сторон. Это облегчает отображение математических символов и формул. В нашем случае "$\pi$" визуализируется в виде греческой буквы \( \pi \).

Форматер plt.FuncFormatter обеспечивает возможность чрезвычайно тонкого контроля внешнего вида делений графика и очень удобен при подготовке графиков для презентаций или публикации.