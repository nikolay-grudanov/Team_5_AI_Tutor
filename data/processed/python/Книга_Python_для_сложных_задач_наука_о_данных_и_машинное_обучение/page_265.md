---
source_image: page_265.png
page_number: 265
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.04
tokens: 7499
characters: 1970
timestamp: 2025-12-24T00:58:20.641813
finish_reason: stop
---

Построение графиков из командной оболочки IPython

Очень удобно использовать Matplotlib интерактивно из командной оболочки IPython (см. главу 1). Оболочка IPython будет отлично работать с библиотекой Matplotlib, если перевести ее в режим Matplotlib. Для активизации этого режима после запуска IPython можно воспользоваться «магической» командой %matplotlib:

In [1]: %matplotlib
Using matplotlib backend: TkAgg

In [2]: import matplotlib.pyplot as plt

После любая команда plot приведет к открытию окна графика с возможностью выполнения дальнейших команд для его изменения. Некоторые изменения (например, модификация свойств уже нарисованных линий) не будут отрисовываться автоматически. Чтобы добиться этого, воспользуйтесь командой plt.draw(). Выполнять команду plt.show() в режиме Matplotlib не обязательно.

Построение графиков из блокнота IPython

Блокнот IPython — браузерный интерактивный инструмент для анализа данных, допускающий совмещение комментариев, кода, графики, элементов HTML и многое другое в единый исполняемый документ (см. главу 1).

Интерактивное построение графиков в блокноте IPython возможно с помощью команды %matplotlib, работает аналогично командной оболочке IPython. В блокноте IPython у вас появляется возможность включения графики непосредственно в блокнот с двумя возможными альтернативами:

- использование команды %matplotlib notebook приведет к включению в блокнот интерактивных графиков;
- выполнение команды %matplotlib inline приведет к включению в блокнот статических изображений графиков.

В книге мы будем использовать команду %matplotlib inline:

In[3]: %matplotlib inline

После выполнения этой команды (которое нужно произвести только один раз за сеанс/для одного ядра Python) все создающие графики блоки в блокноте будут включать PNG-изображения итогового графика (рис. 4.1):

In[4]: import numpy as np
    x = np.linspace(0, 10, 100)

    fig = plt.figure()
    plt.plot(x, np.sin(x), '-')
    plt.plot(x, np.cos(x), '--');