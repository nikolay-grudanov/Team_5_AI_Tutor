---
source_image: page_216.png
page_number: 216
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.45
tokens: 7366
characters: 1430
timestamp: 2025-12-24T00:56:52.536819
finish_reason: stop
---

![Общее количество новорожденных в США в зависимости от года и пола](../images/3_2.png)

Рис. 3.2. Общее количество новорожденных в США в зависимости от года и пола

Последняя строка представляет собой грубую оценку среднего значения выборки, в котором **0.74** — межквартильный размах Гауссового распределения. Теперь можно воспользоваться методом query() (обсуждаемым далее в разделе «Увеличение производительности библиотеки Pandas: eval() и query()» этой главы) для фильтрации строк, в которых количество новорожденных выходит за пределы этих значений:

In[16]:
births = births.query('(births > @mu - 5 * @sig) & (births < @mu + 5 * @sig)')

Далее мы устанавливаем целочисленный тип столбца для day. Ранее он был строчным, поскольку некоторые столбцы в наборе данных содержат значение 'null':

In[17]: # делаем тип столбца 'day' целочисленным;
# изначально он был строчным из-за пустых значений
    births['day'] = births['day'].astype(int)

Наконец, мы можем создать индекс для даты, объединив день, месяц и год (см. «Работа с временными рядами» этой главы). Это даст нам возможность быстро вычислять день недели для каждой строки:

In[18]: # создаем индекс для даты из года, месяца и дня
    births.index = pd.to_datetime(10000 * births.year +
                                 100 * births.month +
                                 births.day, format='%Y%m%d')
    births['dayofweek'] = births.index.dayofweek   # День недели