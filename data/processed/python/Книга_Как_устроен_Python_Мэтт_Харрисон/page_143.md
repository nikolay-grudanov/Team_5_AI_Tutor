---
source_image: page_143.png
page_number: 143
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.88
tokens: 7348
characters: 1508
timestamp: 2025-12-24T02:37:34.073990
finish_reason: stop
---

Строки документации Python могут определяться на уровне модулей, функций, классов и методов. В строках документации можно разместить фрагменты REPL, демонстрирующие использование данной функции, класса или модуля. Такие фрагменты, если они будут хорошо продуманы и построены, эффективно документируют стандартные варианты применения модуля.

Другая интересная возможность doctest — проверка документации. Если ваши фрагменты когда-то работали, а теперь не работают, значит, либо изменился ваш код, либо сами фрагменты содержат ошибки. Это можно легко выявить до того, как пользователи начнут жаловаться вам.

СОВЕТ

Код doctest может размещаться в отдельном текстовом файле. Чтобы выполнить произвольный файл средствами doctest, используйте функцию testfile:

import doctest
doctest.testfile('module_docs.txt')

ПРИМЕЧАНИЕ

Кроме doctest стандартная библиотека Python включает модуль unittest, реализующий типичную методологию xUnit — подготовка/проверка/завершение. У обоих стилей тестирования — doctest и unittest — есть как достоинства, так и недостатки. Стиль doctest обычно создает больше трудностей с отладкой, а стиль unittest содержит шаблонный код, который считается слишком «закрытым на Java». Вы можете сочетать оба стиля, чтобы получить хорошо документированный и хорошо протестированный код.

26.12. if __name__ == '__main__':

Если ваш файл должен выполняться в качестве сценария, в конце сценария вы найдете следующий фрагмент:

if __name__ == '__main__':
    sys.exit(main(sys.argv[1:]) or 0)