---
source_image: page_103.png
page_number: 103
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.69
tokens: 8438
characters: 1592
timestamp: 2025-12-24T02:18:46.219034
finish_reason: stop
---

location="Google Meet",
tags=["packt", "book"])

Далее мы создаем транзакцию базы данных, используя класс Session:

with Session(engine) as session:
    session.add(new_event)
    session.commit()

Предыдущая операция может показаться вам чуждой. Давайте посмотрим, что такое класс Session и что он делает.

Сессии

Объект сеанса обрабатывает взаимодействие кода с базой данных. Он в первую очередь выступает в качестве посредника при выполнении операций. Класс Session принимает аргумент, который является экземпляром механизма SQL.

Теперь, когда мы узнали, как создаются таблицы и строки, мы рассмотрим, как создается база данных. Некоторые из методов класса session, которые мы будем использовать в этой главе, включают следующие:

• add(): Этот метод отвечает за добавление объекта базы данных в память в ожидании дальнейших операций. В предыдущем блоке кода объект new_event добавляется в память сеанса, ожидая фиксации в базе данных методом commit().

• commit(): Этот метод отвечает за сброс транзакций, присутствующих в сеансе.

• get(): Этот метод принимает два параметра — модель и идентификатор запрошенного документа. Этот метод используется для извлечения одной строки из базы данных.

Теперь, когда мы знаем, как создавать таблицы, строки и столбцы, а также вставлять данные с помощью класса Session, давайте перейдем к созданию базы данных и выполнению операций CRUD в следующем разделе.

Создание базы данных

В SQLModel подключение к базе данных осуществляется с помощью механизма SQLAlchemy. Двигок создается методом create_engine(), импортированным из библиотеки SQLModel.