---
source_image: page_090.png
page_number: 90
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.32
tokens: 8338
characters: 1280
timestamp: 2025-12-24T02:18:17.393823
finish_reason: stop
---

Реализация маршрутов

Следующим шагом в создании нашего приложения является настройка системы маршрутизации нашего API. Мы будем разрабатывать систему маршрутизации для событий и пользователей. Маршрут пользователя будет состоять из маршрутов входа, выхода и регистрации. Аутентифицированный пользователь будет иметь доступ к маршрутам для создания, обновления и удаления события, в то время как публика сможет просматривать событие после его создания. На следующей диаграмме показана взаимосвязь между обоими маршрутами:

![Маршруты для операций пользователей и событий](../images/chapter5/event_user.png)

Рисунок 5.2 – Маршруты для операций пользователей и событий

Далее рассмотрим оба маршрута подробнее.

Маршруты пользователей

Теперь, когда у нас есть четкое представление о том, какие маршруты реализовать из Рисунка 5.2, мы начнем с определения пользовательских маршрутов в users.py. Давайте посмотрим на шаги:

1. Начните с определения основного маршрута регистрации:

```python
from fastapi import APIRouter, HTTPException, status
from models.user import User, UserSignIn

user_router = APIRouter(
    tags=["User"]
)

users = {}

@user_router.post("/signup")
async def sign_new_user(data: NewUser) -> dict:
    if data.email in users:
        raise HTTPException(
```