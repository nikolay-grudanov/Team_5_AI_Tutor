---
source_image: page_160.png
page_number: 160
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 42.63
tokens: 8492
characters: 1816
timestamp: 2025-12-24T02:20:18.060124
finish_reason: stop
---

• Написание тестов для конечных точек REST API
• Тестовое покрытие

Технические требования
Для этой главы вам понадобится работающий сервер MongoDB на вашем локальном компьютере. Шаги, описанные в Главе 6 «Подключение к базе данных», необходимо выполнить, чтобы настроить и запустить сервер базы данных.

Код, использованный в этой главе, можно найти по адресу https://github.com/PacktPublishing/Building-Python-Web-APIs-with-FastAPI/tree/main/ch08/planner.

Модульное тестирование с помощью pytest
Модульное тестирование — это процедура тестирования, при которой тестируются отдельные компоненты приложения. Эта форма тестирования позволяет нам проверить работоспособность отдельных компонентов. Например, модульные тесты используются для тестирования отдельных маршрутов в приложении, чтобы убедиться, что возвращаются правильные ответы.

В этой главе мы будем использовать pytest, библиотеку тестирования Python, для проведения наших операций модульного тестирования. Хотя Python поставляется со встроенной библиотекой модульного тестирования под названием unittest библиотека, pytest имеет более короткий синтаксис и более предпочтительна для тестирования приложений. Давайте установим pytest и напишем наш первый образец теста.

Давайте установим библиотеку pytest:

(venv) $ pip install pytest

Затем создайте папку с именем tests, в которой будут храниться тестовые файлы для нашего приложения:

(venv) $ mkdir tests && cd
(venv) $ touch __init__.py

Имена отдельных тестовых модулей во время создания будут иметь префикс test_. Это позволит библиотеке pytest распознать и запустить тестовый модуль. Создадим в только что созданном пакете tests тестовый модуль, проверяющий правильность выполнения арифметических операций сложения, вычитания, умножения и деления:

(venv) $ touch test_arithmetic_operations.py