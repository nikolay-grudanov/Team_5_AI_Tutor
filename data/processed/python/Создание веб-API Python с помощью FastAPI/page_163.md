---
source_image: page_163.png
page_number: 163
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.59
tokens: 8319
characters: 1166
timestamp: 2025-12-24T02:20:08.491146
finish_reason: stop
---

На следующем рисунке неудачный тест, а также точка отказа выделены красным цветом.

![Неудачный тест](./images/8.2.png)

Рисунок 8.2 – Неудачный тест

Тест не пройден в операторе assert, где отображается правильный результат 2.

Сбой резюмируется как AssertionError, что говорит нам о том, что тест не пройден из-за неверного утверждения (2 == 1).

Теперь, когда у нас есть представление о том, как работает pytest, давайте взглянем на фикстуры в pytest.

Устранение повторений с помощью фикстур pytest

Фикстуры — это повторно используемые функции, определенные для возврата данных, необходимых в тестовых функциях. Фикстуры оборачиваются декоратором pytest.fixture. Пример использования фикстуры — возврат экземпляра приложения для выполнения тестов для конечных точек API. Фикстура может использоваться для определения клиента приложения, который возвращается и используется в тестовых функциях, что устраняет необходимость переопределять экземпляр приложения в каждом тесте. Мы увидим, как это используется в разделе «Написание тестов для конечных точек REST API».

Давайте посмотрим на пример:

```python
import pytest

from models.events import EventUpdate
```