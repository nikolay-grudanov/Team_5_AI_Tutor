---
source_image: page_133.png
page_number: 133
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 51.20
tokens: 8618
characters: 2294
timestamp: 2025-12-24T02:19:44.375692
finish_reason: stop
---

К концу этой главы вы сможете добавить уровень аутентификации в приложение FastAPI. В этой главе объясняются процессы защиты паролей путем их хеширования, добавления уровня аутентификации и защиты маршрутов от неавторизованных пользователей. В этой главе мы рассмотрим следующие темы:

• Методы аутентификации в FastAPI
• Защита приложения с помощью OAuth2 и JWT
• Защита маршрутов с помощью внедрения зависимостей
• Настройка CORS

Технические требования

Чтобы продолжить, требуется компонент базы данных MongoDB. Процедуры установки для вашей операционной системы можно найти в их официальной документации. Код, использованный в этой главе, можно найти по адресу https://github.com/PacktPublishing/Building-Python-Web-APIs-with-FastAPI/tree/main/ch07/planner.

Методы аутентификации в FastAPI

В FastAPI доступно несколько методов аутентификации. FastAPI поддерживает распространенные методы аутентификации: базовую HTTP-аутентификацию, файлы cookie и аутентификацию на основе токенов. Давайте кратко рассмотрим, что влечет за собой каждый метод:

• Базовая HTTP-аутентификация: В этом методе аутентификации учетные данные пользователя, которые обычно представляют собой имя пользователя и пароль, отправляются через HTTP-заголовок авторизации. Запрос, в свою очередь, возвращает заголовок WWW-Authenticate содержащий, базовое значение и необязательный параметр области, который указывает ресурс, к которому выполняется запрос аутентификации.
• Cookies: Файлы cookie используются, когда данные должны храниться на стороне клиента, например, в веб-браузерах. Приложения FastAPI также могут использовать файлы cookie для хранения пользовательских данных, которые могут быть получены сервером в целях аутентификации.
• Аутентификацию на основе токенов: Этот метод аутентификации включает использование токенов безопасности, называемых токенами носителя. Эти токены отправляются вместе с ключевым словом Bearer в запросе заголовка авторизации. Наиболее часто используемым токеном является JWT, который обычно представляет собой словарь, содержащий идентификатор пользователя и срок действия токена.

Каждый из перечисленных здесь методов аутентификации имеет свои конкретные варианты использования, а также свои плюсы и минусы. Однако в этой главе мы будем использовать аутентификацию по токену.