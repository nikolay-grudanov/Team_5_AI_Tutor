---
source_image: page_385.png
page_number: 385
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.25
tokens: 11835
characters: 2098
timestamp: 2025-12-24T01:52:33.628256
finish_reason: stop
---

Жизнь с множественным наследованием

Жизнь с множественным наследованием

[...] нам нужна была (и до сих пор нужна) более качественная теория о наследовании вообще. Например, наследование и подгрузка (instancing) (тоже разновидность наследования) мешают в одну кучу прагматику (например, разнесение кода для экономии памяти) и семантику (используемую для слишком многих задач, как то: специализация, обобщение, видеообразование и т. д.).

— Алан Кэй
The Early History of Smalltalk

Как писал Алан Кэй, наследование используется по разным причинам, а множественное наследование расширяет спектр возможностей и увеличивает сложность. Применяя множественное наследование, легко получить запутанный и хрупкий дизайн. Ввиду отсутствия исчерпывающей теории приведем несколько советов, как избежать графов классов, напоминающих блюдо спагетти.

1. Отличайте наследование интерфейса от наследования реализации

Имея дело с множественным наследованием, полезно ясно определить, по каким причинам вообще создается подкласс. Основные причины таковы:

• наследование интерфейса создает подтип, подразумевая связь «является»;
• наследование реализации позволяет избежать дублирования кода.

На практике обе причины часто идут рука об руку, но если удается прояснить намерение, сделайте это. Наследование ради повторного использования кода — это деталь реализации, его нередко можно заменить композицией и делегированием. С другой стороны, наследование интерфейса — это становой хребет любого каркаса.

2. Определяйте интерфейсы явно с помощью ABC

В современном Python класс, предназначенный для определения интерфейса, следует явно делать абстрактным базовым классом. В версиях Python ≥ 3.4 это означает подкласс abc.ABC или другого ABC (если нужно поддержать более ранние версии, см. раздел «Синтаксические детали ABC» главы 11).

3. Используйте примеси для повторного использования кода

Если класс предназначен для того, чтобы предоставлять реализации методов различным не связанным между собой подклассам, не подразумевая связи «является», то его следует явно делать классом-примесью. Концептуально примесь