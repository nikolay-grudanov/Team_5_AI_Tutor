---
source_image: page_650.png
page_number: 650
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 48.21
tokens: 11874
characters: 1938
timestamp: 2025-12-24T02:04:51.816132
finish_reason: stop
---

Введение в нотацию хреновин и штуковин

После многократного объяснения дескрипторов я понял, что UML — не лучший способ показа связей между классами и экземплярами, в частности, связи между управляемым классом и экземплярами дескриптора2. Поэтому я изобрел собственный «язык», нотацию хреновин и штуковин (Mills & Gizmos Notation — MGN), который применяю для аннотирования UML-диаграмм.

Задача MGN — провести четкое различие между классами и экземплярами. Взгляните на рис. 20.3. В MGN класс изображается «хреновиной» (mill) — сложной машиной, которая производит «штуковины» (gizmo). Классы-хреновины всегда являются машинами с ручками и циферблатами. Штуковины — это экземпляры, они выглядят гораздо проще. Цвет штуковины всегда совпадает с цветом создавшей его хреновины.

![Рис. 20.3. Набросок MGN, показывающий класс LineItem с тремя экземплярами и класс Quantity с двумя. Один экземпляр Quantity извлекает значение, хранящееся в экземпляре LineItem](https://i.imgur.com/3Q5z5QG.png)

Рис. 20.3. Набросок MGN, показывающий класс LineItem с тремя экземплярами и класс Quantity с двумя. Один экземпляр Quantity извлекает значение, хранящееся в экземпляре LineItem

Для рассматриваемого примера я изобразил экземпляр LineItem в виде строки табличного счета-фактуры с тремя колонками, представляющими три атрибута (description, weight и price). Поскольку экземпляры Quantity — дескрипторы, у них имеется лупа для получения значений методом __get__ и клешня для установки значений методом __set__. Когда мы перейдем к метаклассам, вы еще скажете мне спасибо за эти каракули.

Но хватит рисовать каракули. Ниже приведен код: в примере 20.1 показан дескрипторный класс Quantity и новый класс LineItem с двумя экземплярами Quantity.

2 Классы и экземпляры изображаются на UML-диаграммах классов прямоугольниками. Между ними есть визуальные различия, но экземпляры встречаются на диаграммах классов так редко, что разработчики их не отличают.