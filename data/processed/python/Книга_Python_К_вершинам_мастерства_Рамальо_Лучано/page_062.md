---
source_image: page_062.png
page_number: 62
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.03
tokens: 11769
characters: 1966
timestamp: 2025-12-24T01:37:19.176942
finish_reason: stop
---

• Не стоит помещать изменяемые элементы в кортежи.
• Составное присваивание — не атомарная операция; мы только что видели, как она возбуждает исключение, проделав часть работы.
• Изучить байт-код не так уж трудно, и часто это помогает понять, что происходит под капотом.

Познакомившись с тонкостями использования операторов + и * для конкатенации, сменим тему и обратимся еще к одной важной операции с последовательностями: сортировке.

Метод list.sort и встроенная функция sorted

Метод list.sort сортирует список на месте, т. е. не создавая копию. Он возвращает None, напоминая, что изменяет объект, а не создает новый список. Это важное соглашение в Python API: функции и методы, изменяющие объект на месте, должны возвращать None, давая вызывающей стороне понять, что изменился сам объект в противовес созданию нового. Точно такое же поведение демонстрирует, к примеру функция random.shuffle.

У соглашения о возврате None в случае обновления на месте есть недостаток: такие методы невозможно соединить в цепочку. Напротив, методы, возвращающие новые объекты (например, все методы класса str), можно сцеплять, получая тем самым «текущий» интерфейс. Дополнительные сведения по этому вопросу см. в статье википедии «Fluent interface» (http://en.wikipedia.org/wiki/Fluent_interface).

С другой стороны, встроенная функция sorted создает и возвращает новый список. На самом деле, она принимает любой итерируемый объект в качестве аргумента, в том числе неизменяемые последовательности и генераторы (см. главу 14). Но независимо от типа исходного итерируемого объекта sorted всегда возвращает новый список.

И метод list.sort, и функция sorted принимают два необязательных именованных аргумента:

reverse
Если True, то элементы возвращаются в порядке убывания (т. е. инвертируется сравнение элементов). По умолчанию False.

key
Функция с одним аргументом, которая вызывается для каждого элемента и возвращает его ключ сортировки. Например, если при сортировке списка