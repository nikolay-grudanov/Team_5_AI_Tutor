---
source_image: page_318.png
page_number: 318
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 45.69
tokens: 11909
characters: 2043
timestamp: 2025-12-24T01:49:21.465815
finish_reason: stop
---

Пример 10.15. Встроенная функция zip за работой

```python
>>> zip(range(3), 'ABC') # ①
<zip object at 0x10063ae48>
>>> list(zip(range(3), 'ABC')) # ②
[(0, 'A'), (1, 'B'), (2, 'C')]
>>> list(zip(range(3), 'ABC', [0.0, 1.1, 2.2, 3.3])) # ③
[(0, 'A', 0.0), (1, 'B', 1.1), (2, 'C', 2.2)]
>>> from itertools import zip_longest # ④
>>> list(zip_longest(range(3), 'ABC', [0.0, 1.1, 2.2, 3.3], fillvalue=-1))
[(0, 'A', 0.0), (1, 'B', 1.1), (2, 'C', 2.2), (-1, -1, 3.3)]
```

① zip возвращает генератор, который порождает кортежи по запросу.
② Здесь мы строим из генератора список list просто для отображения; обычно генератор обходят в цикле.
③ У zip есть удивительное свойство: она останавливается, не выдавая предупреждения, как только один из итерируемых объектов оказывается исчерпанным⁶.
④ Функция itertools.zip_longest ведет себя иначе: она подставляет вместо отсутствующих значений необязательный аргумент fillvalue (по умолчанию None), поэтому генерирует кортежи, пока не окажется исчерпанным самый длинный итерируемый объект.

Встроенная функция enumerate — еще одна генераторная функция, которую часто используют в циклах for, чтобы избежать явной работы с индексными переменными. Если вы незнакомы с enumerate, обязательно прочитайте раздел документации «Встроенные функции» (http://bit.ly/1QOtsk8). Функции zip, enumerate и другие генераторные функции из стандартной библиотеки, рассматриваются в разделе «Генераторные функции в стандартной библиотеке» главы 14.

Vector, попытка № 5: форматирование

Метод __format__ класса Vector будет похож на одноименный метод из класса Vector2d, но вместо специального представления в полярных координатах, мы будем использовать так называемые «гиперсферические» координаты (название связано с тем, что в пространствах размерности 4 и выше сферы называются

⁶ Для меня это странно. Мне кажется, что zip должна возбуждать исключение ValueError, если ей переданы последовательности разной длины. Ведь именно это происходит при распаковке итерируемого объекта в кортеж переменных, имеющий другую длину.