---
source_image: page_395.png
page_number: 395
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 49.70
tokens: 11938
characters: 2597
timestamp: 2025-12-24T01:53:07.276210
finish_reason: stop
---

Поговорим

плохо будет всем. Поэтому в CPython принят ряд компромиссных решений, из-за которых встроенные методы игнорируют методы, переопределенные в подклассах, что можно считать некорректным поведением. Возможный выход из этой ситуации: завести две реализации каждого типа: «внутреннюю», оптимизированную для использования самим интерпретатором, и внешнюю, которую можно было бы расширять.

Но именно это мы и имеем: классы UserDict, UserList и UserString работают не так быстро, как встроенные, зато расширяются без проблем. Принятый в CPython прагматичный подход означает, что и мы в своих приложениях обычно используем оптимизированные реализации, которым трудно наследовать. Это имеет смысл, если принять во внимание, что не так уж часто нам нужны специальные списки, отображения или строки. Следует только помнить о том, чем мы жертвуем.

Наследование в разных языках

Алан Кэй придумал термин «объектно-ориентированный», и в языке Smalltalk было только одиночное наследование, хотя существуют клоны с различными формами поддержки множественного наследования, в частности, современные диалекты Squeak и Pharo Smalltalk, в которые поддерживаются характеристики (traits) — конструкции, играющие роль класса-примеси, но позволяющие избежать некоторых проблем множественного наследования.

Первым популярным языком с поддержкой множественного наследования стал C++, но это средство использовалось во вред настолько часто, что проектировщики языка Java — задуманного как замена C++ — отказались от множественного наследования реализации (т. е. от классов-примесей). И так было до выпуска Java 8, где появились методы по умолчанию, благодаря которым интерфейсы Java стали очень напоминать абстрактные классы, применяемые для определения интерфейсов в C++ и Python. Только вот у интерфейсов в Java не может быть состояния — и это ключевое различие. После Java, пожалуй, самым распространенным языком на платформе JVM является Scala, и в нем реализованы характеристики. Среди других языков, поддерживающих характеристики, упомянем последние стабильные версии PHP и Groovy, а также находящиеся в процессе разработки Rust и Perl 6. Так что будет справедливо сказать, что классы-характеристики — модная тенденция

В Ruby принят оригинальный подход к множественному наследованию: оно не поддерживается, зато примеси являются полноправным языковым средством. Класс Ruby может включать модуль, так что определенные в модуле методы становятся частью реализации класса. Это «чистая» форма примеси, не нуждающаяся ни в каком наследовании, и ясно, что примесь в Ruby никак не влияет на тип класса, в котором