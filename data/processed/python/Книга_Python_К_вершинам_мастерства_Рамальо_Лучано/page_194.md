---
source_image: page_194.png
page_number: 194
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 46.66
tokens: 11816
characters: 1981
timestamp: 2025-12-24T01:43:44.018549
finish_reason: stop
---

В книге «Паттерны проектирования» паттерн Стратегия описывается следующим образом:

Определить семейство алгоритмов, инкапсулировать каждый из них и сделать их взаимозаменяемыми. Стратегия позволяет заменять алгоритм независимо от использующих его клиентов.

Наглядный пример применения паттерна Стратегия к коммерческой задаче — вычисление скидок на заказы в соответствии с характеристиками заказчика или результатами анализа заказанных позиций.

Рассмотрим Интернет-магазин со следующими правилами формирования скидок:
• заказчику, имеющему не менее 1000 баллов лояльности, предоставляется глобальная скидка 5 % на весь заказ;
• на позиции, заказанные в количестве не менее 20 единиц в одном заказе, предоставляется скидка 10 %;
• на заказы, содержащие не менее 10 различных позиций, предоставляется глобальная скидка 7 %.

Для простоты предположим, что к каждому заказу может быть применена только одна скидка.

UML-диаграмма классов для паттерна Стратегия показана на рис. 6.1. Ее участниками являются:

Контекст
Предоставляет службу, делегируя часть вычислений взаимозаменяемым компонентам, реализующим различные алгоритмы. В примере Интернет-магазина контекстом является класс Order, который конфигурируется для применения поощрительной скидки по одному из нескольких алгоритмов.

Стратегия
Интерфейс, общий для всех компонентов, реализующих различные алгоритмы. В нашем примере эту роль играет абстрактный класс Promotion.

Конкретная стратегия
Один из конкретных подклассов Стратегии. В нашем случае реализованы три конкретные стратегии: FidelityPromo, BulkPromo и LargeOrderPromo.

Код в примере 6.1 следует изображенной на рис. 6.1 схеме. Как описано в «Паттернах проектирования», конкретная стратегия выбирается клиентом класса контекста. В нашем примере система, перед тем как создать объект заказ, должна каким-то образом выбрать стратегию предоставления скидки и передать ее конструктору класса Order. Вопрос о выборе стратегии не является предметом данного паттерна.