---
source_image: page_351.png
page_number: 351
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.50
tokens: 11685
characters: 1973
timestamp: 2025-12-24T01:50:44.965191
finish_reason: stop
---

Определение и использование ABC

@abc.abstractmethod

def pick(self):
    """Извлечь случайный элемент и вернуть его.
    Этот метод должен возбуждать исключение 'LookupError',
    если объект пуст.
    """
    def loaded(self):
        """Вернуть 'True', если есть хотя бы 1 элемент, иначе 'False'."""
        return bool(self.inspect())
    def inspect(self):
        """Вернуть отсортированный кортеж, содержащий находящиеся в контейнере элементы.
        """
        items = []
        while True:
            try:
                items.append(self.pick())
            except LookupError:
                break
        self.load(items)
        return tuple(sorted(items))

1 Чтобы определить ABC, создаем подкласс abc.ABC.
2 Абстрактный метод помечен декоратором @abstractmethod и зачастую его тело содержит только строку документации¹¹.
3 Строка документации сообщает программисту, реализующему метод, что в случае отсутствия элементов нужно возбудить исключение LookupError.
4 ABC может содержать конкретные методы.
5 Конкретные методы ABC должны зависеть только от открытого интерфейса данного (т. е. от других его конкретных или абстрактных методов или свойств).
6 Мы не знаем, как в конкретных подклассах будут храниться элементы, но можем построить результат inspect, опустошив объект Tombola с помощью последовательных обращений к .pick()...
7 ... а затем с помощью .load(...) вернуть все элементы обратно.

У абстрактного метода может существовать реализация. Но даже если так, подклассы все равно обязаны переопределить его, однако имеют право вызывать абстрактный метод с помощью функции super(), расширяя имеющуюся функциональность, вместо того чтобы реализовывать ее с нуля. Информацию о деталях использования декоратора @abstractmethod см. в документации по модулю abc (https://docs.python.org/3/library/abc.html).

¹¹ До появления ABC абстрактные методы обычно возбуждали исключение NotImplementedError, показывающее, что за реализацию отвечают подклассы.