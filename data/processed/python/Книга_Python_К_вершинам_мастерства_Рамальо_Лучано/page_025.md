---
source_image: page_025.png
page_number: 25
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.49
tokens: 11773
characters: 1931
timestamp: 2025-12-24T01:35:34.028889
finish_reason: stop
---

Колода карт на Python

Мы только что видели два преимущества от использования специальных методов для работы с моделью данных.

• Пользователям вашего класса нет нужды запоминать нестандартные имена методов для выполнения стандартных операций («Как мне получить количество элементов? То ли .size(), то ли .length(), то ли еще как-то»).
• Проще воспользоваться богатством стандартной библиотеки Python (например, функцией random.choice), чем изобретать велосипед.

Но это еще не все.
Поскольку метод __getitem__ делегирует выполнение оператору [] объекта self._cards, колода автоматически поддерживает срезы. Вот как можно посмотреть три верхние карты в неперетасованной колоде, а затем выбрать только тузы, начав с элемента, имеющего индекс 12, и пропуская по 13 карт:

>>> deck[:3]
[Card(rank='2', suit='spades'), Card(rank='3', suit='spades'), Card(rank='4', suit='spades')]
>>> deck[12::13]
[Card(rank='A', suit='spades'), Card(rank='A', suit='diamonds'), Card(rank='A', suit='clubs'), Card(rank='A', suit='hearts')]

Стоило нам реализовать специальный метод __getitem__, как колода стала допускать итерирование:

>>> for card in deck: # doctest: +ELLIPSIS
... print(card)
Card(rank='2', suit='spades')
Card(rank='3', suit='spades')
Card(rank='4', suit='spades')

Итерировать можно и в обратном порядке:

>>> for card in reversed(deck): # doctest: +ELLIPSIS
... print(card)
Card(rank='A', suit='hearts')
Card(rank='K', suit='hearts')
Card(rank='Q', suit='hearts')

Многоточие в doctest-скриптах

Всюду, где возможно, листинги сеансов оболочки извлекались из doctest-скриптов, чтобы гарантировать точность. Если вывод слишком длинный, то опущенная часть помечается многоточием, как в последней строке показанного выше кода. В таких случаях мы используем директиву # doctest: +ELLIPSIS, чтобы doctest-скрипт завершился успешно. Если вы будете вводить эти примеры в интерактивной оболочке, можете вообще опускать директивы doctest.