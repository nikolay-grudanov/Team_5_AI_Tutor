---
source_image: page_132.png
page_number: 132
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 45.58
tokens: 11947
characters: 2415
timestamp: 2025-12-24T01:40:49.534636
finish_reason: stop
---

Но если вы преподаете в Бразилии, то студентам будет проще читать код, в котором имена переменных и функций написан по-португальски и притом без орфографических ошибок. И у них не будет проблем с вводом седилей и акцентированных гласных, поскольку они работают с местной клавиатурой.

Поскольку теперь Python понимает Unicode-имена, а UTF-8 — кодировка исходного кода по умолчанию, то я не вижу никакого смысла писать португальские идентификаторы без диакритических знаков, как мы делали в Python 2 по необходимости, — если, конечно, вы не собираетесь запускать свой код и в Python 2 тоже. Если имена все равно португальские, то отбрасывание диакритических знаков не сделает код понятнее ни для кого.

Это моя личная точка зрения — человека, говорящего на бразильском диалекте португальского языка, — но полагаю, что она применима и к другим культурам и регионам: выберите естественный язык, который наиболее понятен потенциальным читателям кода, и набирайте его символы правильно,

Предположим, что имеется некий текстовый файл, все равно, исходный код или стихотворение, но вы не знаете, в какой кодировке он записан. Как определить истинную кодировку? В следующем разделе мы порекомендуем библиотеку для этой цели.

Как определить кодировку последовательности байтов

Как узнать, в какой кодировке записана последовательность байтов? Короткий ответ: никак. Кто-то должен вам сообщить.

В некоторых коммуникационных протоколах и файловых форматах, например HTTP и XML, предусмотрены заголовки, в которых явно указывается, как закодировано содержимое. Можно быть уверенным, что поток байтов представлен не в кодировке ASCII, если он содержит значения, большие 127, а сам способ построения UTF-8 и UTF-16 исключает определенные последовательности байтов. Но и с учетом всего этого никогда нет стопроцентной уверенности в том, что некий двоичный файл записан в кодировке ASCII или UTF-8 просто потому, что в нем не встречаются определенные комбинации битов.

Однако известно, что в естественных языках есть свои правила и ограничения. Поэтому есть допустить, что поток байтов — это простой текст на естественном языке, то его кодировку можно попытаться определить с помощью различных эвристических правил и статистики. Например, если часто встречается байт b'\x00', то это, скорее всего, 16- или 32-разрядная кодировка, но не 8-разрядная схема, потому что нулевые байты в открытом тексте — очевидная ошибка. Если ча-