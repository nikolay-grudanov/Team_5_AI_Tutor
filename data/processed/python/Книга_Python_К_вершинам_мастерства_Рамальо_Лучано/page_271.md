---
source_image: page_271.png
page_number: 271
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.09
tokens: 11728
characters: 1888
timestamp: 2025-12-24T01:47:01.430912
finish_reason: stop
---

И снова класс вектора

• как и когда использовать декораторы @classmethod и @staticmethod;
• закрытые и защищенные атрибуты в Python: использование, соглашения и ограничения;

Начнем с методов представления объекта.

Представления объекта

В любом объектно-ориентированном языке есть по меньшей мере один стандартный способ получить строковое представление произвольного объекта. В Python таких способов два:

repr()
Вернуть строку, представляющую объект в виде, удобном для разработчика.

str()
Вернуть строку, представляющую объект в виде, удобном для пользователя.

Как вы знаете, для поддержки функций repr() и str() мы должны реализовать специальные методы __repr__ и __str__.

Существуют еще два специальных метода для поддержки альтернативных представлений объектов: __bytes__ и __format__. Метод __bytes__ аналогичен __str__: он вызывается функцией bytes(), чтобы получить представление объекта в виде последовательности байтов. А метод __format__ вызывается встроенной функцией format() и методом str.format() для получения строкового представления объектов с помощью специальных форматных кодов. В следующем разделе мы рассмотрим метод __bytes__, а вслед за ним метод __format__.

Если раньше вы программировали на Python 2, то имейте в виду, что в Python 3 методы __repr__, __str__ и __format__ всегда должны возвращать Unicode-строки (типа str). И лишь метод __bytes__ должен возвращать последовательность байтов (типа bytes).

И снова класс вектора

Для демонстрации различных методов, генерирующих представления объектов, мы воспользуемся классом Vector2d, аналогичным рассмотренному в главе 1. В этом и следующих разделах мы будем постепенно наращивать его функциональность. В примере 9.1 показано базовое поведение, ожидаемое от объекта Vector2d.

Пример 9.1. У экземпляров Vector2d есть несколько представлений

>>> v1 = Vector2d(3, 4)
>>> print(v1.x, v1.y)   # 1
3.0 4.0