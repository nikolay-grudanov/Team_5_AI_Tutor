---
source_image: page_514.png
page_number: 514
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 46.30
tokens: 11866
characters: 2161
timestamp: 2025-12-24T01:58:40.618094
finish_reason: stop
---

Не предполагается, что вы будете изучать этот механизм, читая псевдокод, — он приведен лишь для языковых адвокатов, желающих, чтобы все детали были зафиксированы письменно.

Уделять чрезмерное внимание деталям псевдокода, может быть, и не слишком полезно — все зависит от того, как вы привыкли учиться. Изучение реального кода, в котором используется yield from, безусловно, более плодотворно, чем сосредоточенное штудирование псевдокода реализации. Однако почти все применения yield from, которые мне встречались, относятся к асинхронному программированию с помощью модуля asyncio, т. е. зависят от активного цикла обработки событий. Мы много раз встретим yield from в главе 18. В разделе «Дополнительная литература» приведено несколько ссылок на интересные примеры использования yield from без цикла обработки событий.

А сейчас перейдем к классическому примеру использования сопрограмм: моделированию. В этом примере не будет yield from, зато мы увидим, как сопрограммы позволяют управлять параллельными действиями в одном потоке.

Пример: применение сопрограмм для моделирования дискретных событий

Сопрограммы дают естественный способ выразить многие алгоритмы, в том числе моделирование, игры, асинхронный ввод-вывод и другие формы событийно-управляемого программирования или невытекающей многозадачности¹⁰.

— Гвидо ван Россум и Филипп Дж. Эби
PEP 342 — Coroutines via Enhanced Generators

В этом разделе я опишу очень простую модель, реализованную с помощью одних лишь сопрограмм и объектов из стандартной библиотеки. Моделирование — классический пример применения сопрограмм в литературе по информатике. В первом объектно-ориентированном языке Simula концепция сопрограмм была введена специально для поддержки моделирования.

Мотивация приведенного ниже примера — не только академический интерес. Сопрограммы — это фундаментальный структурный элемент пакета asyncio. Моделирование показывает, как реализовать параллельные операции, используя сопрограммы вместо потоков, и это очень пригодится, когда в главе 18 мы займемся асинхронным вводом-выводом.

¹⁰ Первая фраза в разделе «Мотивация» документа PEP 342 (https://www.python.org/dev/peps/pep-0342/).