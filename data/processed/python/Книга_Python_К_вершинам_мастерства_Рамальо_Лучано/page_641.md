---
source_image: page_641.png
page_number: 641
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 52.01
tokens: 11917
characters: 2390
timestamp: 2025-12-24T02:04:40.859126
finish_reason: stop
---

Важные атрибуты и функции для работы с атрибутами

В следующих примерах предполагается, что существует класс с именем Class, что obj — экземпляр класса class, а attr — атрибут obj.

Для всех описанных ниже специальных методов не имеет значения, как производится доступ к атрибуту: с помощью нотации с точкой или встроенных функций, упомянутых в предыдущем разделе. И obj.attr, и getattr(obj, 'attr', 42) приводят к вызову функции Class.__getattribute__(obj, 'attr').

__delattr__(self, name)
Вызывается при любой попытке удалить атрибут в предложении del, например, del obj.attr приводит к вызову Class.__delattr__(obj, 'attr').

__dir__(self)
Вызывается при вызове dir для объекта с целью получить список атрибутов, например, dir(obj) приводит к вызову Class.__dir__(obj).

__getattr__(self, name)
Вызывается только тогда, когда попытка найти поименованный атрибут в obj, Class и суперклассах завершается неудачно. Выражения obj.no_such_attr, getattr(obj, 'no_such_attr') и hasattr(obj, 'no_such_attr') могут привести к вызову Class.__getattr__(obj, 'no_such_attr'), но только если атрибут с таким именем отсутствует в obj, Class и суперклассах.

__getattribute__(self, name)
Вызывается при любой попытке получить поименованный атрибут за исключением случаев, когда искомый атрибут является специальным атрибутом или методом. К вызову этого метода приводит использование нотации с точкой и встроенных функций getattr и hasattr. Метод __getattr__ всегда вызывается после __getattribute__ и только в том случае, когда __getattribute__ возбуждает исключение AttributeError. Чтобы при получении атрибутов obj не возникало бесконечной рекурсии, в реализации __getattribute__ следует использовать super().__getattribute__(obj, name).

__setattr__(self, name, value)
Вызывается при любой попытке установить поименованный атрибут. К вызову этого метода приводит использование нотации с точкой и встроенной функции setattr, например и obj.attr = 42, и setattr(obj, 'attr', 42) приводят к вызову Class.__setattr__(obj, 'attr', 42).

Поскольку специальные методы __getattribute__ и __setattr__ вызываются безусловно и сопровождают практически каждый доступ к атрибуту, правильно использовать их труднее, чем метод __getattr__, который вызывается только для обработки имен несуществующих атрибутов. Во избежание ошибок лучше пользоваться не этими специальными методами, а свойствами или дескрипторами.