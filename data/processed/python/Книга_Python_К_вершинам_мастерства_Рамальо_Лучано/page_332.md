---
source_image: page_332.png
page_number: 332
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 44.09
tokens: 11812
characters: 1955
timestamp: 2025-12-24T01:49:54.828549
finish_reason: stop
---

ГЛАВА 11.
Интерфейсы: от протоколов до абстрактных базовых классов

Абстрактный класс предоставляет интерфейс¹.

— Бьядн Страуструп,
создатель C++

Тема этой главы — интерфейсы: от протоколов — отличительной черты динамической типизации — до абстрактных базовых классов (ABC), делающих интерфейсы явными и допускающими проверку согласованности.

Для тех, кто имеет опыт работы с Java, C# или аналогичным языком, новостью станут неформальные протоколы динамической типизации. Ну а старички-питонисты или рубисты только так и представляют себе интерфейсы, а новостью для них будет формализм и контроль типов, обеспечиваемый ABC. Языку уже исполнилось 15 лет, когда ABC впервые появились в версии Python 2.6.

В начале этой главы мы расскажем о том, как сообщество Python традиционно воспринимало интерфейсы: как нечто не слишком строгое в том смысле, что зачастую допускается реализовать интерфейс лишь частично. Мы поясним это на двух примерах, демонстрирующих динамическую природу утиной типизации.

Затем последует вставное эссе Алекса Мартелли, где вводятся ABC и дается название новой тенденции в программировании на Python. Оставшаяся часть главы будет посвящена ABC, начиная с их общепринятого использования в качестве суперклассов в тех случаях, когда нужно реализовать интерфейс. Далее мы увидим, когда проверяется согласованность конкретного класса с интерфейсом, определяемым ABC, и как механизм регистрации позволяет разработчикам объявлять класс, который реализует интерфейс, не создавая подклассов. Наконец, мы покажем, как можно запрограммировать ABC, чтобы он автоматически «распознавал» любые классы, согласованные с его интерфейсом, — без создания подклассов и без явной регистрации.

Мы реализуем новый ABC, чтобы посмотреть, как он работает, но Алекс Мартелли и я не советуем бросаться писать ABC по поводу и без повода. ABC несут с собой опасность пере усложнения.

¹ Бьядн Страуструп «Дизайн и эволюция C++». ДМК Пресс, 2014, стр. 284.