---
source_image: page_503.png
page_number: 503
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.20
tokens: 11846
characters: 2109
timestamp: 2025-12-24T01:58:16.810976
finish_reason: stop
---

Использование yield from можно переписать в виде:

```python
>>> def gen():
...     yield from 'AB'
...     yield from range(1, 3)
...
>>> list(gen())
['A', 'B', 1, 2]
```

Впервые упомянув конструкцию yield from на стр. 465, мы привели для демонстрации код, повторенный в примере 16.16⁶.

Пример 16.16. Сцепление итерируемых объектов с помощью yield from

```python
>>> def chain(*iterables):
...     for it in iterables:
...         yield from it
...
>>> s = 'ABC'
>>> t = tuple(range(3))
>>> list(chain(s, t))
['A', 'B', 'C', 0, 1, 2]
```

Чуть более сложный — но и более полезный — пример использования yield from приведен в рецепте 4.14 «Линеаризация вложенной последовательности» из книги Бизли и Джонса «Python Cookbook», издание 3, (исходный код опубликован на GitHub, http://bit.ly/1MMe1sc).

Первое, что делает выражение yield from x с объектом x, — вызов iter(x) для получения итератора. Это означает, что x может быть произвольным итерируемым объектом.

Однако если бы замена вложенных циклов for отдачей значений была единственной пользой от yield from, то у этого добавления в язык было бы немного шансов на принятие. Истинную природу yield from нельзя продемонстрировать на простых итерируемых объектах, необходимо расширить кругозор, включив в него вложенные итераторы. Вот почему документ PEP 380, в котором описывается yield from, озаглавлен «Syntax for Delegating to a Subgenerator» (Синтаксис делегирования субгенераторам).

Основное применение yield from — открытие двустороннего канала между внешней вызывающей программой и внутренним субгенератором, так чтобы значения можно было отправлять и отдавать напрямую, а исключения возбуждать и обрабатывать без написания громоздкого стереотипного кода в промежуточных сопрограммах. Это открывает новую возможность — делегирование сопрограмме.

Для использования yield from код должен быть организован нетривиальным образом. Для обсуждения обязательных частей в PEP 380 вводится специальная терминология:

⁶ Этот пример приведен исключительно в педагогических целях. В модуле itertools уже есть оптимизированная функция chain, написанная на C.