---
source_image: page_168.png
page_number: 168
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 48.39
tokens: 11789
characters: 1890
timestamp: 2025-12-24T01:42:32.168786
finish_reason: stop
---

Глава 5. Полноправные функции

Функция reduce, которая в Python 3 была встроенной, теперь «понижена в звании» и перенесена в модуль functools. В той ситуации, где она чаще всего применялась, а именно для суммирования, удобнее встроенная функция sum, включенная в версию Python 2.3 в 2003 году. Она дает большой выигрыш в плане удобочитаемости и производительности (см. пример 5.6).

Пример 5.6. Суммирование целых чисел до 99 с помощью reduce и sum

```python
>>> from functools import reduce  # 1
>>> from operator import add      # 2
>>> reduce(add, range(100))       # 3
4950
>>> sum(range(100))               # 4
4950
```

1 Начиная с версии Python 3.0, функция reduce больше не является встроенной.
2 Импортируем модуль add, чтобы не создавать функцию для сложения двух чисел.
3 Вычисляем сумму целых чисел, не больших 99.
4 Решение той же задачи с помощью функции sum; импортировать функцию сложения больше не нужно.

Общая идея функций sum и reduce — применить некую операцию к каждому элементу последовательности с аккумулированием результатов и тем самым свести (редуцировать) последовательность значений к одному.

Редуцирующими являются также встроенные функции all и any:

all(iterable)
Возвращает True, если каждый элемент объекта iterable «похож на истинный»; all([]) возвращает True.

any(iterable)
Возвращает True, если хотя бы один элемент объекта iterable «похож на истинный»; all([]) возвращает False.

Более полное объяснение reduce я приведу в разделе «Vector, попытка № 4: хэширование и ускорение оператора ==» на стр. 319, где будет подходящий контекст для использования этой функции. А в разделе «Функции редуцирования итерируемого объекта» на стр. 466, где основной темой обсуждения будут итерируемые объекты, мы подведем итоги.

Иногда для передачи функциям высшего порядка удобно создать небольшую одноразовую функцию. Для этого и предназначены анонимные функции.