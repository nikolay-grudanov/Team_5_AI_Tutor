---
source_image: page_424.png
page_number: 424
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 19.28
tokens: 11431
characters: 900
timestamp: 2025-12-24T01:54:05.742463
finish_reason: stop
---

2 Генераторное выражение components передается конструктору массива array. Внутри конструктора Python пытается обойти генераторное выражение, что приводит к вычислению первого элемента a + b. Именно в этот момент происходит исключение TypeError.
3 Исключение распространяется в вызов конструктора Vector и там печатается сообщение о нем.

Отсюда видно, что генераторное выражение вычисляется в последний момент, а не там, где оно определено в исходном коде.
С другой стороны, если бы конструктор Vector был вызван как Vector([a + b for a, b in pairs]), то исключение произошло бы прямо здесь, поскольку списковое включение попыталось бы построить список для передачи в качестве аргумента конструктору Vector(). До метода Vector.__init__ дело вообще не дошло бы.
Мы будем детально рассматривать генераторные выражения в главе 14, но я не хотел упустить случай продемонстрировать их отложенную природу.