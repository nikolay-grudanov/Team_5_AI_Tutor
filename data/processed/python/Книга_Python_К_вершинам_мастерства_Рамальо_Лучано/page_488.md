---
source_image: page_488.png
page_number: 488
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.88
tokens: 11757
characters: 1963
timestamp: 2025-12-24T01:57:26.250315
finish_reason: stop
---

ГЛАВА 16.
Сопрограммы

Если судить о Python по книгам, то сопрограммы окажутся самым плохо документированным, невразумительным и, на первый взгляд, бесполезным средством Python.

— Дэвид Бизли,
автор книг по Python

В словарях можно найти два значения глагола «to yield»: производить и уступать дорогу. Оба имеют смысл в Python, когда ключевое слово yield используется в генераторе. Строка вида yield item порождает (производит) значение, которое получает сторона, вызвавшая функцию next(...), и, кроме того, она уступает процессор, приостанавливая выполнение генератора, чтобы вызывающая сторона могла продолжить работу до момента, когда ей понадобится следующее значение от next(). Вызывающая программа «вытягивает» значения из генератора.

Сопрограмма синтаксически выглядит как генератор: просто функция, в теле которой встречается ключевое слово yield. Однако в сопрограмме yield обычно находится в правой части выражения присваивания (например, datum = yield) и может порождать или не порождать значение — если после слова yield нет никакого выражения, генератор отдает None. Сопрограмма может получать данные от вызывающей стороны, если та вместо next(...) воспользуется методом .send(datum). Обычно вызывающая сторона отправляет сопрограмме значения.

Может быть и так, что yield не отдает и не принимает данные. Но независимо от потока данных yield является средством управления потоком выполнения, которое можно использовать для реализации невытесняющей многозадачности: каждая сопрограмма уступает управление центральному планировщику, чтобы тот мог активировать другие сопрограммы.

Начав думать о yield преимущественно в терминах управления потоком, вы настроите свой мозг на понимание сущности сопрограмм.

Сопрограммы Python — это результат последовательного совершенствования скромных генераторных функций, с которыми мы познакомились выше. Проследив за эволюцией сопрограмм в Python, мы лучше поймем, как расширялись и усложнялись их возможности.