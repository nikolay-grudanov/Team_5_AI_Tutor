---
source_image: page_644.png
page_number: 644
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 58.82
tokens: 11999
characters: 2624
timestamp: 2025-12-24T02:04:52.487356
finish_reason: stop
---

спрашивает, т. е. это заведомо не простой атрибут. На самом деле, цена нередко будет ниже, если запрос поступает извне магазина, скажем, от системы сравнения цен. И тем самым наказываются лояльные покупатели, которые любят гулять по данному магазину. Но это я отвлекся.

Однако это отвлечение поднимает важный для программирования вопрос: хотя в идеальном мире принцип единообразного доступа, безусловно, имеет смысл, на практике пользователям API иногда нужно знать, не может ли обращение к coconut.price оказаться слишком накладным или долгим. Как обычно, когда речь заходит о программной инженерии, стоит заглянуть на вики-сайт Уорда Каннингэма (http://bit.ly/1HGvZuA), где имеются поучительные соображения по поводу достоинств принципа единообразного доступа (http://bit.ly/1HGvNvk).

В объектно-ориентированных языках программирования применение или нарушение принципа единообразного доступа обычно сводится к выбору между чтением открытых атрибутов-данных и вызову методов чтения и установки.

В Smalltalk и Ruby проблема решается просто и элегантно: они вообще не поддерживают открытые атрибуты-данные. Все атрибуты экземпляра в этих языках закрыты, поэтому доступ к ним обязательно опосредуется методами. Но это принуждение нивелируется удобным синтаксисом: в Ruby выражение coconut.price приводит к вызову метода чтения price; в Smalltalk мы пишем просто coconut price.

На другом конце спектра находится язык Java, в котором у программиста есть выбор между четырьмя модификаторами уровня доступа16. Впрочем, принята практика идет вразрез с синтаксисом, установленным проектировщиками языка Java. Все в мире Java согласны, что атрибуты должны быть закрытыми, поэтому приходится всякий раз писать private, поскольку этот уровень доступа не является умалчивающим. Коль скоро все атрибуты закрыты, то и доступ к ним вне класса должен осуществляться с помощью аксессоров. В Java IDE имеются средства для автоматической генерации методов-аксессоров. К сожалению, IDE не поможет, когда спустя полгода вам придется читать свой код. Вам и только вам предстоит просеять кучу ничего не делающих аксессоров и найти те жемчужины, в которые имеет смысл добавить бизнес-логику.

Алекс Мартелли говорит от имени большей части сообщества Python, когда называет аксессоры «тупыми идиомами», и затем предлагает следующие примеры, которые выглядят совсем по-разному, но делают одно и то же17:

16 Включая безымянный подразумеваемый по умолчанию уровень, который в пособии по Java (http://bit.ly/1cPOMIE) называется «package-private» (закрытый на уровне пакета).
17 Alex Martelli «Python in a Nutshell», издание 2 (O'Reilly), стр. 101.