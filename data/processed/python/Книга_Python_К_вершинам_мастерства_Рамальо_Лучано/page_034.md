---
source_image: page_034.png
page_number: 34
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 59.32
tokens: 11911
characters: 2558
timestamp: 2025-12-24T01:36:25.819215
finish_reason: stop
---

Глава 1. Модель данных в языке Python

ствовал оператор #, эквивалентный len (следовало писать #s). При использовании в качестве инфиксного оператора — x#s — он подсчитывал количество вхождений x и s; в Python для этого нужно вызвать s.count(x), где s — произвольная последовательность.

Резюме

Благодаря реализации специальных методов пользовательские объекты могут вести себя, как встроенные типы. Это позволяет добиться выразительного стиля кодирования, который сообщество считает «питоническим».

Важное требование к объекту Python — обеспечить полезные строковые представления себя: одно — для отладки и протоколирования, другое — для показа пользователям. Именно для этой цели предназначены специальные методы __repr__ и __str__.

Эмуляция последовательностей, продемонстрированная на примере класса FrenchDeck, — одно из самых распространенных применений специальных методов. Устройство большинства типов последовательностей — тема главы 2, а реализация собственных последовательностей будет рассмотрена в главе 10 в контексте создания многомерного обобщения класса Vector.

Благодаря перегрузке операторов Python предлагает богатый набор числовых типов, от встроенных до decimal.Decimal и fractions.Fraction, причем все они поддерживают инфиксные арифметические операторы. Реализация операторов, в том числе инверсных и составного присваивания, будет продемонстрирована в главе 13 в процессе обобщения класса Vector.

Использование и реализация большинства других специальных методов, входящих в состав модели данных Python, рассматривается в разных частях книги.

Дополнительная литература

Глава «Модель данных» (http://docs.python.org/3/reference/datamodel.html) справочного руководства по языку Python — канонический источник информации по теме этой главы и значительной части изложенного в книге материала.

В книге Alex Martelli «Python in a Nutshell», второе издание (O'Reilly), прекрасно объясняется модель данных. Последнее издание, вышедшее в 2006 году, охватывает версию Python 2.5, но с тех пор модель данных претерпела лишь незначительные изменения, а данное Мартелли описание механизма доступа к атрибутам — самое полное из всех, что я видел, если не считать самого исходного кода CPython на С. Мартелли также очень активен на сайте Stack Overflow, ему принадлежат более 5000 ответов. С его профилем можно ознакомиться по адресу http://stackoverflow.com/users/95810/alex-martelli.

Дэвид Бизли (David Beazley) написал две книги, в которых подробно описывается модель данных в контексте Python 3: «Python Essential Reference», издание 4