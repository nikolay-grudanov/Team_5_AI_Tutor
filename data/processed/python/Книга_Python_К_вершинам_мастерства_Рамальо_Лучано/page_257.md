---
source_image: page_257.png
page_number: 257
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 49.49
tokens: 11870
characters: 2361
timestamp: 2025-12-24T01:46:39.995273
finish_reason: stop
---

del и сборка мусора

1 Создать копию списка passengers или преобразовать его в тип list, если параметр имеет другой тип.

Вот теперь внутренние операции со списком пассажиров никак не влияют на аргумент, переданный конструктору автобуса. Заодно это решение оказывается и более гибким: аргумент, переданный в качестве параметра passengers, может быть кортежем или любым другим итерируемым объектом, например множеством или даже результатом запроса к базе данных, поскольку конструктор класса list принимает любой итерируемый объект. Поскольку мы сами создали список, с которым будем работать, то гарантируется, что он поддерживает операции .remove() и .append(), используемые в методах .pick() и .drop().

Если метод специально не предназначен для изменения объекта, полученного в качестве аргумента, то следует дважды по-думать перед тем, как создавать синоним аргумента, просто присваивая его атрибуту экземпляра в своем классе. Если сомневаетесь, делайте копию. Клиенты обычно будут только рады.

del и сборка мусора

Объекты никогда не уничтожаются явно, однако, оказавшись недоступными, они могут стать жертвой сборщика мусора.

— «Модель данных», глава справочного руководства по языку Python

Предложение del удаляет имена, а не объекты. В результате команды del объект может быть удален сборщиком мусора, но только если в этой переменной хранилась последняя ссылка на объект или если объект стал недоступен2. Привязывание переменной к другому объекту также может обнулить количество ссылок на объект, что приведет к его уничтожению.

Существует специальный метод __del__, но он не приводит к уничтожению экземпляра, и вы не должны вызывать его самостоятельно. Метод __del__ вызывается интерпретатором Python непосредственно перед уничтожением объекта, давая ему возможность освободить внешние ресурсы. Вам редко придется реализовывать метод __del__ в своем коде, но, тем не менее, некоторые начинающие программисты тратят время на его написание безо всяких на то причин. Правильно написать метод __del__ довольно сложно. Он документирован в главе «Модель данных» справочного руководства по языку Python (http://bit.ly/1GsWPac).

2 Если два объекта ссылаются друг на друга, как в примере 8.10, то они могут быть уничтожены, если сборщик мусора решит, что никаким другим способом до них добраться нельзя, так как никаких ссылок, кроме взаимных, на них нет.