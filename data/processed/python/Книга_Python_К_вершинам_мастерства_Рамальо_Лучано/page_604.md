---
source_image: page_604.png
page_number: 604
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 50.48
tokens: 11951
characters: 2499
timestamp: 2025-12-24T02:03:00.409708
finish_reason: stop
---

Глава 18. Применение пакета asyncio для организации...

сящихся к этому предмету ссылок под названием «The new Python asyncio module aka "tulip"» (http://bit.ly/1HGutwZ). Другие подборки ресурсов, посвященных asyncio, имеются на сайтах Asyncio.org (http://asyncio.org) и aio-libs (https://github.com/aiolibs), где есть асинхронные драйверы для PostgreSQL, MySQL и нескольких баз данных NoSQL. Я эти драйверы не тестировал, но проекты, похоже, развиваются очень динамично.

Важной областью применения asyncio являются веб-службы. Ваш код, скорее всего, будет пользоваться библиотекой aiohttp (http://aiohttp.readthedocs.org/en/), разработку которой возглавляет Андрей Светлов. Наверное, вы также захотите настроить свою среду для тестирования кода обработки ошибок, и в этом вам окажет неоценимую помощь система Vaurien (http://vaurien.readthedocs.org/en/1.8/) — «хаотичный TCP-прокси» — спроектированная Алексисом Метайро (Alexis Metaireau) и Тареком Зиадом (Tarek Ziade). Vaurien создавалась для проекта Mozilla Services (https://mozilla-services.github.io/), она позволяет вносить задержки и случайные ошибки в TCP-трафик между вашей программой и различными серверами, например базами данных или поставщиками веб-служб.

Поговорим

Один цикл

Уже давно асинхронное программирование является излюбленным многими питонистами подходом к разработке сетевых приложений, но всегда стояла проблема выбора одной из несовместимых между собой библиотек. Райан Дал говорит, что при создании Node.js он взял за образец библиотеку Twisted, а в Tornado впервые стали использоваться сопрограммы для событийно-ориентированного программирования на Python.

В мире JavaScript не утихают споры между приверженцами простых обратных вызовов и сторонниками различных конкурирующих между собой абстракций более высокого уровня. В ранних версиях Node.js API использовались обещания (Promise) — аналог наших объектов Future, — но Райан Дал решил ограничиться только обратными вызовами и сделать их стандартом. Джеймс Коглан (James Coglan) считает это решение крупнейшей из упущенных в Node возможностей (http://bit.ly/1xNcNHZ).

В Python дебаты закончились: после добавления asyncio в стандартную библиотеку сопрограммы и будущие объекты стали средствами для написания асинхронного кода в духе Python. Более того, пакет asyncio определяет стандартные интерфейсы для асинхронных будущих объектов и цикла обработки событий и содержит их эталонные реализации.

К этому случаю идеально применимы два принципа из «Дзен Python»: