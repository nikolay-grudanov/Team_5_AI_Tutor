---
source_image: page_672.png
page_number: 672
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.57
tokens: 11611
characters: 1328
timestamp: 2025-12-24T02:05:35.587371
finish_reason: stop
---

Рис. 20.6. Оболочка Python после выполнения команд help(LineItem.weight) и help(LineItem)

Это не вполне удовлетворительно. В случае LineItem неплохо было бы добавить информацию о том, что вес weight должен быть выражен в килограммах. Для свойств это тривиальная задача, потому каждое свойство управляет одним конкретным атрибутом. Но дескрипторный класс Quantity используется для обоих атрибутов weight и price.5

Вторая деталь, которую мы обсуждали для свойств, но опустили при рассмотрении дескрипторов — перехват попыток удалить управляемый атрибут. Это можно сделать, реализовав метод __delete__ вместе или вместо обычных методов __get__ и (или) __set__ в дескрипторном классе. Написание «дурацкого» дескрипторного класса с методом __delete__ оставляю в качестве упражнения досужему читателю.

Резюме

В начале главы мы продолжили тему класса LineItem из главы 19. В примере 20.1 мы заменили свойства дескрипторами. Мы видели, что дескриптор — это класс, экземпляры которого занимают место атрибутов в управляемом классе. Для обсуждения этого механизма пришлось ввести специальные термины, например: управляемый экземпляр и атрибут хранения.

5 Задать текст справки для каждого экземпляра дескриптора на удивление трудно. Одно из возможных решений — динамически строить оберывающий класс для каждого экземпляра дескриптора.