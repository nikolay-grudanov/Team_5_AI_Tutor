---
source_image: page_067.png
page_number: 67
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 42.65
tokens: 11762
characters: 1681
timestamp: 2025-12-24T01:37:36.196810
finish_reason: stop
---

Средства работы с упорядоченными последовательностями...

Эти функции применяются не только для поиска, но и для вставки в отсортированную последовательность. Этому вопросу посвящен следующий раздел.

Вставка с помощью функции bisect.insort

Сортировка — дорогая операция, поэтому если уж имеется отсортированная последовательность, то хорошо бы ее в таком виде и поддерживать. Для этого и предназначена функция bisect.insort.

Функция insort(seq, item) вставляет элемент item в последовательность seq, так чтобы seq оставалась в порядке возрастания. См. пример 2.19 и результат его работы на рис. 2.6.

Пример 2.19. Insort поддерживает упорядоченность отсортированной последовательности

import bisect
import random

SIZE = 7

random.seed(1729)

my_list = []
for i in range(SIZE):
    new_item = random.randrange(SIZE*2)
    bisect.insort(my_list, new_item)
    print('%2d ->' % new_item, my_list)

02-array-seq/ $ python3 bisect_insort.py
10 -> [10]
0 -> [0, 10]
6 -> [0, 6, 10]
8 -> [0, 6, 8, 10]
7 -> [0, 6, 7, 8, 10]
2 -> [0, 2, 6, 7, 8, 10]
10 -> [0, 2, 6, 7, 8, 10, 10]

Рис. 2.6. Результат работы программы из примера 2.19

Как и bisect, функция insort принимает необязательные аргументы lo и hi, чтобы ограничить поиск подпоследовательностью. Существует также функция insort_left, которая пользуется функцией bisect_left для нахождения точки вставки.

Многое из описанного до сих пор относится к любым последовательностям, а не только к списками или кортежам. Программисты на Python иногда чрезмерно увлекаются типом list, просто потому, что он очень удобен, — знаю, сам грешен. Но при работе со списками чисел лучше использовать массивы. Им и посвящен остаток этой главы.