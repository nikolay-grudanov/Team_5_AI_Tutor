---
source_image: page_667.png
page_number: 667
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 53.53
tokens: 11841
characters: 1955
timestamp: 2025-12-24T02:05:46.190058
finish_reason: stop
---

Методы являются дескрипторами

Установку атрибутов класса невозможно контролировать с помощью дескрипторов, присоединенных к тому же классу. В частности, это означает, что сами дескрипторные атрибуты можно затереть путем присваивания на уровне класса, как объясняется в следующем разделе.

Перезаписывание дескриптора в классе

Независимо от того, является дескриптор переопределяющим или нет, его можно перезаписать путем присваивания на уровне класса. Это техника партизанского латания, но в примере 20.12 дескрипторы подменяются целыми числами, что, безусловно, приведет к «поломке» любого класса, работа которого зависит от дескрипторов.

Пример 20.12. Дескриптор можно перезаписать в самом классе

```python
>>> obj = Managed()  # 1
>>> Managed.over = 1  # 2
>>> Managed.over_no_get = 2
>>> Managed.non_over = 3
>>> obj.over, obj.over_no_get, obj.non_over  # 3
(1, 2, 3)
```

1 Создаем новый экземпляр для последующего тестирования.
2 Перезаписываем дескрипторные атрибуты в классе.
3 Дескрипторов больше нет.

Пример 20.12 вскрывает еще одну асимметрию в чтении и записи атрибутов: хотя атрибут класс можно контролировать с помощью дескриптора с методом __get__, присоединенного к управляемому классу, но запись атрибута класса невозможно перехватить с помощью дескриптора с методом __set__, присоединенного к тому же классу.

Чтобы контролировать установку атрибутов класса, необходимо присоединить дескрипторы к классу класса — иначе говоря, к метаклассу. По умолчанию метаклассом всех пользовательских классов является type, а добавить атрибут в класс type невозможно. Но в главе 21 мы научимся создавать собственные метаклассы.

Методы являются дескрипторами

Функция внутри класса становится связанным методом, потому что у всех определенных пользователем функций имеется метод __get__, а, значит, будучи присоединены к классу, они ведут себя как дескрипторы. В примере 20.13 демонстрируется чтение метода spam из класса Managed в примере 20.8.