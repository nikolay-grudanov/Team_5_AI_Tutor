---
source_image: page_120.png
page_number: 120
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.24
tokens: 11741
characters: 1816
timestamp: 2025-12-24T01:40:09.138704
finish_reason: stop
---

ГЛАВА 4.
Текст и байты

Человек работает с текстом, компьютер — с байтами.¹

— Эстер Нэм и Трэвис Фишер,
«Кодировка символов и Unicode в Python»

В Python 3 появилось четкое различие между строками текста, предназначенными для человека, и последовательностями байтов. Неявное преобразование последовательности байтов в Unicode-текст ушло в прошлое. В этой главе речь пойдет о Unicode-строках, двоичных последовательностях и кодировках для преобразования одного в другое.

Насколько глубоко необходимо разбираться в Unicode, зависит от того, в какой области вы программируете на Python. Большая часть изложенного в этой главе материала будет мало интересна программистам, имеющим дело только с ASCII-текстами. Но даже если вы относитесь к этой категории, все равно от различий между типами str и byte никуда не деться. А в качестве премии за потраченные усилия вы узнаете, что специализированные типы двоичных последовательностей обладают возможностями, которых нет у «универсального» типа str в Python 2.

В этой главе мы рассмотрим следующие вопросы:

• символы, кодовые позиции и байтовые представления;
• уникальные особенности двоичных последовательностей: bytes, bytearray и memoryview;
• кодеки для полного Unicode и унаследованных наборов символов;
• как предотвращать и обрабатывать ошибки кодировки;
• рекомендации по работе с текстовыми файлами;
• кодировка по умолчанию и стандартные проблемы ввода-вывода;
• безопасное сравнение Unicode-текстов с нормализацией.
• служебные функции для нормализации, сворачивания регистра и явного удаления диакритических знаков;
• правильная сортировка Unicode-текстов с помощью модуля locale и библиотеки PyUCA;

¹ Слайд 12 выступления на конференции PyCon 2014 «Character Encoding and Unicode in Python» (слайды — http://bit.ly/1JzF1MY, видео — http://bit.ly/1JzF37P).