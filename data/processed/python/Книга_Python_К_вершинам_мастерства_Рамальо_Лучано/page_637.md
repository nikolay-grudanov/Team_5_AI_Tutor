---
source_image: page_637.png
page_number: 637
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 48.74
tokens: 11837
characters: 2131
timestamp: 2025-12-24T02:04:28.117629
finish_reason: stop
---

Удаление атрибутов

му любое обращение к self.weight ИЛИ nutmeg.weight обрабатывается методами доступа свойства, и обойти их можно, только работая с атрибутом __dict__ напрямую.

Возможно, код в примере 19.25 понятен не с первого раза, но он короткий: в нем столько же строк, сколько в паре декорированных методов чтения и установки одного лишь свойства weight в примере 19.17. Определение LineItem в примере 19.23 выглядит намного лучше без шума, вносимого методами чтения и установки.

В реальной системе такого рода проверкам могут подвергаться многие поля в нескольких классах, поэтому фабрику quantity следовало бы вынести в служебный модуль. В конечном итоге, эту простую фабрику можно было бы заменить допускающим расширение дескрипторным классом, специализированные подклассы которого выполняют различные проверки. Мы займемся этим в главе 20.

А пока завершим обсуждение свойств, рассмотрев вопрос об удалении атрибутов.

Удаление атрибутов

Напомним, что в учебном пособии по Python описано предложение del для удаления атрибутов объекта:

del my_object.an_attribute

Удаление атрибутов вряд ли можно назвать повседневно выполняемой операцией, а требование обеспечить ее выполнение с помощью свойств еще более необычно. Но оно поддерживается, и я приведу для его демонстрации несколько искусственный пример.

В определении свойства декоратор @my_property.deleter используется, чтобы обернуть метод, отвечающий за удаление атрибута, управляемого свойством. В примере 19.26, как и обещано, демонстрируется, как писать метод удаления свойства.

Пример 19.26. blackknight.py: идея подсказана персонажем Black Knight (Черный рыцарь) из сюжета «Monty Python and the Holy Grail» (Монти Пайтон и Святой Грааль)

class BlackKnight:

    def __init__(self):
        self.members = ['рука', 'вторая рука',
                        'нога', 'вторая нога']
        self.phrases = ["Это всего лишь царапина.",
                        "Это всего лишь поверхностная рана.",
                        "Я неуязвим!",
                        "Ну ладно, пусть будет ничья."]

    @property
    def member(self):
        print('следующий член: ')