---
source_image: page_339.png
page_number: 339
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 44.78
tokens: 11919
characters: 2357
timestamp: 2025-12-24T01:50:21.783472
finish_reason: stop
---

Алекс Мартелли о водоплавающих

Помимо партизанского латания, в примере 11.6 иллюстрируется динамичность протоколов: функции random.shuffle безразлично, какие аргументы ей переданы, лишь бы объект реализовал часть протокола изменяемой последовательности. Неважно даже, получил ли объект необходимые методы «при рождении» или каким-то образом приобрел их позже.

До сих пор мы рассматривали в этой главе динамическую типизацию: работу с объектами независимо от их типа при условии, что они реализуют определенные протоколы.

Представляя диаграммы, включающие ABC, мы хотели показать, как протоколы соотносятся с явными интерфейсами, документированными в виде абстрактных классов, но мы еще ни разу не наследовали абстрактному классу.

В следующих разделах мы воспользуемся ABC непосредственно, а не только как документацией.

Алекс Мартелли о водоплавающих

Познакомившись с обычными для Python интерфейсами в виде протоколов, обратимся к абстрактным базовым классам. Но перед тем как переходить к деталям и примерам, предлагаем вашему вниманию вставное эссе Алекса Мартелли, в котором он объясняет, почему ABC стали замечательным добавлением к Python.

Водоплавающие птицы и ABC

Алекс Мартелли

В википедии (http://en.wikipedia.org/wiki/Duck_typing#History) мне приписывают честь распространения полезного мема и эффектного выражения «утиная типизация» (т. е. игнорирование фактического типа объекта и акцент на то, чтобы объект реализовывал методы с именами, сигнатурами и семантикой, требуемыми для конкретного применения).

В Python это сводится, в основном, к тому, чтобы избежать использования функции isinstance для проверки типа объекта (я уже не говорю о еще более вредном подходе: проверке вида type(foo) is bar, которую следует предать анафеме, потому что она препятствует даже простейшим формам наследования!).

В целом, утиная типизация остается весьма полезной во многих контекстах, однако есть и много других, где со временем выработался иной, более предпочтительный подход. Отсюда и начинается наш рассказ...

Уже для многих поколений классификация по родам и видам (в том числе и семейства водоплавающих, известного под названием Anatidae) основывается, главным образом, на фенетике — когда во главу угла ставится сходство морфологии и поведения... в общем, на наблюдаемых характеристиках. Аналогия с «утиной типизацией» была очень сильной.