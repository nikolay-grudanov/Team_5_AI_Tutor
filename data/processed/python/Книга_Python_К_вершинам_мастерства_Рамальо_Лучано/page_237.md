---
source_image: page_237.png
page_number: 237
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 59.88
tokens: 12012
characters: 2654
timestamp: 2025-12-24T01:45:50.399525
finish_reason: stop
---

Поговорим

Мишель Симионато (Michele Simionato) написал пакет, имеющий целью «облегчить среднему программисту использование декораторов и популяризировать декораторы путем демонстрации различных нетривиальных примеров». На сайте PyPI пакет доступен под названием decorator (https://pypi.python.org/pypi/decorator).

Вики-страница Python Decorator Library (https://wiki.python.org/moin/PythonDecoratorLibrary), созданная, когда декораторы только появились в Python, содержит десятки примеров. Поскольку странице уже много лет, некоторые приемы устарели, но она по-прежнему остается источником новых идей.

В документе PEP 443 (http://www.python.org/dev/peps/pep-0443/) приводится обоснование и детальное описание создания обобщенных функций с помощью одиночной диспетчеризации. В старой (март 2005 года) статье в блоге Гвидо ван Россума «Five-Minute Multimethods in Python» (Мультиметоды в Python за пять минут) (http://www.artima.com/weblogs/viewpost.jsp?thread=101605) подробно рассматривается реализация обобщенных функций (или мультиметодов) с помощью декораторов. Код Гвидо поддерживает множественную диспетчеризацию (т. е. диспетчеризацию на основе нескольких позиционных аргументов). Этот код интересен, прежде всего, с педагогической точки зрения. Современная готовая к работе реализация обобщенных функций с множественной диспетчеризацией имеется в библиотеке Reg (http://reg.readthedocs.org/en/latest/) Мартина Фаасена, автора моделерентированного и поддерживающего REST веб-каркаса Morepath (http://morepath.readthedocs.org/en/latest/).

В коротенькой статье «Closures in Python» (http://effbot.org/zone/closure.htm) в блоге Фредрика Лундха (Fredrik Lundh) объясняется терминология замыканий.

В документе «PEP 3104 – Access to Names in Outer Scopes» (http://www.python.org/dev/peps/pep-3104/) доступно описано объявление nonlocal позволяющее перепривязывать имена, не являющиеся ни локальными, ни глобальными. Здесь же имеется отличный обзор подходов к этой задаче в других динамических языках (Perl, Ruby, JavaScript и т. д.), а также обсуждение плюсов и минусов различных проектных решений, возможных в Python.

Более теоретический документ «PEP 227 – Statically Nested Scopes» (http://www.python.org/dev/peps/pep-0227/) содержит введение в механизм лексических областей видимости, который появился как факультативное средство в Python 2.1 и стал стандартным в Python 2.2. Здесь же дается обоснование и варианты реализации замыканий в Python.

Поговорим

Проектировщик любого языка с полноправными функциями сталкивается со следующей проблемой: будучи полноправными объектами, функции определены в некоторой области видимости, но могут вызы-