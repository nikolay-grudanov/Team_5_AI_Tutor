---
source_image: page_606.png
page_number: 606
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 55.35
tokens: 12002
characters: 2475
timestamp: 2025-12-24T02:03:10.540238
finish_reason: stop
---

ентский и серверный API для протокола HTTP в стандартной библиотеке, асинхронный DB API (http://bit.ly/1HGuVGY) 3.0 и новые драйверы баз данных на основе asyncio.

Важнейшее преимущество Python 3.4 с asyncio над Node.js — сам язык Python: он лучше спроектирован, а имеющиеся в нем сопрограммы и выражения yield from существенно упрощают сопровождение асинхронного кода по сравнению с примитивными обратными вызовами JavaScript. Наш основной недостаток — библиотеки: Python поставляется с «батарейками в комплекте», но наши батарейки не предназначены для асинхронного программирования. Богатая экосистема библиотек для Node.js целиком ориентирована на асинхронные вызовы. Однако как для Python, так и для Node.js характерна проблема, которая в языках Go и Erlang была решена изначально: у нас нет прозрачного способа писать код, задействующий все процессорные ядра.

Стандартизация интерфейса цикла обработки событий и асинхронной библиотеки стала важным достижением, и только наш «великодушный пожизненный диктатор» мог справиться с этим делом, учитывая наличие прочно укоренившихся высококачественных альтернатив. При решении этой задачи он советовался с авторами основных асинхронных каркасов на Python. Наиболее очевидно влияние Глифа Лефковича (Glyph Lefkowitz), стоящего во главе проекта Twisted. Сообщение «Deconstructing Deferred», которое Гвидо отправил в группу Python-tulip (http://bit.ly/1HGuXPa), обязательно должен прочитать каждый, кто хочет понять, почему класс asyncio.Future не похож на класс Deferred из Twisted. Отдавая дань уважения старейшему и крупнейшему асинхронному каркасу, написанному на Python, Гвидо также пустил в обращение мем WWTD — What Would Twisted Do? (Что сделал бы Twisted?) — в ходе обсуждения вариантов проектных решений в группе python-twisted12.

По счастью, Гвидо ван Россум предпринял огромные усилия, чтобы Python оказался в лучшем положении для отражения вызовов, связанных с параллелизмом. Для освоения asyncio нужно попотеть. Но если вы планируете писать на Python параллельные сетевые приложения, ищите Один Цикл.

Один цикл, чтоб править всеми,
Один цикл найдет их всех,
Один цикл соберет их
И заключит их в свете.13

12 См. сообщение Гвидо от 29 января 2015 (http://bit.ly/1f6E2qT), на которое незамедлительно последовал ответ Глифа.
13 Перефразированное четверостишие из «Властелина колец» Толкиена (One ring to rule them all, one ring to find them, One ring to bring them all and in the darkness bind them). — Прим. перев.