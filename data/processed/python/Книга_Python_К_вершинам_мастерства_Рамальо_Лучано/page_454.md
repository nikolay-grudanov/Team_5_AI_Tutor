---
source_image: page_454.png
page_number: 454
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.48
tokens: 11983
characters: 2132
timestamp: 2025-12-24T01:55:50.157023
finish_reason: stop
---

Глава 14. Итерируемые объекты, итераторы и генераторы

3 Но chain.from_iterable берет каждый элемент из итерируемого объекта и сцепляет их в последовательность при условии, что каждый элемент сам является итерируемым объектом.

4 zip обычно используется для объединения двух итерируемых объектов в ряд 2-кортежей.

5 zip может параллельно обходить произвольное количество итерируемых объектов, но генератор останавливается, как только один из них будет исчерпан.

6 itertools.zip_longest работает, как zip, но не останавливается, пока не будут исчерпаны все итерируемые объекты; вместо недостающих элементов в данном случае подставляется None.

7 Аргумент fillvalue задает подстановочное значение.

Функция itertools.product дает ленивый способ вычисления декартовых произведений, в разделе «Декартовы произведения» главы 2 мы строили их с помощью списковых включений с несколькими фразами for. Для ленивого порождения декартовых произведений можно также использовать генераторные выражения с несколькими фразами for. В примере 14.18 демонстрируется функция itertools.product.

Пример 14.18. Примеры применения генераторной функции itertools.product

>>> list(itertools.product('ABC', range(2))) # 1
[('A', 0), ('A', 1), ('B', 0), ('B', 1), ('C', 0), ('C', 1)]
>>> suits = 'spades hearts diamonds clubs'.split()
>>> list(itertools.product('AK', suits)) # 2
[('A', 'spades'), ('A', 'hearts'), ('A', 'diamonds'), ('A', 'clubs'),
('K', 'spades'), ('K', 'hearts'), ('K', 'diamonds'), ('K', 'clubs')]
>>> list(itertools.product('ABC')) # 3
[('A',), ('B',), ('C',)]
>>> list(itertools.product('ABC', repeat=2)) # 4
[('A', 'A'), ('A', 'B'), ('A', 'C'), ('B', 'A'), ('B', 'B'),
('B', 'C'), ('C', 'A'), ('C', 'B'), ('C', 'C')]
>>> list(itertools.product(range(2), repeat=3))
[(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1), (1, 0, 0),
(1, 0, 1), (1, 1, 0), (1, 1, 1)]
>>> rows = itertools.product('AB', range(2), repeat=2)
>>> for row in rows: print(row)
...
('A', 0, 'A', 0)
('A', 0, 'A', 1)
('A', 0, 'B', 0)
('A', 0, 'B', 1)
('A', 1, 'A', 0)
('A', 1, 'A', 1)
('A', 1, 'B', 0)
('A', 1, 'B', 1)
('B', 0, 'A', 0)
('B', 0, 'A', 1)
('B', 0, 'B', 0)