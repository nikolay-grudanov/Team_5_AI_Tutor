---
source_image: page_131.png
page_number: 131
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.42
tokens: 11783
characters: 1838
timestamp: 2025-12-24T01:40:44.578409
finish_reason: stop
---

Проблемы кодирования и декодирования

SyntaxError: Non-UTF-8 code starting with '\xel' in file ola.py on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details

Поскольку в системах GNU/Linux и OS X практически повсеместно развернута кодировка UTF-8, такая ошибка наиболее вероятна при открытии py-файла, созданного в Windows в кодировке cp1252. Отметим, что она происходит даже в Python для Windows, потому что в Python 3 по умолчанию на всех платформах подразумевается кодировка UTF-8.

Чтобы исправить ошибку, добавьте в начало файла магический комментарий, как показано в примере 4.8.

Пример 4.8. ola.py: «Hello, World!» по-португальски

# coding: cp1252
print('Olá, Mundo!')

Теперь, когда исходный код на Python 3 не ограничивается одной лишь кодировкой ASCII и по умолчанию подразумевается замечательная UTF-8, самое правильное «лечение» для исходного кода в унаследованной кодировке типа 'cp1252' — преобразовать в UTF-8 и не заморачиваться комментариями coding. Если ваш редактор не поддерживает UTF-8, пора его поменять.

Не-ASCII имена в исходном коде: стоит ли их использовать?

В Python 3 разрешается использовать в исходном коде идентификаторы в кодировке, отличной от ASCII:

>>> ação = 'PBR' # ação = акция
>>> ε = 10**-6   # ε = epsilon

Некоторым эта идея не нравится. Чаще всего в пользу использования только ASCII-идентификаторов приводят тот довод, что так всем будет проще читать и редактировать код. Но тут упущена одна деталь: вы хотите, чтобы ваш исходный код был доступен для чтения и редактирования целевой аудитории, а это вовсе необязательно «все». Если код принадлежит международной корпорации или является открытым, и вы хотите, чтобы дополнять его могли люди во всего света, то идентификаторы определенно стоит писать по-английски, и тогда вам нужна только кодировка ASCII.