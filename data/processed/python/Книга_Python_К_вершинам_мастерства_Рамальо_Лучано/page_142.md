---
source_image: page_142.png
page_number: 142
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 47.46
tokens: 11908
characters: 2168
timestamp: 2025-12-24T01:41:22.765172
finish_reason: stop
---

ся, но при сравнении не совпадают, поэтому во избежание сюрпризов необходимо производить нормализацию:

```python
>>> from unicodedata import normalize, name
>>> ohm = '\u2126'
>>> name(ohm)
'OHM SIGN'
>>> ohm_c = normalize('NFC', ohm)
>>> name(ohm_c)
'GREEK CAPITAL LETTER OMEGA'
>>> ohm == ohm_c
False
>>> normalize('NFC', ohm) == normalize('NFC', ohm_c)
True
```

В акронимах двух других форм нормализации — NFKC и NFKD — буква K означает «compatibility» (совместимость). Это более строгие формы нормализации, затрагивающие так называемые «символы совместимости». Хотя одна из целей Unicode — определить единственную «каноническую» кодовую позицию для каждого символа, некоторые символы встречаются несколько раз ради совместимости с предшествующими стандартами. Например, знак «микро» 'μ' (U+00B5) был добавлен в Unicode для поддержки обратимого преобразования в latin1, хотя тот же самый символ является также частью греческого алфавита, где ему соответствует кодовая позиция U+03BC (строчная греческая буква мю). Поэтому знак «микро» считается «символом совместимости».

В формах NFKC и NFKD каждый символ совместимости заменяется «совместимой декомпозицией» из одного или более символов, которая считается «предпочтительным» представлением, даже если при этом возникает потеря форматирования — в идеале форматирование должно быть функцией внешней разметки, а не частью Unicode. Например, совместимой декомпозицией дроби «одна вторая» '½' (U+00BD) является последовательность трех символов '1/2', а совместимой декомпозицией знака «микро» 'μ' (U+00B5) — строчная буква мю 'μ' (U+03BC).

Вот как NFKC работает на практике:

```python
>>> from unicodedata import normalize, name
>>> half = '½'
>>> normalize('NFKC', half)
'1/2'
>>> four_squared = '4²'
>>> normalize('NFKC', four_squared)
'42'
>>> micro = 'μ'
>>> micro_kc = normalize('NFKC', micro)
>>> micro, micro_kc
('μ', 'μ')
>>> ord(micro), ord(micro_kc)
(181, 956)
```

8 Любопытно, что знак «микро» считается символом совместимости, а знак «ом» нет. В результате NFC не трогает знак «микро», но изменяет знак «ом» на заглавную букву омега, тогда как NFKC и NFKD заменяют и «ом», и «микро» другими символами.