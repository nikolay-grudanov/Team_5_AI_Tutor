---
source_image: page_348.png
page_number: 348
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.01
tokens: 11772
characters: 2002
timestamp: 2025-12-24T01:50:37.430230
finish_reason: stop
---

Sequence, Mapping, Set

Это основные типы неизменяемых коллекций, и у каждого есть изменяемый подкласс. Детальная диаграмма класса MutableSequence показана на рис. 11.2, а диаграммы классов MutableMapping и MutableSet приведены в главе 3 (рис. 3.1 и 3.2).

MappingView
В Python 3 объекты, возвращенные методами отображения .items(), .keys() и .values(), наследуют классам ItemsView, KeysView и ValuesView соответственно. Первые два также наследуют богатый интерфейс класса Set, со всеми операторами, которые были описаны в разделе «Операции над множествами» главы 3.

Callable и Hashable
Эти ABC не так тесно связаны с коллекциями, но collections.abc был первым пакетом в стандартной библиотеке, где были определены ABC, а эти два класса казались достаточно важными, чтобы включить их. Я никогда не встречал подклассов Callable или Hashable. Их основное назначение — поддержка безопасного способа выяснить, является ли объект вызываемым или хэшируемым, с помощью встроенной функции isinstance.7

Iterator
Отметим, что класс Iterator является подклассом Iterable. Мы еще вернемся к этому вопросу в главе 14.

После пакета collections.abc следующим по полезности является пакет ABC из стандартной библиотеки numbers.

Числовая башня ABC
В пакете numbers (https://docs.python.org/3/library/numbers.html) определена так называемая «числовая башня» (т. е. линейная иерархия ABC), в которой Number — суперкласс самого верхнего уровня, Complex — промежуточный подкласс и так далее, вплоть до класса Integral:

• Number
• Complex
• Real
• Rational
• Integral

Таким образом, если нужно проверить, является ли объект целым числом, вызывайте isinstance(x, numbers.Integral); этот вызов вернет True для типов int, bool (это подкласс int) и прочих целочисленных типов, предоставляемых внеш-

7 Чтобы узнать, является ли объект вызываемым, существует встроенная функция callable(), но аналогичной функции hashable() нет, поэтому для проверки хэшируемости рекомендуется вызывать функцию isinstance(my_obj, Hashable).