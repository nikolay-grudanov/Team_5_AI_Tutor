---
source_image: page_525.png
page_number: 525
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 61.55
tokens: 12180
characters: 3093
timestamp: 2025-12-24T01:59:29.381422
finish_reason: stop
---

Дополнительная литература

.send(...) напрямую никогда не вызывается. Разумеется, под капотом сопрограммы asyncio управляются с помощью next(...) и .send(...), но на уровне пользовательского кода встречается только yield from.

Дополнительная литература

Дэвид Бизли — непререкаемый авторитет по генераторам и сопрограммам в Python. В книге «Python Cookbook», издание 3 (O'Reilly), написанной им совместно с Брайаном Джонсом, есть немало рецептов, относящихся к сопрограммам. Представленные Бизли на конференциях PyCon пособия на эту тему прославились своей широтой и глубиной охвата. Первое увидело свет на конференции PyCon US 2008: «Generator Tricks for Systems Programmers» (Приемы работы с генераторами для системных программистов) (http://www.dabeaz.com/generators/). На PyCon US 2009 было представлено легендарное пособие «A Curious Course on Coroutines and Concurrency» (Курьезный курс по сопрограммам и параллелизму) (http://www.dabeaz.com/coroutines/) (вот ссылки на все три части: часть 1 — http://pyvideo.org/video/213, часть 2 — http://pyvideo.org/video/215, часть 3 — http://pyvideo.org/video/214). Самое последнее пособие, представленное на PyCon 2014 в Монреале, называется «Generators: The Final Frontier» (Генераторы: последний фронт) (http://www.dabeaz.com/finalgenerator/), в нем он рассматривает дополнительные примеры параллелизма, так что оно, скорее, относится к тематике главы 18. Дэйв не может противиться желанию взорвать мозг слушателей, поэтому в последней части «Последнего фронтира» сопрограммы заменяют классический паттерн Посетитель при вычислении арифметических выражений.

Сопрограммы предлагают новые способы организации кода, к ним нужно привыкнуть — так же, как к использованию рекурсии или полиморфизма (динамической диспетчеризации). Интересный пример классического алгоритма, переписанного с помощью сопрограмм, приведен в статье Джеймса Пауэлла «Greedy algorithm with coroutines» (http://bit.ly/1HGsFQ0). Рекомендую также посмотреть популярные рецепты с тегом coroutine (http://bit.ly/1HGsFzA) в базе данных ActiveState Code (https://code.activestate.com/recipes/).

Пол Соколовский (Paul Sokolovsky) реализовал yield from в сверхкомпактном интерпретаторе MicroPython (http://micropython.org) Дамиэна Джорджа (Damien George) (http://micropython.org), предназначенном для работы в микроконтроллерах. Изучая этот механизм, он нарисовал большую детальную схему работы yield from (http://bit.ly/1JlqGxW) и поделился ей в списке рассылки python-tulip. Соколовский любезно разрешил мне скопировать этот PDF-файл на сайт книги, где он обрел относительно постоянный URL (http://flupy.org/resources/yield-from.pdf).

На момент написания этой книги подавляющее большинство примеров применения yield from встречаются в самом пакете asyncio и в программах, которые им пользуются. Я потратил много времени, чтобы найти другие примеры yield from. Грэг Ивинг — тот самый, который написал документ PEP 380 и реализовал yield from в CPython, — опубликовал несколько таких примеров (http://bit.ly/1JIqJtu): класс BinaryTree, простой анализатор XML и планировщик задач.