---
source_image: page_648.png
page_number: 648
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.03
tokens: 11804
characters: 1823
timestamp: 2025-12-24T02:04:44.530282
finish_reason: stop
---

Глава 20. Дескрипторы атрибутов

создает параметризованный набор функций-акцессоров и строит из них экземпляры конкретных свойств, настройки которых, например storage_name, хранятся в замыканиях. Объектно-ориентированный способ решения той же задачи — дескрипторный класс.

Мы вернемся к примерам класса LineItem с того места, где остановились, и переделаем фабрику свойств quantity в дескрипторный класс Quantity.

LineItem попытка № 3: простой дескриптор

Класс, в котором реализован хотя бы один из методов __get__, __set__ или __delete__, является дескриптором. Для использования дескриптора мы объявляем его экземпляром атрибут какого-то другого класса.

Мы создадим дескриптор Quantity и включим в класс LineItem два экземпляра Quantity: для управления атрибутами weight и price. Все это изображено на диаграмме классов на рис. 20.1.

![UML-диаграмма класса LineItem и используемого в нем дескрипторного класса Quantity](../images/20_1.png)

Рис. 20.1. UML-диаграмма класса LineItem и используемого в нем дескрипторного класса Quantity. Подчеркнуты атрибуты класса.

Отметим, что weight и price — экземпляры класса Quantity, присоединенного к классу LineItem, но у экземпляров LineItem есть также свои атрибуты weight и price, в которых соответствующие значения хранятся

Отметим, что слово weight встречается на рис. 20.1 дважды, потому что есть два разных атрибута с именем weight: первый — атрибут класса LineItem, второй — атрибут экземпляра, принадлежащий каждому объекту LineItem. То же самое относится и к price.

Начиная с этого места, я буду пользоваться следующими определениями:

Дескрипторный класс
Класс, реализующий протокол дескриптора. Это класс Quantity на рис. 20.1.

Управляемый класс
Класс, в котором объявлены атрибуты класса, являющиеся экземплярами дескриптора. Это класс LineItem на рис. 20.1.