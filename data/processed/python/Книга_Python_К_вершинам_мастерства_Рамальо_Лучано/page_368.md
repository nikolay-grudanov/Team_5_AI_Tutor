---
source_image: page_368.png
page_number: 368
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 49.14
tokens: 11917
characters: 2409
timestamp: 2025-12-24T01:51:50.272664
finish_reason: stop
---

Глава 11. Интерфейсы: от протоколов до абстрактных базовых...

гибкой компонентной архитектуры таких крупномасштабных проектов на Python, как Twisted, Pyramid и Plone. Леннарт Регебро написал прекрасное введение в zope. interface в статье «A Python Component Architecture» (http://bit.ly/1QOHabx). Байжу М (Baiju M) сочинил целую книгу на эту тему: «A Comprehensive Guide to Zope Component Architecture» (http://muthukadan.net/docs/zca.html).

Поговорим

Указание типа

Быть может, самой громкой новостью в мире Python в 2014 году было согласие Гвидо ван Россума дать зеленый свет реализации факультативной системы статической проверки типов с помощью аннотаций функций по аналогии с тем, как это делается в языке Муру (http://www.muru-lang.org/). Это произошло в списке рассылки Python-ideas 15 августа. Сообщение озаглавлено «Optional static typing – the crossroads» (http://bit.ly/1QOHhYX). В следующем месяце Гвидо опубликовал предварительный документ «PEP 484 – Type Hints» (https://www.python.org/dev/peps/pep-0484/).

Идея состояла в том, чтобы дать программисту возможность использовать факультативные аннотации для объявления типов параметров и возвращаемого значения в определении функции. Ключевое слово здесь — «факультативные». Такие аннотации добавляются, лишь если вам нужны их преимущества и вы готовы смириться с сопутствующими ограничениями. Аннотации можно включать только в некоторые функции.

На первый взгляд, это может показаться похожим на то, что Microsoft сделала в языке TypeScript, разработанном ей надмножестве JavaScript, только TypeScript заходит гораздо дальше: он добавляет новые языковые конструкции (например, модули, классы, явные интерфейсы и т. д.), позволяет объявлять типизированные переменные и фактически компилируется в код на обычном JavaScript. На момент написания этой книги цели факультативной статической типизации в Python гораздо скромнее.

Чтобы понять пределы этого предложения, процитируем историческое сообщение Гвидо от 15 августа 2014 года, где формулируется основное положение:

Я хочу сделать дополнительное предположение: основными областями применения будут проверка синтаксиса, IDE и генерация документации. У всех них есть одна общая черта: программа может работать, пусть даже проверка типов не прошла. Кроме того, добавление типов в программу не должно негативно сказываться на ее производительности (но и позитивного эффекта ждать не стоит :-).