---
source_image: page_548.png
page_number: 548
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 45.97
tokens: 11928
characters: 2328
timestamp: 2025-12-24T02:00:21.914999
finish_reason: stop
---

-е, --every    вывести флаги для всех возможных кодов (AA...ZZ)
-l N, --limit N    ограничиться первыми N кодами
-m CONCURRENT, --max_req CONCURRENT    максимальное число параллельных запросов (по умолчанию 30)
-s LABEL, --server LABEL    тип сервера: DELAY, ERROR, LOCAL, REMOTE (по умолчанию LOCAL)
-v, --verbose    выводить подробную информацию о ходе выполнения

Все аргументы необязательны, наиболее важные обсуждаются ниже.
Параметр -s/--server игнорировать не следует: он позволяет задать тип и URL-адрес HTTP-сервера, к которому будет обращаться скрипт. Можно задать одну из четырех строк (регистр не важен):

LOCAL
Использовать адрес http://localhost:8001/flags; это значение по умолчанию. Локальный HTTP-сервер следует настроить так, чтобы он отвечал на запросы к порту 8001. Я использую для тестирования Nginx. В файле README.rst (http://bit.ly/1Jlsg2L), относящемся к этой главе, объясняется, как установить и настроить сервер.

REMOTE
Использовать http://flupy.org/data/flags; это принадлежащий мне публичный сайт, размещенный на разделяемом сервере. Не бомбардируйте его слишком большим количеством параллельных запросов. Домен flupy.org связан с бесплатной учетной записью в Cloudflare CDN (http://www.cloudflare.com/), так что первые загрузки могут оказаться довольно медленными, но скорость возрастет по мере прогрева кэша CDN6.

DELAY
Использовать http://localhost:8002/flags; прокси-сервер, задерживающий HTTP-ответы, должен прослушивать порт 8002. Для введения задержек я поставил Mozilla Vaurien перед моим локальным Nginx. В вышеупомянутом файле README.rst есть также инструкции по работе с прокси-сервером Vaurien.

ERROR
Использовать http://localhost:8003/flags; прокси-сервер, отправляющий коды ошибок HTTP и задерживающий ответы, должен прослушивать порт 8003. Для этой цели я использовал Vaurien в другой конфигурации.

Режим LOCAL работает, только если локальный HTTP-сервер запущен на порту 8001. Для режимов DELAY и ERROR нужны прокси-серверы, прослушивающие соответственно порт 8002 и 8003. Как настроить нужным образом Nginx и Mozilla Vaurien, описано

6 Начинаю я получал от ошибки HTTP 503 — служба временно недоступна — при тестировании скриптов, отправляющих несколько десятков параллельных запросов моему сайту на недорогом разделяемом сервере. После настройки Cloudflare эти ошибки исчезли.