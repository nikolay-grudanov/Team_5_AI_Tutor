---
source_image: page_247.png
page_number: 247
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 62.59
tokens: 12005
characters: 2125
timestamp: 2025-12-24T01:46:27.239540
finish_reason: stop
---

Тождественность, равенство и синонимы

Относительная неизменяемость кортежей

Кортежи, как и большинство коллекций в Python, — списки, словари, множества и т. д. — хранят ссылки на объекты1. Если элементы, на которые указывают ссылки, изменяемы, то их можно модифицировать, хотя сам кортеж остается неизменяемым. Иными словами, говоря о неизменяемости кортежа, мы имеем в виду физическое содержимое структуры данных tuple (т. е. хранящиеся в ней ссылки), но не объекты, на которые эти ссылки указывают.

В примере 8.5 иллюстрируется ситуация, когда значение кортежа изменяется в результате модификации изменяемого объекта, на который хранится ссылка. Но что никогда не может измениться, так это идентификаторы элементов, хранящихся в кортеже.

Пример 8.5. Кортежи t1 и t2 первоначально равны, но после модификации изменяемого объекта, хранящегося в t1, они перестают быть равными

```python
>>> t1 = (1, 2, [30, 40])  # 1
>>> t2 = (1, 2, [30, 40])  # 2
>>> t1 == t2  # 3
True
>>> id(t1[-1])  # 4
4302515784
>>> t1[-1].append(99)  # 5
>>> t1
(1, 2, [30, 40, 99])
>>> id(t1[-1])  # 6
4302515784
>>> t1 == t2  # 7
False
```

1 t1 неизменяемый, но t1[-1] изменяемый.
2 Строим кортеж t2, элементы которого равны элементам t1.
3 Хотя t1 и t2 — разные объекты, они, как и следовало ожидать, равны.
4 Выводим идентификатор списка в элементе t1[-1].
5 Модифицируем t1[-1] на месте.
6 Идентификатор объекта t1[-1] не изменился, изменилось лишь его значение.
7 t1 и t2 теперь не равны.

Эта относительная неизменяемость объясняет загадку в разделе «Головоломка: присваивание A +=» главы 2. По этой же причине некоторые кортежи не являются хэшируемыми, как мы видели на врезке «Что значит «хэшируемый»?» на стр. 92.

Различие между равенством и тождественностью проявляется и при копировании объекта. Копия — это объект, равный исходному, но с другим идентификатором. Однако если объект содержит другие объекты, то следует ли при копировании

1 С другой стороны, однородные последовательности, например str, bytes и array.array, иллюстрируют: они содержат не ссылки, а сами данные — символы, байты и числа — в непрерывной области памяти.