---
source_image: page_389.png
page_number: 389
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.18
tokens: 11865
characters: 2531
timestamp: 2025-12-24T01:52:38.962323
finish_reason: stop
---

Современный пример: примеси в обобщенных представлениях Django

Для чтения этого раздела не нужно быть знатоком Django. Я использую лишь малую часть этого каркаса как практический пример применения множественного наследования и постараюсь по ходу дела сообщить все необходимые сведения, предполагая, правда, что вы имеете какой-то опыт разработки серверных веб-приложений на другом языке или с помощью другого каркаса.

В Django представление — это вызываемый объект, который принимает в качестве аргумента объект, представляющий HTTP-запрос, и возвращает объект, представляющий HTTP-ответ. Нас в этом обсуждении будут интересовать различные ответы. Они могут быть совсем простыми, например ответ с перенаправлением, вообще не имеющий тела, или весьма сложными, например страница каталога Интернет-магазина, которая строится по HTML-шаблону и содержит список товаров с кнопками для покупки и ссылками на страницы подробной информации.

Первоначально Django предоставлял набор функций, называемых обобщенными представлениями, которые реализовывали наиболее распространенные частные случаи. Например, на многих сайтах показываются результаты поиска, которые включают информацию о различных объектах, причем список может быть многостраничным, а для каждого объекта имеется ссылка на страницу с детальной информацией. В Django списковое представление и детальное представление спроектированы так, чтобы совместно решать эту задачу: списковое представление отображает результаты поиска, а детальное формирует страницы с информацией об отдельных объектах.

Однако изначально обобщенные представления были просто функциями, т. е. не допускали расширения. Если нужно было сделать что-то похожее на обобщенное списковое представление, но не в точности совпадающее с ним, приходилось начинать с нуля.

В Django 1.3 появилась концепция представлений на основе классов, а также набор классов обобщенных представлений, состоящий из базовых классов, примесей и готовых конкретных классов. Базовые классы и примеси находятся в модуле base из пакета django.views.generic (рис. 2.4). В верхней части диаграммы мы видим два класса, на которые возложены совершенно разные обязанности: View и TemplateResponseMixin.

Замечательным ресурсом для изучения этих классов является сайт Classy Class-Based Views (http://ccbv.co.uk/), где организована удобная навигация и можно посмотреть все методы каждого класса (унаследованные, переопределенные и добавленные), диаграммы, документацию и даже перейти в исходный код на сайте GitHub (http://bit.ly/1JHSoe8).