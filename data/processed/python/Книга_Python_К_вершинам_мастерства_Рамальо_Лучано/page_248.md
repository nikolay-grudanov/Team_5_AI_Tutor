---
source_image: page_248.png
page_number: 248
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 45.33
tokens: 11794
characters: 1882
timestamp: 2025-12-24T01:46:10.105375
finish_reason: stop
---

Глава 8. Ссылки на объекты, изменяемость и повторное...

дублировать также внутренние объекты или можно оставить их разделяемыми? Единственно правильного ответа на этот вопрос не существует. Читайте дальше.

По умолчанию копирование поверхностное

Простейший способ скопировать список (как и большинство встроенных изменяемых коллекций) — воспользоваться встроенным конструктором самого типа, например:

```python
>>> l1 = [3, [55, 44], (7, 8, 9)]
>>> l2 = list(l1)
>>> l2
[3, [55, 44], (7, 8, 9)]
>>> l2 == l1
True
>>> l2 is l1
False
```

1 list(l1) создает копию l1.
2 Копии равны.
3 Но ссылаются на разные объекты.

Для списков и других изменяемых последовательностей присваивание l2 = l1[:] также создает копию.

Однако при использовании конструктора и оператора [:] создается поверхностная копия (т. е. дублируется только самый внешний контейнер, который заполняется ссылками на те же элементы, что хранятся в исходном контейнере). Это экономит память и не создает проблем, если все элементы неизменяемые. Однако при наличии изменяемых элементов можно столкнуться с неприятными сюрпризами.

В примере 8.6 мы создаем поверхностную копию списка, который содержит другой список и кортеж, а затем производим изменения и смотрим, как они отразились на объектах, на которые указывают ссылки.

Если ваш компьютер подключен к сети, рекомендую понаблюдать за интерактивной анимацией примера 8.6 на сайте Online Python Tutor (http://www.pythontutor.com/). Во время работы над этой главой прямая ссылка на пример, подготовленный для pythontutor.com, работала ненадежно, но сам инструмент замечательный, поэтому время, потраченное на копирование кода на сайт, будет потрачено не зря.

Пример 8.6. Создание поверхностной копии списка, содержащего другой список; скопируйте этот код на сайт Online Python Tutor, чтобы увидеть его анимацию

l1 = [3, [66, 55, 44], (7, 8, 9)]
l2 = list(l1) # 1