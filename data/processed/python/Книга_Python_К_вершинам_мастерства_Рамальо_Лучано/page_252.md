---
source_image: page_252.png
page_number: 252
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.19
tokens: 11767
characters: 1846
timestamp: 2025-12-24T01:46:11.173919
finish_reason: stop
---

[10, 20, [[...], 30]]
>>> from copy import deepcopy
>>> c = deepcopy(a)
>>> c
[10, 20, [[...], 30]]

Кроме того, в некоторых случаях глубокое копирование может оказаться слишком глубоким. Например, объекты могут ссылаться на внешние ресурсы или на синглтоны, которые копировать не следует. Поведением функций copy и deepcopy можно управлять, реализовав специальные методы __copy__() и __deepcopy__(), как описано в документации по модулю copy (http://docs.python.org/3/library/copy.html).

Разделение ссылок на объекты посредством синонимов объясняет также механизм передачи параметров в Python и решает проблему использования изменяемых типов для параметров по умолчанию. Эти вопросы мы рассмотрим далее.

Параметры функций как ссылки

Единственный способ передачи параметров в Python — вызов по соиспользованию (call by sharing). Он используется в большинстве объектно-ориентированных языков, в том числе Ruby, SmallTalk и Java (это относится к ссылочным типам Java, параметры примитивных типов передаются по значению). Вызов по соиспользованию означает, что каждый формальный параметр функции получает копию ссылки на фактический аргумент. Иначе говоря, внутри функции параметры становятся синонимами фактических аргументов.

В результате функция получает возможность модифицировать любой изменяемый объект, переданный в качестве параметра, но не может заменить объект другим, не тождественным ему. В примере 8.11 показана простая функция, применяющая оператор += к одному из своих параметров. Результат зависит от того, что передано в качестве фактического аргумента: число, список или кортеж.

Пример 8.11. Функция может модифицировать любой переданный ей изменяемый объект

>>> def f(a, b):
...     a += b
...     return a
...
>>> x = 1
>>> y = 2
>>> f(x, y)
3
>>> x, y
(1, 2)
>>> a = [1, 2]
>>> b = [3, 4]
>>> f(a, b)
[1, 2, 3, 4]
>>> a, b