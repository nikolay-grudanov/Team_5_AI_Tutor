---
source_image: page_372.png
page_number: 372
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 62.33
tokens: 12009
characters: 2436
timestamp: 2025-12-24T01:52:04.556872
finish_reason: stop
---

Глава 11. Интерфейсы: от протоколов до абстрактных базовых...

А тем временем я читал, что Юкихиро «Мац» Мацумото, создатель Ruby, в сентябре 2014 года высказался в том смысле, что статическая типизация может появиться в будущих версиях языка. Это случилось на конференции Ruby Kaigi в Японии, одной из самых значимых ежегодных конференций по Ruby. Я пока не видел записи его выступления, но Годфри Чан написал об этом в своем блоге: «Ruby Kaigi 2014: день 2» (http://brewhouse.io/blog/2014/09/19/ruby-kaigi-2014-day-2). Из отчета Чана следует, что Мац думает в направлении аннотаций функций. Упоминались даже аннотации функций в Python.

Интересно, удастся ли сделать аннотации функций без ABC достаточно хорошим механизмом структуризации системы типов без потери гибкости. Так что может статься, что формальные интерфейсы — это и будущее Ruby.

Я полагаю, что ABC в Python, с функцией register и методом __subclasshook__, привнесли формальные интерфейсы в язык, не жертвуя преимуществами динамической типизации. Быть может, гуси и утки смогут уравновесить друг друга.

Метафоры и идиомы в интерфейсах

Метафора способствует пониманию, делая ясными ограничения. В этом ценность слов «стек»22 и «очередь» в описании соответствующих фундаментальных структур данных: благодаря им понятно, как добавляются и удаляются элементы. С другой стороны, Алан Купер (Alan Cooper) в книге «About Face», издание 4 (Wiley), пишет:

Строгая приверженность метафорам слишком тесно — без всякой на то необходимости — связывает интерфейсы с явлениями материального мира.

Он имел в виду пользовательские интерфейсы, но совет в равной мере относится и к API. Но Купер благосклонно относится к «действительно подходящим» метафорам, «будто упавшим с небес» и не возражает против их использования (он пишет «будто упавшим с небес», потому что найти хорошую метафору настолько трудно, что не стоит тратить время на их целенаправленный поиск). Мне кажется, что образ машины для игры в бинго, который я использовал в этой главе, удачен, и я остался верен ему.

«About Face» — пожалуй, лучшая из прочитанных мной книг о пользовательском интерфейсе, — а я прочел не только ее. И одна из самых

22 Слово «stack» (букв. стопка) на заре развития программирования в СССР переводили как «магазин» (термин до сих пор сохранился в теории автоматов), и это была очевидная метафора автоматного рожка. Жаль, что теперь его переводят бесцветной калькой «стек». — Прим. перев.