---
source_image: page_277.png
page_number: 277
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 52.73
tokens: 11885
characters: 2091
timestamp: 2025-12-24T01:47:37.976060
finish_reason: stop
---

Форматирование при выводе

```python
>>> '1 BRL = {rate:0.2f} USD'.format(rate=brl) # ②
'1 BRL = 0.41 USD'
```

① Спецификатор формата '0.4f'.
② Спецификатор формата '0.2f'. Подстрока 'rate' в поле подстановки называется именем поля. Она не связана со спецификатором формата, а определяет, какой аргумент метода .format() попадает в это поле подстановки.

Код, помеченный вторым маркером, — демонстрация важного момента: в форматной строке, например '{0.mass:5.3e}' мы видим две совершенно разных нотации. Часть '0.mass' слева от двоеточия — это имя поля подстановки field_name, а часть '5.3e' после двоеточия — спецификатор формата. Нотация, применяемая в спецификаторе формата, называется также миниязыком спецификации формата (http://bit.ly/1Gt4vJF).

Если вы раньше не встречались с format() и str.format(), то хочу сказать, что мой опыт преподавания показывает, что лучше сначала изучить функцию format(), в которой используется только миниязык спецификации формата. Освоив его, переходите к синтаксису форматной строки (http://bit.ly/1Gt4vJF) и разберитесь с нотацией поля подстановки {:}, используемой в методе str.format() (включая флаги преобразования !s, !r и !a).

Для нескольких встроенных типов в миниязыке спецификации формата предусмотрены специальные коды представления. Например, для типа int поддерживаются (среди прочих) коды b и x, обозначающие соответственно основание 2 и 16, а для типа float — код f для вывода значения с фиксированной точкой и % для вывода в виде процента:

```python
>>> format(42, 'b')
'101010'
>>> format(2/3, '.1%')
'66.7%'
```

Миниязык спецификации формата расширяемый, потому что каждый класс может интерпретировать аргумент format_spec, как ему вздумается. Например, классы из модуля datetime пользуются одними и теми же форматными кодами в функции strftime() и в своих методах __format__. Вот несколько примеров применения встроенной функции format() и метода str.format():

```python
>>> from datetime import datetime
>>> now = datetime.now()
>>> format(now, '%H:%M:%S')
'18:49:05'
>>> "Сейчас {:%I:%M %p}".format(now)
"Сейчас 06:49 PM"
```