---
source_image: page_346.png
page_number: 346
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.49
tokens: 11726
characters: 1733
timestamp: 2025-12-24T01:50:22.427677
finish_reason: stop
---

Глава 11. Интерфейсы: от протоколов до абстрактных базовых...

терминах открытого интерфейса класса, поэтому для работы им не нужны никакие знания о внутренней структуре экземпляров.

![UML-диаграмма класса MutableSequence и его суперклассов](https://i.imgur.com/3Q5z5QG.png)

Рис. 11.2. UML-диаграмма класса MutableSequence и его суперклассов из модуля collections.abc. Стрелки направлены от подклассов к суперклассам. Курсивом набраны имена абстрактных классов и методов

Кодировщику конкретного подкласса иногда приходится переопределять методы, унаследованные от ABC, предоставляя более эффективную реализацию. Например, унаследованный метод __contains__ просматривает всю последовательность, но если в конкретной последовательности элементы всегда отсортированы, то можно написать более быстрый вариант __contains__, который будет производить двоичный поиск с помощью функции bisect (см. раздел «Средства работы с упорядоченными последовательностями в модуле bisect» главы 2).

Чтобы работать с ABC, нужно знать, что есть в нашем распоряжении. Далее мы рассмотрим ABC коллекций.

ABC в стандартной библиотеке

Начиная с версии Python 2.6, ABC включены в стандартную библиотеку. Большая их часть определена в модуле collections.abc, но есть и другие. Например, ABC можно найти в пакетах numbers и io. Но все-таки большинство наиболее употребительных находятся в collections.abc. Посмотрим, что там есть.

ABC в модуле collections.abc

В стандартной библиотеке есть два модуля с именем abc. Мы сейчас говорим о модуле collections.abc. Чтобы уменьшить время загрузки, в версии Python 3.4 он находится не в пакете collections, а в файле Lib/_collections_abc.py (http://bit.ly/1QOA3Lt), поэтому импортируется отдельно от collections.