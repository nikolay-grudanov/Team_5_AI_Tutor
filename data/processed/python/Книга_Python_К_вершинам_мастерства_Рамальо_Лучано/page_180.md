---
source_image: page_180.png
page_number: 180
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.94
tokens: 11773
characters: 1993
timestamp: 2025-12-24T01:43:03.974505
finish_reason: stop
---

6 Вызов sig.bind(**my_tag) возбуждает исключение TypeError с сообщением об отсутствующем параметре name.

На этом примере видно, как модель данных Python — посредством модуля inspect — раскрывает механизм, которым пользуется сам интерпретатор для связывания аргументов с формальными параметрами при вызове функции.

Каркасы и инструментальные средства, например IDE, могут использовать эту информацию для проверки правильности кода. Еще одно появившееся в Python 3 средство, аннотации функций, открывает дальнейшие возможности на этом пути.

Аннотации функций

В Python 3 появился синтаксис для присоединения метаданных к параметрам и возвращаемому значению в объявлении функции. В примере 5.19 показана аннотированная версия примера 5.15. Отличается только первая строка.

Пример 5.19. Аннотированная функция clip

def clip(text: str, max_len: 'int > 0'=80) -> str:
    """Return text clipped at the last space before or after max_len
    """
    end = None
    if len(text) > max_len:
        space_before = text.rfind(' ', 0, max_len)
        if space_before >= 0:
            end = space_before
    else:
        space_after = text.rfind(' ', max_len)
        if space_after >= 0:
            end = space_after
    if end is None: # no spaces were found
        end = len(text)
    return text[:end].rstrip()

1 Аннотированное объявление функции.

У любого аргумента в объявлении функции может быть выражение аннотации, которому предшествует двоеточие :. Если у аргумента имеется значение по умолчанию, то аннотация располагается между именем аргумента и знаком =. Чтобы аннотировать возвращаемое значение, поместите -> и вслед за ним выражение между знаком ) и двоеточием в конце объявления функции. Тип выражения может быть любым. Чаще всего в аннотациях встречаются классы, например str или int, а также строки, например 'int > 0', как в аннотации параметра max_len в примере 5.19.

Аннотации никак не обрабатываются. Они просто сохраняются в атрибуте функции __annotations__ типа dict: