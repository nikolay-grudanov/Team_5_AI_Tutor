---
source_image: page_397.png
page_number: 397
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.78
tokens: 11710
characters: 1686
timestamp: 2025-12-24T01:53:01.543819
finish_reason: stop
---

ГЛАВА 13.
Перегрузка операторов: как правильно?

Есть вещи, которые меня смущают, например перегрузка операторов. Я принял волевое решение исключить перегрузку операторов из языка, потому что видел много примеров злоупотребления этой возможностью в C++¹.

— Джеймс Гослинг, создатель Java

Перегрузка операторов позволяет применять инфиксные операторы (например, + и |) и унарные операторы (например, - и ~) к объектам пользовательских типов. Вообще говоря, вызов функции (()) , доступ к атрибутам (.) и операция доступа к элементам или получения среза ([ ]) в Python также являются операторами, но эта глава посвящена только унарным и инфиксным операторам.

В разделе «Эмуляция числовых типов» главы 1 мы видели тривиальные реализации операторов в наброске класса Vector. Методы __add__ и __mul__ в примере 1.2 были написаны, для того чтобы показать, как специальные методы поддерживают перегрузку операторов, но в их реализации есть тонкие проблемы, на которые мы тогда не стали обращать внимания. Кроме того, в примере 9.2 мы отметили, что в реализации метода Vector2d.__eq__ предполагается истинным равенство Vector(3, 4) == [3, 4] — иногда это имеет смысл, а иногда нет. Эти вопросы станут предметом настоящей главы.

Мы рассмотрим следующие темы:

• как в Python поддерживаются инфиксные операторы с операндами разных типов;
• использование динамической типизации или явной проверки типов при работе с операндами разных типов;
• как инфиксный оператор должен сообщить о том, что не может обработать операнд;

¹ Источник: «Семейство языков, производных от С: интервью с Дэннисом Ритчи, Бьярном Струпом и Джеймсом Гослингом» (http://www.gotw.ca/publications/c_family_interview.htm).