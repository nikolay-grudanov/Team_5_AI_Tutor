---
source_image: page_472.png
page_number: 472
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 17.17
tokens: 11423
characters: 799
timestamp: 2025-12-24T01:56:23.706639
finish_reason: stop
---

Минималистский интерфейс итератора в Python

В разделе «Реализация» главы о паттерне Итератор книги «банды четырех» написано:

Минимальный интерфейс класса Iterator состоит из операций First, Next, IsDone и CurrentItem.

Однако к этому предложению относится такая сноска:

Этот интерфейс можно и еще уменьшить, если объединить операции Next, IsDone и CurrentItem в одну, которая будет переходить к следующему объекту и возвращать его. Если обход завершен, то эта операция вернет специальное значение (например, 0), обозначающее конец итерации.

Это близко к тому, что мы имеем в Python: всю работу делает один метод __next__. Но вместо специального значения, на которое по ошибке можно не обратить внимания, о конце итерации возвещает исключение StopIteration. Просто и правильно: таков путь Python.