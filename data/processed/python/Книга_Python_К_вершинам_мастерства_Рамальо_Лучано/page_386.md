---
source_image: page_386.png
page_number: 386
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 56.09
tokens: 12014
characters: 2744
timestamp: 2025-12-24T01:52:46.677200
finish_reason: stop
---

Глава 12. Наследование: хорошо или плохо

не определяет нового типа, а просто служит контейнером общеполезных методов. Примесь никогда не инстанцируется, и конкретные классы не должны ей наследовать. Каждая примесь должна определять четко очерченное поведение, реализуя несколько очень тесно связанных методов.

4. Явно выделяйте примеси с помощью именования

В Python нет формального способа сказать, что класс является примесью, поэтому рекомендуется включать в имя такого класса суффикс ...Mixin. Tkinter не следует этому совету, а если бы следовал, то XView назывался бы XViewMixin, Pack — PackMixin и так для всех классов, которые я пометил стереотипом «mixin» на рис. 12.3.

5. ABC также может быть примесью; обратное неверно

Поскольку ABC может содержать конкретные методы, он способен выступать в роли примеси. Но ABC также определяет тип, примесь — нет. И ABC может быть единственным базовым классом другого класса, а подклассом одной лишь примеси может быть разве что другая, более специализированная, примесь — в реальных программах такое встречается нечасто.

На ABC налагается одно ограничение, не относящееся к примесям: конкретные методы, реализованные в ABC, могут взаимодействовать только с методами, определенными в том же ABC или его суперклассах. Отсюда следует, что конкретные методы в ABC всегда служат лишь для удобства, так как все, что они делают, пользователь класса может сделать, вызывая другие методы ABC.

6. Не наследуйте сразу нескольким конкретным классам

У конкретных классов должно быть не более одного конкретного суперкласса6. Другими словами, все суперклассы конкретного класса, кроме разве что одного, должны быть либо ABC, либо примесями. Так в следующем фрагменте, если Alpha — конкретный класс, то Beta и Gamma должны быть ABC или примесями:

class MyConcreteClass(Alpha, Beta, Gamma):
    """Это конкретный класс: его можно инстанцировать."""
    # ... какой-то код ...

7. Предоставляйте пользователям агрегатные классы

Если какая-то комбинация ABC или примесей может быть особенно полезна в клиентском коде, предоставьте класс, который объединяет их разумным образом. Грейди Буч называет такие классы агрегатными7.

6 Во вставном эссе «Водоплавающие птицы и ABC» на стр. 345 Алекс Мартелли приводит цитату из книги Скотта Мейерса «Более эффективное использование C++», в которой высказано еще более радикальное мнение: «все нелистовые классы должны быть абстрактными» (т. е. у конкретных классов вообще не должно быть конкретных суперклассов).
7 «Класс, который строится главным образом путем наследования примесям и не добавляет никакой структуры или поведения, называется агрегатным классом», Grady Booch et al. «Object Oriented Analysis and Design», издание 3 (Addison-Wesley, 2007), стр. 109.