---
source_image: page_209.png
page_number: 209
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.37
tokens: 11670
characters: 1630
timestamp: 2025-12-24T01:44:10.792083
finish_reason: stop
---

Краткое введение в декораторы

• реализация корректно ведущего себя декоратора;
• интересные декораторы в стандартной библиотеке;
• реализация параметризованного декоратора.

Начнем с самых базовых понятий, относящихся к декораторам, а затем обратимся к остальным перечисленным выше темам.

Краткое введение в декораторы

Декоратор — это вызываемый объект, который принимает другую функцию в качестве аргумента (декорируемую функцию)1. Декоратор может производить какие-то операции с функцией и возвращает либо ее саму, либо другую заменяющую ее функцию или вызываемый объект.

Иначе говоря, в предположении, что существует декоратор с именем decorate, следующий код:

@decorate
def target():
    print('running target()')

эквивалентен такому:

def target():
    print('running target()')
target = decorate(target)

Конечный результат одинаков: в конце обоих фрагментов имя target необязательно ссылается на исходную функцию target, это может быть любая другая функция, возвращенная в результате вызова decorate(target).

Чтобы убедиться, что декорируемая функция действительно заменена, рассмотрим сеанс оболочки в примере 7.1.

Пример 7.1. Декоратор обычно заменяет одну функцию другой

>>> def deco(func):
...     def inner():
...         print('running inner()')
...     return inner
...
>>> @deco
... def target():   ②
...     print('running target()')
...
>>> target()      ③
running inner()
>>> target        ④
<function deco.<locals>.inner at 0x10063b598>

① deco возвращает свой внутренний объект-функцию inner.
② target декорирована deco.

1 Python поддерживает также декораторы классов. Они рассматриваются в главе 21.