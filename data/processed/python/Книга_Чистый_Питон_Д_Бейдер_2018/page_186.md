---
source_image: page_186.png
page_number: 186
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.55
tokens: 7468
characters: 1937
timestamp: 2025-12-24T02:31:39.568824
finish_reason: stop
---

list — простые встроенные стеки

Встроенный в Python тип list создает нормальную стековую структуру данных, поскольку он поддерживает операции вталкивания и выталкивания за амортизируемое \( O(1) \) время¹.

На внутреннем уровне списки Python реализованы как динамические массивы, а значит, при добавлении или удалении элементов им время от времени нужно изменять пространство оперативной памяти для хранящихся в них элементов. Список выделяет избыточную резервную память, с тем чтобы не каждая операция вталкивания и выталкивания требовала изменения размера памяти, и, как результат, для этих операций вы получаете амортизируемую временную сложность \( O(1) \).

Недостаток же состоит в том, что это делает показатели их производительности менее надежными, чем стабильные вставки и удаления с временной сложностью \( O(1) \), которые обеспечиваются реализацией на основе связного списка (такого, как collections.deque, см. ниже). С другой стороны, списки реально обеспечивают быстрый (со временем \( O(1) \)) произвольный доступ к элементам в стеке, и это может быть дополнительным преимуществом.

Используя списки в качестве стеков, необходимо учитывать одно важное предостережение относительно производительности.

Чтобы получить производительность с амортизируемым временем \( O(1) \) для вставок и удалений, новые элементы должны добавляться в конец списка методом append() и снова удалятся из конца методом pop(). Для оптимальной производительности стеки на основе списков Python должны расти по направлению к более высоким индексам и сжиматься к более низким.

Добавление и удаление элементов в начале списка намного медленнее и занимает \( O(n) \) времени, поскольку существующие элементы должны сдвигаться, чтобы создать место для нового элемента. Такого антишаблона производительности следует избегать.

¹ См. документацию Python «Использование списков в качестве стеков»: https://docs.python.org/3/tutorial/datastructures.html