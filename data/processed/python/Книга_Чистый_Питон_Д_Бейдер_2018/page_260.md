---
source_image: page_260.png
page_number: 260
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.84
tokens: 7388
characters: 1521
timestamp: 2025-12-24T02:33:27.987038
finish_reason: stop
---

интерпретатора Python. Вы будете вознаграждены расширением своих познаний о внутренних механизмах языка Python.

Ключевые выводы

☐ Словари рассматривают ключи как идентичные, если результат их сравнения методом __eq__ говорит о том, что они эквивалентны, и если их хеш-значения одинаковы.

☐ Неожиданные конфликты ключей словаря могут и будут приводить к неожиданным результатам.

7.5. Так много способов объединить словари

Вы когда-нибудь конструировали систему конфигурации для одной из ваших программ Python? В таких системах принято принимать структуру данных с параметрами конфигурации, заданными по умолчанию, а затем предоставлять возможность селективно переопределять эти параметры на основе вводимых пользователем данных или некоторого другого источника конфигурации.

Я нередко использовал словари в качестве базовой структуры данных для представления ключей и значений конфигурации. И поэтому мне часто был нужен способ объединения, или слияния (merge), принятых по умолчанию параметров конфигурации с пользовательскими переопределениями в один-единственный словарь с окончательными значениями конфигурации.

Или, обобщая: иногда вам нужен способ объединить два или более словаря в один, чтобы результирующий словарь содержал комбинацию ключей и значений исходных словарей.

В этом разделе я покажу несколько способов сделать это. Сначала посмотрим на простой пример, чтобы можно было что-то обсуждать. Предположим, что у вас имеется два исходных словаря:

>>> xs = {'a': 1, 'b': 2}
>>> ys = {'b': 3, 'c': 4}