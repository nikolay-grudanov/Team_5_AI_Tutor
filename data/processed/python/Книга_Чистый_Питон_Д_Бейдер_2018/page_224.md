---
source_image: page_224.png
page_number: 224
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.42
tokens: 7362
characters: 1480
timestamp: 2025-12-24T02:32:35.789784
finish_reason: stop
---

можем поддерживать обе версии Python, при этом сохраняя все фактические детали реализации в одном месте.

И во-вторых, я модифицировал определение класса, и теперь он наследует от object, чтобы обеспечить создание класса Python 2 в новом стиле. Это изменение не имеет никакого отношения к итераторам, что совершенно понятно, но, тем не менее, является хорошей практикой.

Ключевые выводы

□ Итераторы предоставляют объектам Python интерфейс последовательности, который эффективен с точки зрения потребляемой оперативной памяти и который считается чисто питоновским. Любуйтесь красотой цикла for ... in!

□ Чтобы поддерживать итерации, в объекте должен быть реализован протокол итератора за счет обеспечения дандер-методов __iter__ и __next__.

□ Итераторы на основе класса являются лишь одним из способов написания итерируемых объектов в Python. Следует также рассмотреть генераторы и выражения-генераторы.

6.5. Генераторы — это упрощенные итераторы

В разделе, посвященном итераторам, мы потратили довольно много времени на написание итератора на основе класса. Это было неплохой идеей с точки зрения обучения, но итератор на основе класса также продемонстрировал, что написание класса итератора требует большого объема шаблонного кода. И если говорить по правде, то как «ленивому» разработчику мне не нравится утомительная и однообразная работа.

И все же итераторы очень полезны в Python. Они позволяют писать симпатичные циклы for...in и помогают делать код более питоновским