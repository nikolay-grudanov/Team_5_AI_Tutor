---
source_image: page_237.png
page_number: 237
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.22
tokens: 7347
characters: 1484
timestamp: 2025-12-24T02:32:50.942644
finish_reason: stop
---

...
    for z in zs if condN)

Образец выше переводится в следующую ниже логику функции-генератора:

for x in xs:
    if cond1:
        for y in ys:
            if cond2:
                ...
                for z in zs:
                    if condN:
                        yield expr

И вот здесь я хотел бы разместить большое предостережение.

Пожалуйста, не пишите такие глубоко вложенные выражения-генераторы. В дальнейшем окажется, что их будет очень трудно сопровождать.

Это одна из тех ситуаций, о которых говорят, что «вещество становится ядом, начиная с определенной дозы», где злоупотребление красивым и простым инструментом может создать плохо воспринимаемую и трудно отлаживаемую программу.

Точно так же, как и с включениями в список, лично я стремлюсь избегать любого выражения-генератора, которое содержит более двух уровней вложенности.

Выражения-генераторы являются полезным и питоновским инструментом в вашем наборе, но это не значит, что они должны использоваться для решения каждой задачи, с которой вы сталкиваетесь. В случае составных итераторов часто лучше написать функцию-генератор или даже итератор на основе класса.

Если у вас есть потребность использовать вложенные генераторы и составные условия фильтрации, обычно лучше вынести их в подгенераторы (чтобы им можно было назначить имя) и затем состыковать их в цепочку еще раз, на верхнем уровне. Вы увидите, как это делается, в следующем далее разделе, посвященном цепочкам итераторов (iterator chains).