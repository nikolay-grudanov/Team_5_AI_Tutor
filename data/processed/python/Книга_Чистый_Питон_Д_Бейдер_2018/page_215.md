---
source_image: page_215.png
page_number: 215
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.64
tokens: 7323
characters: 1298
timestamp: 2025-12-24T02:32:17.855762
finish_reason: stop
---

>>> for item in repeater:
...     print(item)

Точно! Вы увидите, как на экране будет напечатано 'Привет'... много раз. Объект repeater продолжает возвращать то же самое строковое значение, и этот цикл никогда не завершится. Наша небольшая программа обречена печатать в консоли 'Привет' до бесконечности:

Привет
Привет
Привет
Привет
Привет
...

И тем не менее примите поздравления — вы только что написали работающий итератор на Python и применили его в цикле for...in. Этот цикл все еще не может завершиться... но пока что все идет неплохо!

Теперь мы разделим этот пример на части, чтобы понять, как методы __init__ и __next__ работают вместе, делая объект Python итерируемым.

Профессиональный совет: если вы выполнили предыдущий пример в сеансе Python REPL или в терминале и хотите его остановить, нажмите сочетание клавиш Ctrl + C несколько раз, чтобы выйти из бесконечного цикла.

Как циклы for-in работают в Python?

На данном этапе у нас есть класс Repeater, который, несомненно, поддерживает протокол итератора, и мы просто выполнили цикл for...in, чтобы это доказать:

repeater = Repeater('Привет')
for item in repeater:
    print(item)

Итак, что же этот цикл for...in в действительности делает за кадром? Как он контактирует с объектом repeater, чтобы доставать из него новые элементы?