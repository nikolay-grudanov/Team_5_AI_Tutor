---
source_image: page_279.png
page_number: 279
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 18.79
tokens: 7312
characters: 1245
timestamp: 2025-12-24T02:33:47.254363
finish_reason: stop
---

Последняя байткодовая инструкция — RETURN_VALUE, которая сообщает виртуальной машине следующее: то, что в настоящее время находится на вершине стека, является возвращаемым значением этой функции, и по-этому оно может быть передано источнику вызова.

И — вуаля! — мы только что проследили за тем, как наша функция greet() была исполнена на внутреннем уровне виртуальной машиной Python. Разве не круто?

Можно еще много рассказывать о виртуальных машинах, но эта книга посвящена не им. Однако если эта захватывающая тема вас заинтриговала, то настоятельно рекомендую заняться ее изучением.

Можно получить массу удовольствия от создания и определения своих собственных байткодовых языков и построения для них небольших экспериментов с использованием виртуальной машины. По этой теме я по-рекомендовал бы книгу Проектирование компиляторов: виртуальные машины (Compiler Design: Virtual Machines, Wilhelm and Seidl).

Ключевые выводы

□ СPython исполняет программы, сначала транслируя их в промежуточный байткод, а затем выполняя байткод на виртуальной машине со стековой архитектурой.

□ Вы можете использовать встроенный модуль dis, чтобы заглянуть за кулисы и проинспектировать байткод.

□ Займитесь плотнее виртуальными машинами — оно того стоит.