---
source_image: page_115.png
page_number: 115
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.59
tokens: 7355
characters: 1608
timestamp: 2025-12-24T02:30:07.138144
finish_reason: stop
---

File "<input>", line 1, in <module>
    validate('джо')
File "<input>", line 3, in validate
    raise

Этот отчет не очень-то и полезен. Несомненно, мы знаем, что что-то пошло не так и что проблема имела отношение к «неправильному значению» или типа того, но чтобы быть в состоянии исправить эту проблему, ваш коллега почти наверняка должен свериться с реализацией функции validate(). Однако чтение исходного кода стоит времени. И это время будет быстро накапливаться.

К счастью, мы можем сделать и кое-что получше. Введем собственный тип исключений, который будет представлять неудавшуюся валидацию имени. Мы построим наш новый класс-исключение на основе встроенного в Python класса ValueError, но заставим его говорить за себя, дав ему более конкретное имя:

class NameTooShortError(    ):
    pass

def validate(name):
    if len(name) < 10:
        raise NameTooShortError(name)

Теперь у нас есть «самодокументирующий» тип исключений NameTooShortError («Имя слишком короткое»), который расширяет встроенный класс ValueError. Обычно вы будете делать свои собственные исключения производными от корневого класса Exception либо от других встроенных в Python исключений наподобие ValueError или TypeError — в зависимости от того, что кажется целесообразным.

Кроме того, обратите внимание на то, как мы теперь передаем переменную name в конструктор нашего собственного класса-исключения во время создания его экземпляра внутри validate. Новая реализация приводит к тому, что ваш коллега получит намного более приятный отчет об обратной трассировке:

>>> validate('джейн')
Traceback (most recent call last):