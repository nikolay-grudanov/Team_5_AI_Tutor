---
source_image: page_243.png
page_number: 243
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.22
tokens: 7362
characters: 1434
timestamp: 2025-12-24T02:33:03.616191
finish_reason: stop
---

является допустимым ключом в словаре name_for_userid. Если в функцию greeting передать недопустимый идентификатор пользователя, то она вызовет исключение:

```python
>>> greeting(382)
'Привет, Элис!'
```

```python
>>> greeting(33333333)
    : 33333333
```

Исключение KeyError — это совсем не тот результат, который мы хотели бы видеть. Было бы намного лучше, если бы в качестве запасного варианта функция возвращала универсальное приветствие, если идентификатор пользователя не может быть найден.

Давайте реализуем эту идею. Наш первый подход мог бы заключаться в простой проверке принадлежности в формате ключ в словаре (key in dict) и возврате приветствия по умолчанию, если идентификатор пользователя неизвестен:

```python
def greeting(userid):
    if userid in name_for_userid:
        return 'Привет, %s!' % name_for_userid[userid]
    else:
        return 'Привет всем!'
```

Давайте посмотрим, как эта реализация функции greeting() проявит себя с нашими предыдущими тестовыми случаями:

```python
>>> greeting(382)
'Привет, Элис!'
```

```python
>>> greeting(33333333)
'Привет всем!'
```

Намного лучше. Мы теперь получаем универсальное приветствие для неизвестных пользователей, и мы поддерживаем персонализированное приветствие, когда допустимый идентификатор пользователя найден.

Но все равно есть простор для совершенствования. Несмотря на то что эта новая реализация дает нам ожидаемые результаты и выглядит небольшой