---
source_image: page_236.png
page_number: 236
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.44
tokens: 7312
characters: 1295
timestamp: 2025-12-24T02:32:47.980110
finish_reason: stop
---

Встраиваемые выражения-генераторы

Поскольку выражения-генераторы являются, скажем так, выражениями, вы можете их использовать в одной строке вместе с другими инструкциями. Например, вы можете определить итератор и употребить его прямо на месте при помощи цикла for:

for x in ('Buongiorno' for i in range(3)):
    print(x)

Есть и другой синтаксический трюк, который можно использовать для того, чтобы сделать выражения-генераторы красивее. Круглые скобки, окружающие выражение-генератор, могут быть опущены, если выражение-генератор используется в качестве единственного аргумента функции:

>>> sum((x * 2 for x in range(10)))
90

# Сравните с:

>>> sum(x * 2 for x in range(10))
90

Это позволяет писать сжатый и высокопроизводительный код. Поскольку выражения-генераторы генерируют значения «точно в срок» подобно тому, как это делает итератор на основе класса или функция-генератор, они эффективно используют оперативную память.

Слишком много хорошего...

Как и включения в список, выражения-генераторы оставляют место для большей сложности, чем та, которую мы рассмотрели на данный момент. Посредством вложенных циклов for и состыкованных в цепочки формул фильтрации они могут охватывать более широкий диапазон вариантов использования:

(expr for x in xs if cond1
    for y in ys if cond2