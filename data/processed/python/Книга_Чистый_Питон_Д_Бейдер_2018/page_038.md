---
source_image: page_038.png
page_number: 38
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.26
tokens: 7357
characters: 1517
timestamp: 2025-12-24T02:28:10.834870
finish_reason: stop
---

Ключевые выводы

□ Продуманное форматирование и размещение запятой может упростить обслуживание ваших констант списка, словаря или множества.

□ Конкатенация строковых литералов как функциональное средство Python может работать как на вас, так и против, внося в код трудноотлавливаемые ошибки.

2.3. Менеджеры контекста и инструкция with

Некоторые разработчики считают инструкцию Python with малопонятным функциональным средством языка. Но когда вы заглянете за кулисы, то увидите, что никаких танцев с бубнами там нет и она действительно является весьма полезным функциональным средством, которое содействует написанию более чистого и более удобочитаемого программного кода Python.

Итак, в чем же прелесть инструкции with? Она помогает упростить некоторые распространенные шаблоны управления ресурсами, абстрагируясь от их функциональности и позволяя выделять их и использовать повторно.

Один из хороших способов увидеть эффективное применение данного функционального средства языка — посмотреть на примеры в стандартной библиотеке Python. Встроенная функция open() предоставляет пре-восходный вариант ее применения:

with open('hello.txt', 'w') as f:
    f.write('привет, мир!')

Существует общая рекомендация открывать файлы, используя инструкцию with. Это связано с тем, что она гарантирует автоматическое закрытие дескрипторов открытых файлов после того, как выполнение программы покидает контекст инструкции with. На внутреннем уровне вышеупомянутый пример кода сводится примерно к следующему фрагменту кода: