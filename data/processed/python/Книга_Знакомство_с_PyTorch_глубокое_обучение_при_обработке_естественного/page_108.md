---
source_image: page_108.png
page_number: 108
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.51
tokens: 7515
characters: 1855
timestamp: 2025-12-24T02:24:04.103714
finish_reason: stop
---

Сложно сразу понять, сколько каналов нужно для решения имеющейся задачи. Для упрощения предположим, что их количество ограничено одним снизу и 1024 сверху. Определившись с этими ограничениями, можно приступить к выяснению количества входных каналов. Часто используется паттерн проектирования, согласно которому от одного до другого сверточного слоя число каналов не может меняться более чем в два раза. Это правило нельзя считать непреложным, но с его помощью можно составить представление о том, каким должно быть значение out_channels.

Размер ядра

Ширина матрицы ядра называется размером ядра (параметр kernel_size в PyTorch). На рис. 4.6 размер ядра был равен 2, а на рис. 4.9 мы покажем ядро размером 3. Вы должны уяснить себе, что свертка приводит к пространственному (или временному) объединению локальной информации из входных данных, причем количество локальной информации в каждой из операций свертки определяется размером ядра. Однако при увеличении размера ядра размер выходных данных уменьшается (см. книгу Дюмулена и Визина [Dumoulin, Visin, 2016]). Именно поэтому размер выходной матрицы на рис. 4.9 составляет 2 × 2, где размер ядра равен 3, а на рис. 4.6 — 3 × 3, где размер ядра равен 2.

![Входная матрица и сверточное ядро → Ядро применяется к входной матрице → Выходная матрица](../images/chapter4/fig4_9.png)

Рис. 4.9. К входной матрице применяется операция свертки с kernel_size=3. В результате достигается компромисс: при каждом применении ядра к матрице используется больше локальной информации, но размер выходной матрицы меньше

Кроме того, поведение размера ядра в NLP-приложениях в каком-то смысле аналогично поведению n-грамм, захватывающих паттерны языка путем анализа групп слов. Чем меньше размеры ядер, тем меньше и более часто встречающиеся паттерны захватываются, в то время как большие размеры ядер приводят к захва-