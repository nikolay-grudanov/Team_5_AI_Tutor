---
source_image: page_440.png
page_number: 440
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.49
tokens: 7748
characters: 2444
timestamp: 2025-12-24T01:21:11.585289
finish_reason: stop
---

>>> for x in [1, 2, 3, 4]: print(x ** 2, end=' ') # В Python 2.x: print x ** 2,
...
1 4 9 16

>>> for x in (1, 2, 3, 4): print(x ** 3, end=' ')
...
1 8 27 64

>>> for x in 'spam': print(x * 2, end=' ')
...
ss pp aa mm

На самом деле цикл for способен быть даже более универсальным — он работает на любом итерируемом объекте. Фактически сказанное справедливо для всех итерационных инструментов в Python, которые просматривают объекты слева направо, в том числе циклов for, рассматриваемых в этой главе списковых включений, проверок членства in, встроенной функции map и т.д.

Концепция "итерируемых объектов" появилась в Python относительно недавно, но она буквально пронизывает всю языковую модель. По существу она представляет собой обобщение понятия последовательностей — объект считается итерируемым, если он является или физически хранящейся последовательностью, или объектом, который производит по одному результату за раз в контексте итерационного инструмента, подобного циклу for. В определенном смысле итерируемые объекты включают и физические последовательности, и виртуальные последовательности, вычисляемые по требованию.

Терминология в данной теме отличается некоторой свободой. При ссылке на объект, который вообще поддерживает итерацию, термины "итерируемый объект" и "итератор" временами используются взаимозаменяемо. Ради ясности в книге отдается предпочтение применению термина итерируемый объект в отношении объекта, поддерживающего вызов iter, и термина итератор для ссылки на объект, который возвращается вызовом iter на итерируемом объекте и поддерживает вызов next(I). Оба вызова определяются далее.

Тем не менее, принятое соглашение не является универсальным ни в мире Python, ни в настоящей книге; "итератор" также используется для обозначения инструментов, которые выполняют итерацию. В главе 20 данная категория расширяется термином "генератор", который относится к объектам, автоматически поддерживающим протокол итерации, и потому итерируемым — даже притом, что все итерируемые объекты генерируют результаты!

Протокол итерации: итераторы файловых объектов

Протокол итерации легче всего понять, посмотрев, как он работает со встроенным типом, таким как файл. Для демонстрационных целей в этой главе мы будем применять следующий входной файл:

>>> print(open('script2.py').read())
import sys
print(sys.path)
x = 2
print(x ** 32)

>>> open('script2.py').read()
'import sys\nprint(sys.path)\nx = 2\nprint(x ** 32)\n'