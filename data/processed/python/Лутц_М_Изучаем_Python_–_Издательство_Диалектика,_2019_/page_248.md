---
source_image: page_248.png
page_number: 248
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.09
tokens: 7884
characters: 3025
timestamp: 2025-12-24T01:14:51.390505
finish_reason: stop
---

метод обладает рядом дополнительных возможностей (вроде разделителей тысяч), а выражение часто лаконичнее и выглядит второй натурой у большинства программистов на Python.

В самой книге в целях иллюстрации в более поздних примерах используются оба приема. Если у автора и есть предпочтение, то он будет в основном держать его в секрете за исключением цитаты из девиза Python, доступного через import this: Должен быть один — и предпочтительно только один — очевидный способ делать это.

Если более новый метод форматирования строк не будет значительно лучше первоначального и широко применяемого выражения, то вызванное им удвоение требований в базе знаний программистов на Python в данной области представляется неоправданным — и даже не характерным для Python. Программисты не обязаны изучать два сложных инструмента, если они во многом пересекаются. Разумеется, вы должны самостоятельно судить о том, заслуживает ли новый способ форматирования добавления к языку, так что давайте беспристрастно обсудим оба способа.

Основы выражений форматирования

Поскольку выражения форматирования строк появились первыми, мы начнем с них. В Python определена бинарная операция % для работы со строками (вы можете вспомнить, что она также вычисляет остаток от деления, или модуль, в случае использования с числами). Когда операция % применяется к строкам, она предоставляет простую методику форматирования значений в виде строк согласно определению формата. Вкратце операция % предлагает компактный способ записи для множества подстановок строк одновременно вместо создания и конкатенации отдельных частей.

Чтобы сформатировать строку, выполните следующие действия.

1. Слева от операции % укажите строку формата, содержащую одну или более встроенных целей преобразования, каждая из которых начинается с % (например, %d).
2. Справа от операции % укажите объект (или объекты, внедренные в кортеж), который необходимо вставить в строку формата слева на месте цели (или целей) преобразования.

Скажем, в примере форматирования, приведенном ранее в главе, целое число 1 заменяет %d в строке формата слева, а строка 'dead' заменяет %s. Результатом будет новая строка, отражающая описанные две подстановки, которую можно вывести или сохранить для дальнейшего использования:

```python
>>> 'That is %d %s bird!' % (1, 'dead')    # Выражение формата
That is 1 dead bird!
```

Говоря формально, выражения форматирования строк обычно необязательны — в целом вы можете делать похожую работу с помощью множества конкатенаций и преобразований. Однако форматирование позволяет объединить много шагов в единственную операцию. Оно достаточно мощное, чтобы служить оправданием для нескольких дополнительных примеров:

```python
>>> exclamation = 'Ni'
>>> 'The knights who say %s!' % exclamation    # Подстановка строки
'The knights who say Ni!'
>>> '%d %s %g you' % (1, 'spam', 4.0)    # Подстановки, специфичные для типов
'1 spam 4 you'
>>> '%s -- %s -- %s' % (42, 3.14159, [1, 2, 3]) # Все типы соответствуют цели %s
'42 -- 3.14159 -- [1, 2, 3]'
```