---
source_image: page_262.png
page_number: 262
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.38
tokens: 7889
characters: 2912
timestamp: 2025-12-24T01:15:24.278498
finish_reason: stop
---

пользователей. Некоторые программисты предпочли бы научиться кодировать алгоритм для вставки запятых, чем получить в свое распоряжение готовый инструмент.

Оставив в стороне философские рассуждения, отметим, что с практической точки зрения совокупным эффектом отмеченной тенденции в этом случае оказывается дополнительный синтаксис, который придется изучить и запомнить. Учитывая имеющиеся альтернативы, не вполне очевидно, что такие дополнительные возможности методов сами по себе достаточно убедительны, чтобы не вызывать сомнений.

Гибкий синтаксис ссылок: дополнительная сложность и частичное совпадение функциональности

Вызов метода format также поддерживает ссылки на ключи и атрибуты напрямую, что некоторые могут посчитать более высокой гибкостью. Но как было показано в предшествующих примерах, сравнивающих форматирование на основе словаря в выражении % и ссылки на атрибуты в методе format, они обычно слишком похожи, чтобы гарантировать предпочтение на этом основании. Например, оба приема позволяют ссылаться на то же самое значение много раз:

```python
>>> '{name} {job} {name}'.format(name='Bob', job='dev')
'Bob dev Bob'
>>> '%(name)s %(job)s %(name)s' % dict(name='Bob', job='dev')
'Bob dev Bob'
```

Однако в обычной практике выражение кажется таким же простым или проще:

```python
>>> D = dict(name='Bob', job='dev')
>>> '{0[name]} {0[job]} {0[name]}'.format(D) # Метод, ссылки на ключи
'Bob dev Bob'
>>> '{name} {job} {name}'.format(**D)        # Метод, аргументы из словаря
'Bob dev Bob'
>>> '%(name)s %(job)s %(name)s' % D          # Выражение, ссылки на ключи
'Bob dev Bob'
```

Справедливости ради следует отметить, что метод имеет еще более специализированный синтаксис подстановки, и другие сравнения могут говорить в пользу одной из методик в небольших масштабах. Но с учетом частичного совпадения функциональности и добавочной сложности можно утверждать, что полезность метода представляется либо незначительной, либо признаком поиска сценариев использования. Во всяком случае, увеличившаяся концептуальная нагрузка на программистов, которым теперь необходимо знать оба инструмента, не выглядит четко оправданной.

Явная ссылка на значения:
теперь необязательна и вряд ли будет применяться

Один сценарий использования, где метод format яснее (по крайней мере, спорно), описывает ситуацию, когда имеется много значений, подлежащих подстановке в строку формата. Скажем, пример класса lister.py из главы 31 подставляет шесть элементов в единственную строку и в данном случае метки позиций {i} метода format выглядят чуть проще для восприятия, чем спецификаторы %s выражения %:

```python
'\n%s<Class %s, address %s:\n%s%s%s>\n' % (...)      # Выражение
'\n{0}<Class {1}, address {2}:\n{3}{4}{5}>\n'.format(...)    # Метод
```

С другой стороны, применение в выражениях % ключей словаря способно уменьшить эту разницу. Вдобавок такой сценарий кое в чем считается худшим случаем в пла-