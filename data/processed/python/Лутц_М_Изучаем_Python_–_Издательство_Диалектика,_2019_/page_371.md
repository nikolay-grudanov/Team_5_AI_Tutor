---
source_image: page_371.png
page_number: 371
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.93
tokens: 7721
characters: 2064
timestamp: 2025-12-24T01:18:53.875233
finish_reason: stop
---

последовательности, но Python присваивает е пустой список вместо трактовки случая как ошибочного:

    >>> a, b, c, d, *e = seq
    >>> print(a, b, c, d, e)
    1 2 3 4 []
    >>> a, b, *e, c, d = seq
    >>> print(a, b, c, d, e)
    1 2 3 4 []

Наконец, в-третьих, ошибки по-прежнему могут возникать, если имен со звездочкой более одного, если обычных имен слишком мало и нет имени, помеченного звездочкой, и если имя со звездочкой само не записано внутри последовательности:

    >>> a, *b, c, *d = seq
    SyntaxError: two starred expressions in assignment
    Ошибка синтаксиса: два имени со звездочкой в присваивании

    >>> a, b = seq
    ValueError: too many values to unpack (expected 2)
    Ошибка значения: слишком много значений для распаковки (ожидалось 2)

    >>> *a = seq
    SyntaxError: starred assignment target must be in a list or tuple
    Ошибка синтаксиса: имя со звездочкой должно находиться в списке или кортеже

    >>> *a, = seq
    >>> a
    [1, 2, 3, 4]

Полезное удобство

Имейте в виду, что присваивание последовательности с расширенной распаковкой — это всего лишь удобство. Мы обычно в состоянии достичь тех же результатов с помощью явной индексации и нарезания (и фактически обязаны поступать так в Python 2.x), но расширенную распаковку проще записывать. Например, распространенный кодовый шаблон разбиения "первый, остальные" может быть записан любым из двух способов, но с нарезанием связана дополнительная работа:

    >>> seq
    [1, 2, 3, 4]
    >>> a, *b = seq        # Первый, остальные
    >>> a, b
    (1, [2, 3, 4])
    >>> a, b = seq[0], seq[1:]   # Первый, остальные: традиционный способ
    >>> a, b
    (1, [2, 3, 4])

Также часто встречающийся шаблон разбиения "остальные, последний" аналогично может быть записан любым из двух способов, но новый синтаксис расширенной распаковки требует заметно меньшего объема набора:

    >>> *a, b = seq        # Остальные, последний
    >>> a, b
    ([1, 2, 3], 4)
    >>> a, b = seq[:-1], seq[-1]   # Остальные, последний: традиционный способ
    >>> a, b
    ([1, 2, 3], 4)