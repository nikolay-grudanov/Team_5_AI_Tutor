---
source_image: page_211.png
page_number: 211
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.39
tokens: 7884
characters: 3077
timestamp: 2025-12-24T01:13:34.801178
finish_reason: stop
---

Типы обитают в объектах, не в переменных

Чтобы посмотреть, как объекты вступают в игру, проследим за происходящим во время многократного присваивания переменной:

```python
>>> a = 3        # Переменная является целым числом
>>> a = 'spam'   # Теперь она стала строкой
>>> a = 1.23     # А теперь - числом с плавающей точкой
```

Код нельзя считать типичным для языка Python, но он работает — переменная a начинает свое существование как целое число, затем становится строкой и, наконец, числом с плавающей точкой. Особенно странным пример покажется бывшим программистам на C, поскольку он выглядит так, будто бы тип a изменяется с целочисленного на строковый, когда вводится a = 'spam'.

Тем не менее, на самом деле тут происходит кое-что другое. В Python все гораздо проще. Имена не имеют типов; как утверждалось ранее, типы обитают в объектах, не в именах. В предыдущем листинге мы лишь изменяем a для ссылки на другие объекты. Из-за того, что переменные не имеют типов, мы в действительности не изменяем тип переменной a; мы просто делаем переменную ссылкой на объект другого типа. Фактически снова мы можем сказать о переменной в Python лишь то, что она ссылается на определенный объект в конкретный момент времени.

С другой стороны, объектам известно, какого они типа — каждый объект содержит заголовочное поле, которое помечает объект его типом. Например, целочисленный объект 3 будет содержать значение 3 плюс обозначение, которое сообщает Python о том, что объект является целым числом (строго говоря, указатель на объект, называемый int, т.е. имя целочисленного типа). Обозначение типа строкового объекта 'spam' взамен указывает на строковый тип (называемый str). Так как объектам известны свои типы, переменным знать их вовсе не обязательно.

Вспомните, что в Python типы ассоциированы с объектами, а не с переменными. В обычном коде заданная переменная, как правило, будет ссылаться лишь на один вид объекта. Но поскольку это не требование, вы обнаружите, что код Python оказывается гораздо более гибким, чем привычно для вас — если вы используете язык Python надлежащим образом, то код может работать со многими типами автоматически.

Выше упоминалось, что объекты имеют два заголовочных поля, обозначение типа и счетчик ссылок. Чтобы понять последний, необходимо двигаться дальше и бегло взглянуть, что происходит в конце времени жизни объекта.

Объекты подвергаются сборке мусора

В листинге из предыдущего раздела мы присваивали переменной a объекты разных типов в каждом операторе. Но что происходит со значением, на которое ранее ссылалась переменная, при ее повторном присваивании? Скажем, что случится с объектом 3 после выполнения следующих операторов?

```python
>>> a = 3
>>> a = 'spam'
```

Ответ таков: в Python при присваивании имени нового объекта область памяти, занимаемая предыдущим объектом, освобождается в случае, если на него не ссылается любое другое имя или объект. Такое автоматическое освобождение памяти объектов известно как сборка мусора, и она значительно упрощает жизнь программистов на языках вроде Python, которые ее поддерживают.