---
source_image: page_179.png
page_number: 179
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.64
tokens: 7898
characters: 2887
timestamp: 2025-12-24T01:12:29.997766
finish_reason: stop
---

И последнее замечание, прежде чем двигаться дальше: оставив в стороне выстраивание в цепочку, числовые сравнения основаны на абсолютных величинах и в большинстве случаев просты, хотя числа с плавающей точкой могут не всегда работать ожидаемым образом и для содержательного сравнения требовать преобразований или других манипуляций:

```python
>>> 1.1 + 2.2 == 3.3    # Разве это не должно быть True?
False
>>> 1.1 + 2.2           # Близко к 3.3, но не точно: ограниченная точность
3.300000000000000003
>>> int(1.1 + 2.2) == int(3.3)   # Нормально в случае преобразования:
# см. также round, floor, trunc
True                # Здесь могут также помочь десятичные и дробные числа
```

Причина связана с тем фактом, что числа с плавающей точкой не способны представлять определенные значения точно из-за ограниченного количества битов — фундаментальная проблема в численном программировании, не уникальная для языка Python. Мы обсудим ее позже при рассмотрении десятичных и дробных чисел, представляющих собой инструменты, которые могут обойти такие ограничения. Теперь продолжим наш экскурс в основные числовые операции Python, взглянув более детально на деление.

Деление: классическое, с округлением в меньшую сторону и настоящее

В предшествующих разделах вы уже видели, как работает деление, а потому должны знать, что в версиях Python 3.X и 2.X оно ведет себя несколько иначе. На самом деле существуют три разновидности деления и две разных операции деления, одна из которых в Python 3.X изменилась. История заслуживает более пристального внимания, т.к. это является еще одним значительным изменением в Python 3.X и способно нарушить работу кода Python 2.X, а потому давайте разберемся с фактами, касающимися операции деления.

\( x / y \)

Классическое и настоящее деление. В Python 2.X такая операция выполняет классическое деление, усекая результат для целых чисел и сохраняя остатки (т.е. дробные части) для чисел с плавающей запятой. В Python 3.X она выполняет настоящее деление, всегда сохраняя остатки в результатах с плавающей запятой независимо от типов операндов.

\( x // y \)

Деление с округлением в меньшую сторону. Появившаяся в Python 2.2 и доступная Python 2.X и 3.X, данная операция всегда усекает дробные остатки, округляя в меньшую сторону независимо от типов операндов. Тип результата зависит от типов операндов.

Настоящее деление было добавлено для учета того факта, что результаты первоначальной классической модели деления зависели от типов операндов, и потому их может быть трудно предугадывать в динамически типизируемом языке наподобие Python. Из-за такого ограничения классическое деление было удалено в версии Python 3.X — операции / и // реализуют настоящее деление и деление с округлением в меньшую сторону. По умолчанию в Python 2.X применяются классическое деление и деление с округлением в меньшую сторону, но как вариант доступно настоящее деление.