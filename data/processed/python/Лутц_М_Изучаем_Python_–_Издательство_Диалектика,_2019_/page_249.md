---
source_image: page_249.png
page_number: 249
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.72
tokens: 8088
characters: 3054
timestamp: 2025-12-24T01:15:01.001819
finish_reason: stop
---

В первом примере строка 'Ni' подставляется в цель слева, заменяя %s. Во втором примере в целевую строку вставляются три значения. Обратите внимание, что в случае вставки более одного значения их необходимо группировать справа в круглых скобках (т.е. помещать в кортеж). Операция % выражения форматирования ожидает в своей правой стороне либо одиночный элемент, либо кортеж из одного или более элементов.

В третьем примере снова вставляются три значения, целое число, число с плавающей точкой и списоковый объект, но все цели слева указаны как %s, что обозначает преобразование в строку. Так как в строку (применяемую при выводе) может быть преобразован объект любого типа, с кодом преобразования %s работают объекты всех типов. Таким образом, если только вы не будете задавать какое-то специальное форматирование, то %s часто является единственным кодом, который понадобится запомнить для выражений форматирования.

И снова имейте в виду, что форматирование всегда создает новую строку, а не изменяет строку слева; оно обязано так работать по причине неизменяемости строк. Как и ранее, присвойте результат какой-нибудь переменной, если хотите сохранить его.

Расширенный синтаксис выражений форматирования

Для более сложного форматирования, специфичного для типов, в выражениях форматирования можно использовать любые коды преобразования типов, перечисленные в табл. 7.4; они указываются после символа % в целях подстановки. Программисты на C узнают большинство из них, потому что форматирование строк Python поддерживает все обычные коды формата printf языка C (но возвращает результат вместо его вывода, как делает printf).

Таблица 7.4. Коды типов в форматировании строк

<table>
  <tr>
    <th>Код</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>s</td>
    <td>Строка (или строка str(X) любого объекта)</td>
  </tr>
  <tr>
    <td>r</td>
    <td>То же, что и s, но применяется repr, а не str</td>
  </tr>
  <tr>
    <td>c</td>
    <td>Символ (int или str)</td>
  </tr>
  <tr>
    <td>d</td>
    <td>Десятичное число (целое число с основанием 10)</td>
  </tr>
  <tr>
    <td>i</td>
    <td>Целое число</td>
  </tr>
  <tr>
    <td>u</td>
    <td>То же, что и d (устарел: больше не является беззнаковым)</td>
  </tr>
  <tr>
    <td>o</td>
    <td>Восьмеричное целое число (с основанием 8)</td>
  </tr>
  <tr>
    <td>x</td>
    <td>Шестнадцатеричное целое число (с основанием 16)</td>
  </tr>
  <tr>
    <td>X</td>
    <td>То же, что и x, но в верхнем регистре</td>
  </tr>
  <tr>
    <td>e</td>
    <td>Число с плавающей точкой со степенью, в нижнем регистре</td>
  </tr>
  <tr>
    <td>E</td>
    <td>То же, что и e, но в верхнем регистре</td>
  </tr>
  <tr>
    <td>f</td>
    <td>Десятичное число с плавающей точкой</td>
  </tr>
  <tr>
    <td>F</td>
    <td>То же, что и f, но в верхнем регистре</td>
  </tr>
  <tr>
    <td>g</td>
    <td>Число с плавающей точкой e или f</td>
  </tr>
  <tr>
    <td>G</td>
    <td>Число с плавающей точкой E или F</td>
  </tr>
  <tr>
    <td>%</td>
    <td>Литерал % (записывается как %%)</td>
  </tr>
</table>