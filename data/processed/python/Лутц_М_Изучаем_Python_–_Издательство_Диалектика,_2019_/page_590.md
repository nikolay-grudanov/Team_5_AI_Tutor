---
source_image: page_590.png
page_number: 590
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.14
tokens: 7663
characters: 2283
timestamp: 2025-12-24T01:25:34.891147
finish_reason: stop
---

Выражения lambda также оказываются полезными в списках аргументов с вызовами функций как способ встраивания определений временных функций, которые не применяются в каких-то других местах программы; примеры такого использования будут рассматриваться при исследовании тар позже в главе.

Как (не) запутать свой код на Python

Тот факт, что тело lambda обязано быть одиночным выражением (не серией операторов), казалось бы, накладывает строгие ограничения на объем логики, которую можно упаковывать в lambda. Однако если вы знаете, что делаете, тогда можете записывать большинство операторов Python в виде эквивалентов, основанных на выражениях.

Например, если вы хотите выводить из функции lambda, то просто напишите код print(X) в Python 3.X, где он становится выражением вызова, а не оператором, или sys.stdout.write(str(X)+'\n') в Python 2.X или 3.X, чтобы обеспечить переносимость выражения (вспомните из главы 11, что именно это и делает print). Подобным же образом для вложения в lambda логики выбора вы можете применять тернарное выражение if/else, описанное в главе 12, либо эквивалентную, но более сложную комбинацию and/or, которая также обсуждалась в главе 12. Как вам уже известно, следующий оператор:

    if a:
        b
    else:
        c

можно эмулировать посредством одного из двух почти эквивалентных выражений:

    b if a else c
    ((a and b) or c)

Поскольку выражения такого рода можно помещать внутрь lambda, их можно использовать для реализации логики выбора в функции lambda:

    >>> lower = (lambda x, y: x if x < y else y)
    >>> lower('bb', 'aa')
    'aa'
    >>> lower('aa', 'bb')
    'aa'

Более того, если необходимо организовать циклы внутри lambda, то можно внедрять вызовы тар и выражения списковых включений — инструменты, с которыми мы встречались в предшествующих главах и которые более подробно обсудим в следующей главе:

    >>> import sys
    >>> showall = lambda x: list(map(sys.stdout.write, x))      # Python 3.x:
    # должен использоваться список
    >>> t = showall(['spam\n', 'toast\n', 'eggs\n'])              # Python 3.x:
    # может применяться print
    spam
    toast
    eggs
    >>> showall = lambda x: [sys.stdout.write(line) for line in x]
    >>> t = showall(('bright\n', 'side\n', 'of\n', 'life\n'))
    bright
    side