---
source_image: page_075.png
page_number: 75
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.15
tokens: 7954
characters: 3378
timestamp: 2025-12-24T01:09:20.979218
finish_reason: stop
---

Shed Skin: транслятор Python в C++

Shed Skin — это развивающаяся система, в которой принят другой подход к выполнению программ Python; она пытается транслировать исходный код Python в код C++, который затем с помощью имеющегося компилятора C++ компилируется в машинный код. Как таковая, она представляет нейтральный к платформам подход к выполнению кода Python.

В настоящее время Shed Skin продолжает активно разрабатываться. Система Shed Skin поддерживает код Python 2.4–2.6 и ограничивается программами Python с неявной статической типизацией, что обычно для большинства программ, но формально не является нормальным кодом Python, поэтому мы здесь не будем вдаваться в особые детали. Тем не менее, первые результаты показывают, что потенциально система Shed Skin способна превзойти стандартный Python и Psyco-подобные расширения в терминах скорости выполнения. Текущее состояние системы можно выяснить по адресу https://shedskin.github.io/.

Psyco: первоначальный JIT-компилятор

Система Psyco представляет собой не очередную реализацию Python, а компонент, который расширяет модель выполнения байт-кода, чтобы программы выполнялись быстрее. На сегодняшний день Psyco является чем-то вроде бывшего проекта: он по-прежнему доступен для отдельной загрузки, но с развитием Python устарел и больше активно не сопровождается. Взамен его идеи были воплощены в описанной ранее более полной системе PyPy. И все же неуменьшающаяся важность идей, исследованных в проекте Psyco, делает его заслуживающим внимания.

С точки зрения рис. 2.2 система — это усовершенствование машины PVM, которое собирает и использует информацию о типах, пока программа выполняется, чтобы транслировать порции байт-кода программы до подлинного машинного кода для более быстрого выполнения. Psyco осуществляет такую трансляцию, не требуя внесения изменений в код или отдельного шага компиляции на этапе разработки.

Грубо говоря, пока ваша программа функционирует, Psyco собирает информацию о типах встречающихся объектов, которую можно применять для генерации высокоэффективного машинного кода, приспособленного под такие типы объектов. Сгенерированный машинный код заменяет соответствующую часть первоначального байт-кода, чтобы увеличить общую скорость выполнения программы. В результате посредством Psyco ваша программа со временем выполняется быстрее. В идеальных случаях под управлением Psyco некоторый код Python может стать таким же быстрым, как скомпилированный код C.

Поскольку описанная трансляция байт-кода происходит во время выполнения программы, Psyco известен как JIT-компилятор. Однако Psyco отличается от JIT-компиляторов для языка Java, с которыми могли сталкиваться отдельные читатели. На самом деле Psyco является специализированным JIT-компилятором — он генерирует машинный код, подогнанный под типы данных, которые действительно используются в программе. Скажем, если в части программы в разное время применяются отличающиеся типы данных, то Psyco может генерировать разные версии машинного кода для поддержки каждой комбинации типов.

Система Psyco была предложена для значительного повышения скорости выполнения определенного кода Python. Согласно заявлению на веб-странице системы Psyco она обеспечивает ускорение от 2 до 100 раз, обычно в 4 раза, с неизмененным интерпретатором Python и немодифицированным исходным кодом, почти как у динамически загружаемого модуля расширения C.