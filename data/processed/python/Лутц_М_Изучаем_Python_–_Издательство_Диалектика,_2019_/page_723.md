---
source_image: page_723.png
page_number: 723
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.58
tokens: 7865
characters: 2870
timestamp: 2025-12-24T01:29:50.411851
finish_reason: stop
---

import и from. Сами операторы импортирования определяют остаток пути к каталогу в независимом от платформы стиле¹.

Что касается простых операций импортирования файлов, то вам не нужно добавлять контейнерный каталог dir0 в путь поиска модулей, когда он уже в нем присутствует. Как было указано в главе 22, он там будет находиться, если является домашним каталогом файла верхнего уровня, каталогом, где вы работаете интерактивно, каталогом стандартной библиотеки или подкаталогом site-packages с установленными сторонними расширениями. Однако, так или иначе, путь поиска модулей обязан включать все каталоги, содержащие крайние слева компоненты из операторов импортирования пакетов в коде.

Файлы __init__.py пакетов

Если вы решили использовать импортирование пакетов, то вам придется соблюдать еще одно ограничение: по крайней мере, до версии Python 3.3 каждый каталог, указанный внутри пути в операторе импортирования пакета, должен содержать файл по имени __init__.py, иначе операция импортирования пакета потерпит неудачу. То есть в рассмотренных примерах каталоги dir1 и dir2 обязаны содержать файл __init__.py; контейнерному каталогу dir0 такой файл не требуется, потому что сам он в операторе import не указан.

Более формально для структуры каталогов следующего вида:

dir0\dir1\dir2\mod.py

и оператора import в форме:

import dir1.dir2.mod

применимы перечисленные ниже правила.

• Каталоги dir1 и dir2 должны содержать файл __init__.py.
• Каталог dir0, контейнер, не требует файла __init__.py; если этот файл присутствует, то он просто будет проигнорирован.
• Каталог dir0, но не dir0\dir1, должен находиться в пути поиска модулей sys.path.

Для соблюдения первых двух правил создатели пакетов должны обеспечить наличие файлов исследуемого здесь вида. Для соблюдения последнего правила каталог dir0 обязан быть автоматическим компонентом пути поиска (домашним каталогом, каталогом стандартной библиотеки или каталогом внутри site-packages) либо присутствовать в переменной PYTHONPATH, в настройках файла .pth или во вносимых вручную изменениях sys.path.

¹ Синтаксис путей с точками был выбран отчасти для обеспечения нейтральности к платформе, но еще и потому, что пути в операторах import становятся реальными цепочками вложенных объектов. Такой синтаксис также означает, вы можете получать странные сообщения об ошибках, если забудете опустить .py в своих операторах import. Скажем, оператор import mod.py предположительно является операцией импортирования пути к каталогу — он загружает mod.py, затем пытается загрузить mod\py.py и в конечном итоге выдает потенциально сбивающее с толку сообщение об ошибке "No module named py" ("Модуль по имени py отсутствует"). Начиная с версии Python 3.3, сообщение об ошибке было улучшено и выглядит как "No module named 'mod.py'; mod is not a package" ("Модуль по имени mod.py отсутствует; mod не является пакетом").