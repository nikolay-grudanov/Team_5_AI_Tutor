---
source_image: page_693.png
page_number: 693
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.08
tokens: 7936
characters: 2671
timestamp: 2025-12-24T01:28:57.860302
finish_reason: stop
---

В Python 3.2 и последующих версиях

Байт-код сохраняется в файлах внутри подкаталога по имени __pycache__, который Python при необходимости создает и который находится в каталоге, содержащем соответствующие файлы исходного кода. Такая модель помогает избежать беспорядка в каталогах исходного кода за счет вынесения файлов байт-кода в собственный подкаталог. Кроме того, хотя файлы байт-кода по-прежнему получают расширение .рус, как было раньше, они имеют более описательные имена, которые включают текстовую идентификацию версии Python, создавшей их (например, module.cpython-32.rus). В итоге не возникают конфликты и повторные компиляции: Поскольку каждая установленная версия Python может иметь собственную уникально именованную версию файлов байт-кода в подкаталоге __pycache__, запуск под управлением выбранной версии не приводит к переписыванию одного байт-кода другим и не требует новой компиляции. Формально имена файлов байт-кода также включают название Python, который создал их, так что CPython, Jython и другие реализации, упомянутые в предисловии и главе 2, способны сосуществовать на одном компьютере, не мешая работать друг другу (раз они поддерживают такую модель).

В обеих моделях Python всегда заново создает файл байт-кода, если вы изменяли файл исходного кода с момента последней компиляции, но отличия в версиях обрабатываются по-разному — с применением магических чисел и замены в Python 3.2 и предшествующих версиях и с использованием имен файлов, допускающих множество копий, в Python 3.2 и последующих версиях.

Модели файлов байт-кода в действии

Ниже приведен короткий пример двух моделей в действии под управлением Python 2.x и Python 3.7. Ради экономии пространства большая часть текста, отображаемого командой dir в Windows, опущена, а код применяемого здесь сценария не показан, т.к. он не имеет отношения к текущему обсуждению (он взят из главы 2 и просто выводит два значения). До версии Python 3.2 файлы байт-кода после создания операциями импортирования обнаруживались рядом со своими файлами исходного кода:

c:\code\py2x> dir
05/31/2019  10:58 AM           39 script0.py
c:\code\py2x> C:\python27\python
>>> import script0
hello world
1267650600228229401496703205376
>>> ^Z

c:\code\py2x> dir
05/31/2019  10:58 AM           39 script0.py
05/31/2019  11:00 AM           154 script0.rus

Тем не менее, в Python 3.2 и последующих версиях файлы байт-кода хранятся в подкаталоге __pycache__ и содержат в своих именах детали о версиях и реализациях Python, чтобы избежать беспорядка и конфликтов между линейками Python, установленными на компьютере:

c:\code\py2x> cd ..\py3x
c:\code\py3x> dir
05/31/2019  10:58 AM           39 script0.py