---
source_image: page_209.png
page_number: 209
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.54
tokens: 7798
characters: 2792
timestamp: 2025-12-24T01:13:29.720726
finish_reason: stop
---

Переменные, объекты и ссылки

Во многих примерах, показанных до сих пор в книге, вы видели, что когда мы выполняем в Python оператор присваивания, такой как a = 3, то он работает, хотя мы никогда не сообщали Python об использовании имени a в качестве переменной или о том, что a обозначает объект целочисленного типа. В языке Python все складывается очень естественным образом, как описано далее.

Создание переменных

Переменная (также называемая в Python именем), подобная a, создается при первом присваивании ей значения в коде. Последующие присваивания изменяют значение уже созданного имени. Формально Python обнаруживает некоторые имена перед выполнением кода, но вы можете думать об этом так, как будто переменные создаются начальными присваиваниями.

Типы переменных

Переменная никогда не располагает какой-либо информацией о типе или о связанных с ним ограничениях. Понятие типа обитает в объектах, не в именах. Переменные являются обобщенными по своей природе; они всегда просто ссылаются на определенный объект в конкретный момент времени.

Использование переменных

Когда переменная встречается в выражении, она тотчас же заменяется объектом, на который в текущий момент ссылается, каким бы он ни был. Более того, все переменные должны быть присвоены, прежде чем их можно будет применять; ссылка на неприсвоенные переменные приводит к ошибкам.

В итоге переменные создаются, когда присваиваются, могут ссылаться на объекты любых типов и должны быть присвоены перед ссылкой на них. Это означает, что вам никогда не придется объявлять имена, используемые в сценарии, но вы обязаны инициализировать имена, прежде чем сможете обновлять их; например, счетчик должен быть инициализирован нулем до того, как можно будет его увеличивать.

Такая модель динамической типизации разительно отличается от модели типизации традиционных языков. В самом начале модель обычно легче понять, если четко осознать разницу между именами и объектами. Скажем, когда переменной присваивается значение:

>>> a = 3   # Присвоить имени объект

то, по крайней мере, концептуально Python произведет три отдельных шага, чтобы выполнить запрос. Следующие шаги отражают работу всех присваиваний в языке Python.

1. Создание объекта для представления значения 3.
2. Создание переменной a, если она еще не существует.
3. Связывание переменной a с новым объектом 3.

Совокупным результатом будет структура внутри Python, которая напоминает представленную на рис. 6.1. Как видно на рис. 6.1, переменные и объекты хранятся в разных местах памяти и связываются посредством ссылок (ссылка показана в виде стрелки). Переменные всегда ссылаются на объекты и никогда на другие переменные, но более крупные объекты могут быть связаны с другими объектами (например, объект списка имеет ссылки на содержащиеся в нем объекты).