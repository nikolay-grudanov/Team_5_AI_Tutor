---
source_image: page_357.png
page_number: 357
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.77
tokens: 7669
characters: 2328
timestamp: 2025-12-24T01:18:21.945152
finish_reason: stop
---

import sys
if sys.version[0] == '2': input = raw_input  # Совместимость
    # с Python 2.x

В Python 3.x имя raw_input было изменено на input, а print представляет собой встроенную функцию, а не оператор (более подробно print обсуждается в следующей главе). В Python 2.x также имеется оператор input, но он пытается выполнить входную строку, как если бы она было кодом Python, что вероятно не будет работать в данном контексте; в Python 3.x того же эффекта можно достичь посредством eval(input()).

Выполнение математических действий над пользовательским вводом

Наш сценарий работает, но теперь предположим, что вместо преобразования текстовой строки в верхний регистр мы хотим выполнить какие-то математические действия над числовым вводом — скажем, возвести его в квадрат, возможно в ошибочной попытке программы ввода возрастает подразнить своих пользователей. Для получения желаемого результата мы могли бы использовать код вроде показанного ниже:

>>> reply = '20'
>>> reply ** 2
...текст сообщения об ошибке не показан...
TypeError: unsupported operand type(s) for ** or pow(): 'str' and 'int'
Ошибка типа: неподдерживаемые типы операндов для ** или pow(): str и int

Тем не менее, прием в нашем сценарии работать не будет, потому что (как обсуждалось в предыдущей части книги) Python не преобразует типы в выражениях, если только все они не являются числовыми, а ввод от пользователя всегда возвращается сценарию в виде строки. Мы не сможем возвести строку цифр в степень до тех пор, пока вручную не преобразуем ее в целое число:

>>> int(reply) ** 2
400

Вооружившись этой информацией, мы можем переписать наш цикл для выполнения необходимого математического действия. Поместите следующий код в файл для его тестирования:

while True:
    reply = input('Enter text:')
    if reply == 'stop': break
    print(int(reply) ** 2)
print('Bye')

Как и ранее, в сценарии применяется односторочный оператор if для выхода из цикла при вводе stop, но также осуществляется преобразование ввода для выполнения требуемого математического действия. В конце еще добавляется прощальное сообшение. Поскольку оператор print в последней строке не имеет такого же отступа, как у вложенного блока кода, он не считается частью тела цикла и будет выполнен только раз после выхода из цикла:

Enter text:2
4
Enter text:40
1600
Enter text:stop
Bye