---
source_image: page_389.png
page_number: 389
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.15
tokens: 7801
characters: 2551
timestamp: 2025-12-24T01:19:29.849963
finish_reason: stop
---

Поскольку такая потребность возникает довольно часто, стало доступным расширение print, которое делает ее ненужной.

В Python 3.x ключевое слово file позволяет одиночному вызову print отправлять свой текст методу write файлового (или подобного файлам) объекта без действительной переустановки sys.stdout. Так как перенаправление является временным, нормальные вызовы print продолжают выводить в исходный поток вывода.

В Python 2.x аналогичный эффект обеспечивает оператор print, начинающийся с символов >>, за которыми следует выходной файловый (или другой совместимый) объект. Скажем, приведенный ниже код снова отправляет выводимый текст в файл по имени log.txt:

log = open('log.txt', 'a')        # Python 3.x
print(x, y, z, file=log)
print(a, b, c)
# Вывод в объект, подобный файлу
# Вывод в исходный stdout

log = open('log.txt', 'a')        # Python 2.x
print >> log, x, y, z
print a, b, c
# Вывод в объект, подобный файлу
# Вывод в исходный stdout

Такие перенаправленные формы print удобны, когда в той же самой программе необходимо выводить и в файлы, и в стандартный поток вывода. Однако если вы используете эти формы, тогда удостоверьтесь, что предоставляете им файловый объект (или объект, который имеет такой же метод write, как у файлового объекта), а не строку с именем файла. Взгляните на методику в действии:

C:\code> c:\python33\python
>>> log = open('log.txt', 'w')
>>> print(1, 2, 3, file=log)      # Для Python 2.x: print >> log, 1, 2, 3
>>> print(4, 5, 6, file=log)
>>> log.close()
>>> print(7, 8, 9)                # Для Python 2.x: print 7, 8, 9
7 8 9
>>> print(open('log.txt').read())
1 2 3
4 5 6

Показанные расширенные формы print также обычно применяются для вывода сообщений об ошибках в стандартный поток ошибок, доступный сценарию в виде предварительно открытого файлового объекта sys.stderr. Вы можете либо использовать его файловые методы write и вручную форматировать вывод, либо вызывать print посредством синтаксиса перенаправления:

>>> import sys
>>> sys.stderr.write(('Bad!' * 8) + '\n')
Bad!Bad!Bad!Bad!Bad!Bad!Bad!
>>> print('Bad!' * 8, file=sys.stderr)
# В Python 2.x: print >> sys.stderr, 'Bad!' * 8
Bad!Bad!Bad!Bad!Bad!Bad!Bad!

Теперь, когда вы все знаете о перенаправлении вывода, эквивалентность операций print и файловых методов write должна стать вполне очевидной. В следующем взаимодействии производится вывод обоими способами в Python 3.x, а затем вывод перенаправляется во внешний файл и выведенный текст сравнивается:

>>> X = 1; Y = 2
>>> print(X, Y)                   # Вывод: легкий способ
1 2