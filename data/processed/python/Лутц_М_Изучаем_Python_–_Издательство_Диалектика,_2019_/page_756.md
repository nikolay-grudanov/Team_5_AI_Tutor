---
source_image: page_756.png
page_number: 756
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.26
tokens: 7783
characters: 2446
timestamp: 2025-12-24T01:30:36.757222
finish_reason: stop
---

Фактически установка пути для включения модуля работает таким же образом, как в ранних версиях Python, даже если аналогично названный каталог пространства имен появляется ранее в пути. Пакеты пространств имен применяются в Python 3.3 и последующих версиях только в случаях, которые в более ранних версиях Python были бы ошибками:

c:\code> py -3.2
>>> import ns2
ns3\dir\ns2.py!
>>> ns2
<module 'ns2' from 'C:\\code\\ns3\\dir\\ns2.py'>

По той же причине ни одному из каталогов в пакете пространства имен не разрешено иметь файл __init__.py: как только алгоритм импортирования находит такой каталог, он немедленно возвращает обычный пакет и прекращает поиск по пути и нахождение пакета пространства имен. Выражаясь более формально, алгоритм импортирования выбирает пакет пространства имен только в конце просмотра пути поиска и останавливается на шаге 1 или 2, если раньше обнаруживает обычный пакет или файл модуля.

Совокупный эффект заключается в том, что файлы модулей и обычные пакеты где угодно в пути поиска модулей имеют приоритет над каталогами пакетов пространств имен. Скажем, в следующем взаимодействии пакет пространства имен sub существует как сцепление каталогов с такими же именами под каталогами dir1 и dir2 в пути:

c:\code> mkdir ns4\dir1\sub
c:\code> mkdir ns4\dir2\sub
c:\code> set PYTHONPATH=c:\code\ns4\dir1;c:\code\ns4\dir2
c:\code> py -3
>>> import sub
>>> sub
<module 'sub' (namespace)>
>>> sub.__path__
_NamespacePath(['c:\\code\\ns4\\dir1\\sub', 'c:\\code\\ns4\\dir2\\sub'])

Тем не менее, во многом подобно файлу модуля обычный пакет, добавленный к крайнему справа элементу в пути, тоже имеет приоритет перед аналогично называемыми каталогами пространств имен. Просмотр пути поиска начинает регистрацию предположительного пакета пространства имен в dir1, как было ранее, но прекращает ее, когда в dir2 обнаруживается обычный пакет:

c:\code> notepad ns4\dir2\sub\__init__.py
c:\code> py -3
>>> import sub    # Использует позже найденный обычный пакет,
                 # а не каталог с таким же именем!
>>> sub
<module 'sub' from 'c:\\code\\ns4\\dir2\\sub\\__init__.py'>

Хотя пакеты пространств имен представляют собой полезное расширение, они доступны только читателям, которые работают с Python 3.3 и последующими версиями, а потому детали ищите в руководствах по Python. В частности, изучите документ PEP по этому изменению, где приведено логическое обоснование, дополнительные подробности и более полные примеры.