---
source_image: page_407.png
page_number: 407
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.03
tokens: 7767
characters: 2472
timestamp: 2025-12-24T01:20:05.342979
finish_reason: stop
---

if X:
    A = Y
else:
    A = Z

Однако временами элементы, задействованные в таком операторе, настолько просты, что их распространение на четыре строки выглядит излишеством. В других случаях конструкцию подобного рода может понадобиться вложить в более крупный оператор, а не присваивать ее результат какой-то переменной. По указанным причинам (и, откровенно говоря, из-за наличия похожего инструмента в языке C) в версии Python 2.5 появился новый формат выражения, который позволяет определить то же самое в одном выражении:

A = Y if X else Z

Приведенное выражение дает в точности такой же результат, что и предшествующий четырехстрочный оператор if, но проще в написании. Как и в эквиваленте в виде оператора, Python выполняет выражение Y, только если X оказывается истинным, а выражение Z — только если X оказывается ложным. То есть Python производит укороченную оценку, как и в булевских операциях, которые обсуждались в предыдущем разделе, выполняя только выражение Y или Z, но не оба. Рассмотрим несколько примеров:

>>> A = 't' if 'spam' else 'f'   # Непустые строки означают истину
>>> A
't'
>>> A = 't' if '' else 'f'
>>> A
'f'

До выхода версии Python 2.5 (и после Python 2.5, если уж на то пошло) того же эффекта часто можно было достичь, аккуратно комбинируя операции and и or, потому что они возвращают либо левый, либо правый объект, как было описано в предыдущем разделе:

A = ((X and Y) or Z)

Код работает, но есть одна загвоздка — вы должны быть в состоянии предположить, что Y будет булевской истиной. В таком случае эффект оказывается тем же: операция and выполняется первой и возвращает Y, если X истинно; если X ложно, тогда and пропускает Y, а операция or просто возвращает Z. Другими словами, мы получаем вариант "если X, тогда Y, иначе Z". А вот эквивалент в тернарной форме:

A = Y if X else Z

Понимание формы с комбинацией and/or вероятно потребует "момента прозрения", особенно когда она встречается в первый раз. Начиная с версии Python 2.5, в этой форме больше нет необходимости — когда нужна такая структура, используйте эквивалентное более надежное и ясное выражение if/else или полный оператор if, если части конструкции нетривиальны.

В качестве стороннего замечания. Применение следующего выражения в Python дает аналогичный результат, поскольку функция bool будет транслировать X в эквивалентное целое число 1 или 0, которое затем можно использовать как смещение для выбора истинных и ложных значений из списка:

A = [Z, Y][bool(X)]