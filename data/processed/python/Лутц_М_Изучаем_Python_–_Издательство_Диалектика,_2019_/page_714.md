---
source_image: page_714.png
page_number: 714
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.78
tokens: 7830
characters: 2755
timestamp: 2025-12-24T01:29:28.785878
finish_reason: stop
---

Например, рассмотрим два следующих простых модуля. В первом модуле, moda.py, определяется переменная X как глобальная по отношению к коду только в данном файле наряду с функцией, которая изменяет глобальную переменную X в этом файле:

X = 88        # Переменная X: глобальная по отношению только к данному файлу
def f():
    global X    # Изменить X из этого файла
    X = 99      # Нельзя видеть имена из других модулей

Во втором модуле, modb.py, определяется собственная глобальная переменная X, а также импортируется и вызывается функция из первого модуля:

X = 11        # Переменная X: глобальная по отношению только к данному файлу
import moda   # Получить доступ к именам в moda
moda.f()      # Устанавливает moda.X, но не X из этого файла
print(X, moda.X)

Во время выполнения moda.f изменяет X в moda, но не X в modb. Глобальной областью видимости для функции moda.f всегда будет включающий ее файл вне зависимости от того, из какого модуля она в итоге вызывается:

% python modb.py
11 99

Другими словами, операции импортирования никогда не обеспечивают восходящую видимость коду в импортируемых файлах — импортируемый файл не может видеть имена из файла, в котором он импортируется. Более формально:

• функции не могут видеть имена в других функциях, если только они физически не вкладывают в них;
• код модуля не может видеть имена в других модулях, если только он явно не импортирует их.

Такое поведение является частью понятия лексической области видимости — в Python области видимости, окружающие порцию кода, полностью определяются физическим местоположением кода в файле. Области видимости не подвержены влиянию со стороны вызовов функций или операций импортирования модулей¹.

Вложение пространств имен

В определенном смысле, хотя операции импортирования не вкладывают пространства имен снизу вверх, они делают это сверху вниз. То есть, несмотря на то, что импортируемый модуль не имеет прямого доступа к именам в файле, который его импортирует, с использованием путей уточнения атрибутов становится возможным спуск внутрь произвольно глубоко вложенных модулей и доступ к их атрибутам. В качестве примера рассмотрим показанные далее три файла. В mod3.py определяется единственное глобальное имя и атрибут за счет присваивания:

X = 3

В свою очередь в mod2.py определяется собственное имя X, после чего импортируется mod3 и применяется уточнение для доступа к атрибуту импортируемого модуля:

¹ Некоторые языки поступают по-другому и предлагают динамические области видимости, которые действительно могут зависеть от вызовов во время выполнения. Однако такой подход имеет тенденцию усложнять код, потому что смысл переменной может отличаться с течением времени. В Python области видимости более просто соответствуют тексту программы.