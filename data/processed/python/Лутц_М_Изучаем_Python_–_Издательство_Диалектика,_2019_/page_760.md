---
source_image: page_760.png
page_number: 760
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 15.24
tokens: 7623
characters: 2158
timestamp: 2025-12-24T01:30:39.959424
finish_reason: stop
---

• Сводите к минимуму связность модулей: глобальные переменные. Подобно функциям модули работают лучше, если они реализованы как закрытые ящики. В качестве эмпирического правила запомните, что модули должны быть насколько возможно независимыми от глобальных переменных, используемых внутри других модулей, за исключением импортируемых из них функций и классов. Единственное, чем модуль должен делиться с внешним миром — это инструменты, которыми он пользуется, и инструменты, которые он определяет.

• Доводите до максимума сцепление модулей: единая цель. Вы можете минимизировать связность модулей за счет доведения до максимума их сцепления; если все компоненты модуля разделяют общую цель, тогда меньше шансов зависеть от внешних имен.

• Модули должны редко изменять переменные других модулей. Мы проиллюстрировали это с помощью кода в главе 17, но стоит здесь повторить: использовать глобальные переменные, определенные в другом модуле, вполне нормально (в конце концов, именно так клиенты импортируют службы), но изменение глобальных переменных из другого модуля часто является признаком наличия проблемы в проектном решении. Разумеется, существуют исключения, но вы должны стараться передавать результаты через такие механизмы, как аргументы функций и возвращаемые значения, а не через межмодульные изменения. В противном случае значения глобальных переменных становятся зависимыми от порядка выполнения операторов присваивания в других файлах, а модули будет труднее понять и многократно применять.

На рис. 25.1 приведена упрощенная схема среды, в которой работают модули. Модули содержат переменные, функции, классы и другие модули (если они импортированы).

![Среда выполнения модулей](../images/ch25-fig1.png)

Рис. 25.1. Среда выполнения модулей. Модули импортируются, но также способны импортировать и использовать другие модули, которые могут быть написаны на Python или на другом языке наподобие C. В свою очередь модули содержат переменные, функции и классы для выполнения своей работы, а их функции и классы могут содержать собственные переменные и другие элементы. Однако на верхнем уровне программы представляют собой просто наборы модулей