---
source_image: page_135.png
page_number: 135
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.11
tokens: 7857
characters: 2848
timestamp: 2025-12-24T01:11:04.734976
finish_reason: stop
---

Неизменяемость

В предшествующих примерах также обратите внимание на то, что выполнение всех операций не вызывало изменения исходной строки. Каждая строковая операция определена так, чтобы производить в качестве результата новую строку, потому что строки в Python являются неизменяемыми — после создания их нельзя модифицировать на месте. Другими словами, вы никогда не перезапишете значения неизменяемых объектов. Например, вы не сумеете изменить строку, присваивая значение символу в одной из ее позиций, но всегда сможете построить новую строку и назначить ей то же самое имя. С учетом того, что в ходе работы Python очищает старые объекты (как вы увидите позже), это не настолько неэффективно, как может показаться:

```python
>>> S
'Spam'
>>> S[0] = 'z'    # Неизменяемые объекты модифицировать нельзя
...текст сообщения об ошибке не показан...
TypeError: 'str' object does not support item assignment
Ошибка типа: объект str не поддерживает присваивание в отношении элементов
>>> S = 'z' + S[1:]  # Но мы можем выполнять выражения для создания новых объектов
>>> S
'zspam'
```

Каждый объект в Python классифицируется как неизменяемый (немодифицируемый) или нет. Что касается основных типов, то числа, строки и кортежи неизменяемы, а списки, словари и множества — нет; они могут свободно модифицироваться на месте, как большинство новых объектов, которые вы будете создавать с помощью классов. Такое отличие оказывается критически важным в работе Python, но мы пока не в состоянии полностью исследовать его влияние. Помимо прочего неизменяемость можно использовать для гарантирования того, что объект остается постоянным на протяжении всей программы; значения изменяемых объектов способны меняться в любой момент и в любом месте (ожидаете вы этого или нет).

Строго говоря, текстовые данные можно изменять на месте, если развернуть их в список индивидуальных символов и объединить вместе с пустым разделителем или применить более новый тип bytearray, доступный в Python 2.6, 3.0 и последующих версиях:

```python
>>> S = 'shrubbery'
>>> L = list(S)        # Развернуть в список: [...]
>>> L
['s', 'h', 'r', 'u', 'b', 'b', 'e', 'r', 'y']
>>> L[1] = 'c'         # Изменить на месте
>>> ''.join(L)         # Объединить с пустым разделителем
'scrubbery'

>>> B = bytearray(b'spam')
>>> B.extend(b'eggs')   # b необходимо в Python 3.x, но не в Python 2.x
>>> B
bytearray(b'spameggs')
>>> B.decode()         # Преобразовать в обычную строку
'spameggs'
```

Тип bytearray поддерживает изменения на месте для текста, но только в отношении символов, которые имеют ширину не более 8 битов (скажем, ASCII). Все остальные строки по-прежнему неизменяемы — bytearray представляет собой особый гибрид неизменяемых байтовых строк (с синтаксисом b'...' обязательным в Python 3.x и необязательным в Python 2.x) и изменяемых списков (обозначаемых и отображаемых