---
source_image: page_254.png
page_number: 254
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.71
tokens: 7873
characters: 2760
timestamp: 2025-12-24T01:15:00.665512
finish_reason: stop
---

держать имена атрибутов объекта и ключей словаря — как в нормальном синтаксисе Python, с помощью квадратных скобок указываются ключи словаря, а посредством точек задаются атрибуты объекта элемента, на который производится ссылка по позиции или по ключевому слову. В первом из следующих примеров словарь индексируется по ключу kind и затем извлекается атрибут platform из объекта импортированного модуля sys. Во втором примере делается то же самое, но вместо позиций применяются ключевые слова:

```python
>>> import sys
>>> 'My {1[kind]} runs {0.platform}'.format(sys, {'kind': 'laptop'})
'My laptop runs win32'
>>> 'My {map[kind]} runs {sys.platform}'.format(sys=sys, map={'kind': 'laptop'})
'My laptop runs win32'
```

В квадратных скобках в строках формата допускается также указывать смещения в списке (или другой последовательности) для выполнения индексации, но внутри строк формата синтаксически работают только положительные смещения, поэтому такая возможность не настолько универсальна, как можно было подумать. Подобно выражениям % для указания отрицательных смещений или срезов либо для использования результатов произвольных выражений в целом выражения придется выполнять за пределами самой строки формата (обратите внимание на применение здесь *parts для распаковки элементов кортежа в индивидуальные аргументы функции, как делалось в главе 5 при изучении дробей; дополнительные сведения ищите в главе 18):

```python
>>> somelist = list('SPAM')
>>> somelist
['S', 'P', 'A', 'M']
>>> 'first={0[0]}, third={0[2]}'.format(somelist)
'first=S, third=A'
>>> 'first={0}, last={1}'.format(somelist[0], somelist[-1])
'first=S, last=M'
>>> parts = somelist[0], somelist[-1], somelist[1:3] # [1:3] не допускается
>>> 'first={0}, last={1}, middle={2}'.format(*parts) # Или '{}' в
# Python 2.7/3.1+
"first=S, last=M, middle=['P', 'A']"
```

Расширенный синтаксис методов форматирования

Еще одно сходство с выражениями % связано с тем, что за счет добавления дополнительного синтаксиса в строку формата можно достичь более специфических результатов. Для метода форматирования после обозначения цели с возможно пустой подстановкой мы используем двоеточие, за которым следует спецификатор формата, указывающий размер поля, выравнивание и конкретный код типа. Вот формальная структура того, что может встречаться в качестве цели подстановки в строке формата — все ее четыре части необязательны и должны задаваться без промежуточных пробелов:

{имя_поля компонент !флаг_преобразования :спецификатор_формата}

Ниже приведено описание синтаксиса цели подстановки.

• имя_поля — необязательное число или ключевое слово, идентифицирующее аргумент, которое может быть опущено для применения относительной нумерации аргументов в Python 2.7, 3.1 и более поздних версиях.