---
source_image: page_231.png
page_number: 231
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.26
tokens: 7856
characters: 2857
timestamp: 2025-12-24T01:14:17.881819
finish_reason: stop
---

кода поступать так легче, чем вручную добавлять символы # в начало каждой строки и позже удалять их. Сказанное особенно справедливо, если вы применяете текстовый редактор, который не оснащен специальной поддержкой для редактирования кода Python. В Python практичность часто побеждает эстетику.

Строки в действии

После того, как вы создали строку с помощью рассмотренных выше литеральных выражений, вы почти наверняка захотите что-нибудь с ней делать. В этом и последующих двух разделах демонстрируются строковые выражения, методы и форматирование — широко распространенные инструменты обработки текста в языке Python.

Базовые операции

Давайте начнем с взаимодействия с интерпретатором Python, чтобы проиллюстрировать базовые строковые операции, перечисленные ранее в табл. 7.1. Вы можете выполнять конкатенацию строк, используя операцию +, и повторять их с применением операции *:

% python
>>> len('abc')      # Длина: количество элементов
3
>>> 'abc' + 'def'   # Конкатенация: новая строка
'abcdef'
>>> 'Ni!' * 4       # Повторение: подобно "Ni!" + "Ni!" + ...
'Ni!Ni!Ni!Ni!'

Встроенная функция len возвращает длину строки (или любого другого объекта, имеющего длину). Формально сложение двух строк посредством операции + создает новый строковый объект с объединенным содержимым ее operandов, а повторение с помощью операции * подобно добавлению строки к самой себе несколько раз. В обоих случаях Python позволяет создавать строки произвольных размеров. В Python нет нужды предварительно объявлять что-либо, включая размеры структур данных — вы просто создаете строковые объекты по мере необходимости и даете Python возможность автоматически управлять лежащим в основе пространством памяти (в главе 6 рассказывалось о "сборщике мусора" системы управления памятью Python).

Повторение поначалу может выглядеть слегка непонятным, но оно оказывается полезным в удивительно большом количестве контекстов. Например, для вывода 80 символов минуса вы можете сами посчитать до 80 или поручить это Python:

>>> print('-------- ...и еще... ---')
# 80 символов -, трудный способ
>>> print('-' * 80)
# 80 символов -, легкий способ

Обратите внимание, что здесь уже работает перегрузка операций: мы используем те же самые операции + и *, которые выполняют сложение и умножение, когда применяются к числам. Язык Python делает правильную операцию, поскольку ему известны типы объектов в операндах. Но будьте осторожны: правила не настолько либеральны, как вы могли бы ожидать. Скажем, Python не разрешает смешивать числа и строки в выражениях с операцией +: 'abc'+9 приводит к ошибке вместо автоматического преобразования 9 в строку.

Как показано ближе к концу в табл. 7.1, вы также можете проходить по строкам в циклах, используя операторы for, которые повторяют действия, и проверять членство для символов и подстрок посредством операции выражения in, которая по