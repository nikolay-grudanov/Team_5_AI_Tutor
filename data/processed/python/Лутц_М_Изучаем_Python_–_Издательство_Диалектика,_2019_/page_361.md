---
source_image: page_361.png
page_number: 361
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.09
tokens: 7599
characters: 2049
timestamp: 2025-12-24T01:18:30.017708
finish_reason: stop
---

Обратите внимание, что часть else здесь ассоциирована с try, а не с if. Как вы увидите, в Python часть else может появляться в операторах if, но также может присутствовать в операторах try и циклах — ее отступ сообщает, к какому оператору она относится. В данном случае оператор try начинается со слова try и охватывает код, расположенный с отступом под словом else, потому что else имеет такой же отступ, как у try. Оператор if в этом коде односторочный и заканчивается после break.

Поддержка чисел с плавающей точкой

Позже в книге мы еще вернемся к оператору try. Пока достаточно знать, что поскольку оператор try можно применять для перехвата любой ошибки, он сокращает объем кода проверки на предмет ошибок, который приходится писать, и представляет собой очень универсальный подход к работе с необычными случаями. Скажем, при наличии уверенности в том, что print не потерпит неудачу, тогда пример мог бы стать еще короче:

while True:
    reply = input('Enter text:')
    if reply == 'stop': break
    try:
        print(int(reply) ** 2)
    except:
        print('Bad!' * 8)
print('Bye')

И если мы хотим поддерживать ввод чисел с плавающей точкой вместо только целых, например, то использовать try было бы гораздо легче, чем вручную проверять на предмет ошибок — мы могли бы просто вызвать функцию float и перехватить ее исключения:

while True:
    reply = input('Enter text:')
    if reply == 'stop': break
    try:
        print(float(reply) ** 2)
    except:
        print('Bad!' * 8)
print('Bye')

На сегодняшний день функции вроде isfloat для строк не предусмотрено, поэтому такой подход на основе исключений избавляет нас от необходимости анализировать весь возможный синтаксис чисел с плавающей точкой посредством явной проверки на предмет ошибок. Когда код написан таким способом, мы можем вводить более разнообразные числа, но выявление ошибок и выход по-прежнему работают, как и ранее:

Enter text:50
2500.0
Enter text:40.5
1640.25
Enter text:1.23E-100
1.5129e-200
Enter text:spam
Bad!Bad!Bad!Bad!Bad!Bad!Bad!
Enter text:stop
Bye