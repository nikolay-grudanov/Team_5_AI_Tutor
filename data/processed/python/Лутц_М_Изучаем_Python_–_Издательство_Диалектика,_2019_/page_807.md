---
source_image: page_807.png
page_number: 807
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.69
tokens: 7645
characters: 1997
timestamp: 2025-12-24T01:32:22.661023
finish_reason: stop
---

def adder(x, y):
    return x + y
print(adder(2, 3))
print(adder('spam', 'eggs'))
print(adder(['a', 'b'], ['c', 'd']))
% python mod.py
5
spameggs
['a', 'b', 'c', 'd']

3. Переменное количество аргументов. В файле adders.py, содержимое которого показано ниже, находятся две альтернативные версии функции adder. Сложная часть здесь связана с выяснением, каким образом инициализировать накопитель пустым значением любого передаваемого типа. В первом решении используется ручная проверка типа для поиска целого числа и пустой срез первого аргумента (предположительно последовательности), если аргумент определен как не являющийся целым числом. Во втором решении первый аргумент применяется для инициализации и просмотра второго и последующих элементов во многом подобно вариантам функции min из главы 18.

Второе решение лучше. В обоих решениях предполагается, что все аргументы относятся к тому же самому типу, и ни то, ни другое не работает со словарями (как мы узнали в части II, операция + не работает с разнородными типами или словарями). Вы также могли бы добавить проверку типа и специальный код, чтобы сделать возможным использование словарей, но это отдельный вопрос.

def adder1(*args):
    print('adder1', end=' ')
    if type(args[0]) == type(0): # Целое число?
        sum = 0
        # Инициализировать нулем
    else:
        sum = args[0][:0]
        # Иначе последовательность:
        # Использовать пустой срез arg1
    for arg in args:
        sum = sum + arg
    return sum

def adder2(*args):
    print('adder2', end=' ')
    sum = args[0]
    # Инициализировать первым аргументом
    for next in args[1:]:
        sum += next
        # Добавить элементы 2..N
    return sum

for func in (adder1, adder2):
    print(func(2, 3, 4))
    print(func('spam', 'eggs', 'toast'))
    print(func(['a', 'b'], ['c', 'd'], ['e', 'f']))

% python adders.py
adder1 9
adder1 spameggstoast
adder1 ['a', 'b', 'c', 'd', 'e', 'f']
adder2 9
adder2 spameggstoast
adder2 ['a', 'b', 'c', 'd', 'e', 'f']