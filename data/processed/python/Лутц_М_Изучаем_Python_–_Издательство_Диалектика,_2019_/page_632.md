---
source_image: page_632.png
page_number: 632
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.61
tokens: 7960
characters: 3263
timestamp: 2025-12-24T01:27:01.572352
finish_reason: stop
---

Согласно главе 19 существуют также нерекурсивные альтернативы, применяющие явные стеки и очереди, к тому же распространены другие порядки последовательностей (например, поднаборы фиксированного размера и комбинации, которые отфильтровывают дубликаты в другом порядке), но они требуют использования расширений, от чего мы воздержимся. Дополнительные сведения по этой теме ищите в книге Programming Python (http://www.oreilly.com/catalog/9780596158101) или поэкспериментируйте самостоятельно.

Не злоупотребляйте генераторами: EIBTI

Генераторы — довольно сложный инструмент, который возможно лучше трактовать как необязательную тему, если не учитывать тот факт, что они буквально пронизывают язык Python, особенно в линейке Python 3.x. На самом деле для аудитории этой книги генераторы представляются даже не такими необязательными, как тема Unicode (которая вынесена в часть VIII). Как выяснилось, фундаментальные встроенные инструменты, подобные range, map, keys в словарях и файлам, теперь являются генераторами, так что вы должны быть знакомы с концепцией, даже если самостоятельно не пишете новые генераторы. Кроме того, определяемые пользователем генераторы становятся все более распространенными в коде Python, который вы можете встречать в нынешнее время — скажем, в стандартной библиотеке Python.

В целом те же самые предостережения, которые давались в отношении списковых включений, применимы и здесь: не усложняйте свой код определяемыми пользователем генераторами, когда это неоправданно. Веские причины использовать такие инструменты могут отсутствовать, особенно для небольших программ и наборов данных. В подобных ситуациях достаточно будет простых списков результатов, которые легче для понимания, автоматически подвергаются сборке мусора и могут выпускаться быстрее (что так и есть в наши дни: см. следующую главу). С такими расширенными инструментами, как генераторы, полагающимся на неявную "магию", может быть интересно экспериментировать, но им не место в реальном коде, который должен применяться другими, кроме случаев, когда это явно оправданно.

Или снова прибегнем к девизам, выводимым import this:

Явное лучше неявного.

Аббревиатура EIBTI англоязычной формулировки девиза "explicit is better than implicit" является одним из основных руководящих принципов Python и на то имеется веская причина: чем более явно код сообщает о своем поведении, тем более вероятно, что следующий программист сумеет его понять. Сказанное напрямую касается генераторов, чье неявное поведение вполне может оказаться трудным для понимания, нежели более ясные альтернативы. Всегда сохраняйте код простым, если только он не обязан быть сложным!

Обратная сторона: пространство памяти и время, лаконичность, выразительность

Следует отметить, что существуют специфические сценарии использования, для которых генераторы способны предложить хорошие решения. Они могут сократить объем памяти, занимаемой некоторыми программами, уменьшить задержки в других программах и временами делать невозможное возможным. Например, возьмем программу, которая должна производить все возможные перестановки нетривиальной последовательности. Поскольку количество перестановок равно факториалу, растущему экспоненциально, представленная ранее рекурсивная функция permute1 с постро-