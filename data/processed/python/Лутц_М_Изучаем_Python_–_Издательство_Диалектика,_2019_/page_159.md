---
source_image: page_159.png
page_number: 159
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.18
tokens: 7895
characters: 2899
timestamp: 2025-12-24T01:11:58.303830
finish_reason: stop
---

>>> len(text.encode('latin-1')), len(text.encode('utf-16'))
(4, 10)
>>> b'\xff\xfe\x00p\x00\xc4\x00m\x00'.decode('utf-16') # Но декодируются
# в ту же самую строку
'spAm'

В версии Python 2.X все работает более или менее одинаково, но строки Unicode вводятся и отображаются с ведущим символом u, байтовые строки не требуют ведущего символа b, текстовые файлы Unicode должны открываться с помощью функции codecs.open, которая подобно open из Python 3.X принимает имя кодировки, и для представления содержимого в памяти применяется специальная строка unicode. Режим двоичного файла в Python 2.X может показаться необязательными, т.к. обычные файлы представляют собой данные, основанные на байтах, но он требуется для того, чтобы избежать изменения символов конца строки, если они присутствуют:

>>> import codecs
>>> codecs.open('unidata.txt', encoding='utf8').read() # Python 2.X: читать/
# декодировать текст
u'sp\xc4m'
>>> open('unidata.txt', 'rb').read() # Python 2.X: читать низкоуровневые байты
'sp\xc3\x84m'
>>> open('unidata.txt').read() # Python 2.X: также низкоуровневые/декодированные
'sp\xc3\x84m'

Хотя заботиться о таком отличии обычно не приходится, если вы имеете дело только с текстом ASCII, строки и файлы являются ценным ресурсом в случае работы с двоичными данными (которые охватывают большинство видов медиаданных) или текстом с интернационализированными наборами символов (который включает большинство содержимого веб-сети и Интернета в целом). Язык Python также поддерживает имена файлов, отличающиеся от ASCII (не только содержимое), но это делается в значительной степени автоматически, как будет показано в главе 37.

Другие инструменты, подобные файлам

Функция open является основополагающим компонентом при выполнении большинства работ с файлами в Python. Тем не менее, в составе Python имеются дополнительные инструменты для решения более сложных задач: конвейеры, очереди FIFO, сокеты, файлы с доступом по ключу, модуль shelve для постоянства объектов, дескрипторные файлы, интерфейсы к реляционным и объектно-ориентированным базам данных и многое другое. Например, дескрипторные файлы поддерживают блокировку и прочие низкоуровневые инструменты, а сокеты предоставляют интерфейс для работы в сети и взаимодействия между процессами. Многие из перечисленных инструментов в настоящей книге не рассматриваются, но вы сочтете их полезными, когда всерьез начнете программировать на Python.

Прочие основные типы

Помимо основных типов, описанных до сих пор, существуют и другие, которые могут или не могут претендовать на членство в категории в зависимости от того, насколько широко она определена. Скажем, множества представляют собой недавнее добавление к языку и не являются ни отображениями, ни последовательностями; на самом деле это неупорядоченные коллекции уникальных и неизменяемых объектов. Множества создаются путем вызова встроенной функции set либо использования