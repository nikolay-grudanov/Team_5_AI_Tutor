---
source_image: page_327.png
page_number: 327
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.92
tokens: 7669
characters: 2179
timestamp: 2025-12-24T01:17:25.655826
finish_reason: stop
---

Ссылки или копии

В главе 6 упоминалось, что присваивания всегда сохраняют ссылки на объекты, а не их копии. На практике обычно так и требуется. Тем не менее, поскольку присваивания способны создавать множество ссылок на один и тот же объект, важно осознавать, что модификация изменяемого объекта на месте может затрагивать другие ссылки на тот же объект внутри программы. Если такое поведение нежелательно, тогда понадобится сообщить Python о необходимости явного копирования объекта.

Мы изучали это явление в главе 6, но оно может стать более тонким, когда в игру вступают крупные объекты вроде тех, что исследовались позже. Скажем, в следующем примере создается один список, который присваивается X, и другой список, присваиваемый L, который включает ссылку на список X. Вдобавок создается словарь D, содержащий еще одну ссылку на список X:

```python
>>> X = [1, 2, 3]
>>> L = ['a', X, 'b']      # Встроенные ссылки на объект X
>>> D = {'x':X, 'y':2}
```

В данный момент есть три ссылки на созданный первый список: из имени X, изнутри списка, присвоенного L, и изнутри словаря, присвоенного D. Ситуация изображена на рис. 9.2.

![Разделяемые ссылки на объекты](https://i.imgur.com/3Q5z5QG.png)

Рис. 9.2. Разделяемые ссылки на объекты: из-за того, что на список в X ссылаются также переменные L и D, изменение этого совместно используемого списка через переменную X делает его другим для L и D

Так как списки изменяемы, модификация разделяемого спискового объекта через любую из трех ссылок также отражается на остальных двух ссылках:

```python
>>> X[1] = 'surprise'      # Изменяет все три ссылки!
>>> L
['a', [1, 'surprise', 3], 'b']
>>> D
{'x': [1, 'surprise', 3], 'y': 2}
```

Ссылки являются более высокоуровневым аналогом указателей в других языках, по которым всегда производится следование, когда они используются. Хотя вы не можете заполучить саму ссылку, одну и ту же ссылку допускается сохранять в нескольких местах (переменных, списках и т.д.). Это полезная характеристика — вы можете передавать крупный объект внутри программы, не создавая попутно его копии, что сопряжено с затратами. Однако если вам действительно нужны копии, тогда вы можете запросить их: