---
source_image: page_423.png
page_number: 423
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.32
tokens: 7710
characters: 2210
timestamp: 2025-12-24T01:20:36.713355
finish_reason: stop
---

>>> for all in [(1, 2, 3, 4), (5, 6, 7, 8)]: # Нарезание вручную в Python 2.x
...     a, b, c = all[0], all[1:3], all[3]
...     print(a, b, c)
...
1 (2, 3) 4
5 (6, 7) 8

Более подробно эта форма записи обсуждалась в главе 11.

Вложенные циклы for

Давайте теперь взглянем на цикл for, который сложнее тех, что мы видели до сих пор. В приведенном ниже примере иллюстрируется вложение операторов и конструкция else цикла for. Имея список объектов (items) и список ключей (tests), код ищет каждый ключ в списке объектов и сообщает о результате поиска:

>>> items = ["aaa", 111, (4, 5), 2.01]    # Набор объектов
>>> tests = [(4, 5), 3.14]                # Ключи для поиска
>>>
>>> for key in tests:
...     for item in items:
...         if item == key:
...             print(key, "was found")
...             break
...     else:
...         print(key, "not found!")
...
(4, 5) was found
3.14 not found!

Поскольку во вложенном операторе if выполняется break, когда совпадение обнаружено, в конструкции else цикла можно предположить, что если она достигнута, то поиск потерпел неудачу. Обратите внимание на вложение. После запуска кода одновременно выполняются два цикла: внешний цикл просматривает список ключей, а внутренний — список элементов для каждого ключа. Вложение конструкции else цикла критически важно; она смещена на тот же самый уровень, что и строка заголовка внутреннего цикла for, поэтому ассоциируется с внутренним циклом, но не с оператором if или внешним циклом for.

Пример является иллюстративным, но его код можно упростить, если задействовать операцию in для проверки членства. Из-за того, что операция in неявно просматривает объект в поиске совпадения (по крайней мере, логически), она заменяет внутренний цикл:

>>> for key in tests:                        # Для всех ключей
...     if key in items:        # Позволить Python проверять на предмет совпадения
...         print(key, "was found")   # Ключ найден
...     else:
...         print(key, "not found!")   # Ключ не найден
...
(4, 5) was found
3.14 not found!

В целом ради краткости и высокой производительности разумно поручать Python выполнение как можно большего объема работы (что иллюстрируется в показанном выше решении).