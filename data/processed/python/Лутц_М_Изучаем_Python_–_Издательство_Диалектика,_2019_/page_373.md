---
source_image: page_373.png
page_number: 373
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.36
tokens: 7791
characters: 2417
timestamp: 2025-12-24T01:19:00.170878
finish_reason: stop
---

чения, прежде чем их можно будет использовать, поэтому вы обязаны инициализировать счетчики нулем до того, как сможете их увеличивать):

    >>> a = b = 0
    >>> b = b + 1
    >>> a, b
    (0, 1)

Здесь модификация b изменяет только b, т.к. числа не поддерживают изменения на месте. Если присваиваемый объект является неизменяемым, то не имеет значения, сколько имен на него ссылаются.

Тем не менее, как всегда, мы должны быть более осторожными в случае инициализации переменных пустым изменяемым объектом вроде списка или словаря:

    >>> a = b = []
    >>> b.append(42)
    >>> a, b
    ([42], [42])

На этот раз, поскольку a и b ссылаются на тот же самый объект, его дополнение на месте через b также повлияет на то, что мы видим через a. В действительности мы имеем просто еще один пример явления разделяемых ссылок, с которым впервые столкнулись в главе 6. Во избежание проблемы инициализируйте изменяемые объекты в отдельных операторах, чтобы каждый из них создавал индивидуальный пустой объект, выполняя собственное литеральное выражение:

    >>> a = []
    >>> b = []        # a и b не разделяют тот же самый объект
    >>> b.append(42)
    >>> a, b
    ([], [42])

Присваивание кортежа следующего вида дает такой же результат — за счет выполнения двух списковых выражений оно создает два отдельных объекта:

    >>> a, b = [], []    # a и b не разделяют тот же самый объект

Дополненные присваивания

Начиная с версии Python 2.0, стал доступным набор дополнительных форматов операторов присваивания, который приведен в табл. 11.2. Известные как дополненные присваивания и позаимствованные из языка C, такие форматы по большей части являются всего лишь сокращениями. Они заключают в себе бинарную операцию и присваивание. Скажем, следующие два формата практически равноценны:

    X = X + Y           # Традиционная форма
    X += Y              # Более новая дополненная форма

Таблица 11.2. Операторы дополненного присваивания

<table>
  <tr>
    <th>X += Y</th>
    <th>X &amp;= Y</th>
    <th>X -= Y</th>
    <th>X |= Y</th>
  </tr>
  <tr>
    <td>X *= Y</td>
    <td>X ^= Y</td>
    <td>X /= Y</td>
    <td>X &gt;&gt;= Y</td>
  </tr>
  <tr>
    <td>X %= Y</td>
    <td>X &lt;&lt;= Y</td>
    <td>X **= Y</td>
    <td>X //= Y</td>
  </tr>
</table>

Дополненное присваивание работает на любом типе, который поддерживает подразумеваемую бинарную операцию. Например, вот два способа добавления 1 к имени: