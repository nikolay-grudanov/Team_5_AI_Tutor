---
source_image: page_699.png
page_number: 699
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.78
tokens: 7784
characters: 2681
timestamp: 2025-12-24T01:28:57.948962
finish_reason: stop
---

С другой стороны, некоторые программы действительно нуждаются в изменении sys.path. Скажем, сценарии, запускаемые на веб-серверах, часто выполняются от имени пользователя nobody (никто), чтобы ограничить доступ к компьютеру. Из-за того, что такие сценарии обычно полагаются на пользователя nobody при установке PYTHONPATH каким-то отдельно взятым способом, до выполнения любых операторов import они нередко устанавливают sys.path вручную для включения обязательных каталогов исходного кода. Как правило, метода sys.path.append или sys.path.insert будет достаточно, хотя он действует в течение только одиночного запуска программы.

Выбор файла модуля

Имейте в виду, что расширения имен файлов (например, .py) намеренно не указываются в операторах import. Python выбирает первый найденный в пути поиска файл, имя которого соответствует имени, указанному в операторе import. На самом деле операции импортирования представляют собой точку интерфейса к множеству внешних компонентов — исходному коду, разновидностям байт-кода, скомпилированным расширениям и т.п. Python автоматически выбирает любой вариант, дающий совпадение с именем модуля.

Источники модулей

В настоящее время оператор import вида import b способен загрузить или распознать:
• файл исходного кода по имени b.py;
• файл байт-кода по имени b.pyc;
• файл оптимизированного байт-кода по имени b.pyc (менее распространенный формат);
• каталог по имени b для операций импортирования пакетов (рассматриваются в главе 24);
• скомпилированный модуль расширения, написанный на C, C++ или другом языке и динамически связываемый при импортировании (например, b.so в Linux либо b.dll или b.pyd в Cygwin и Windows);
• скомпилированный встроенный модуль, написанный на C и статически связанный с Python;
• компонент в файле ZIP, который автоматически извлекается при импортировании;
• образ в памяти для фиксированных исполняемых файлов;
• класс Java в версии Jython языка Python;
• компонент .NET в версии IronPython языка Python.

Операции импортирования расширений C, классов Java в Jython и пакетов распространяют импортирование за пределы простых файлов. Тем не менее, для импортеров различия в типах загружаемых файлов совершенно несущественны как при импортировании, так и при извлечении атрибутов модулей.

Оператор import b обеспечивает получение модуля b, чем бы он ни был, в соответствии с путем поиска модулей, а b.attr извлекает элемент из модуля, будь он переменной Python или связанной функцией C. Некоторые стандартные модули, используемые в книге, на самом деле написаны на языке C, а не Python; поскольку они выглядят в точности как файлы модулей на Python, их клиентам не приходится беспокоиться об этом факте.