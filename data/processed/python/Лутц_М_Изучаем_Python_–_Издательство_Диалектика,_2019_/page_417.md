---
source_image: page_417.png
page_number: 417
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.81
tokens: 7760
characters: 2591
timestamp: 2025-12-24T01:20:33.707307
finish_reason: stop
---

Дополнительные сведения о конструкции else цикла

Поскольку конструкция else цикла присутствует только в Python, она может сбивать с толку новичков (и не использоваться некоторыми ветеранами; мне встречались те, кто даже не знал, что в циклах имеется else!). В общих чертах конструкция else цикла просто предлагает явный синтаксис для распространенного кодового сценария — она представляет собой кодовую структуру, которая позволяет перехватить "другой" выход из цикла, не устанавливая и не проверяя флаги или условия.

Предположим, например, что мы пишем цикл для поиска значения в списке и хотим знать, было ли значение найдено, после выхода из цикла. Решить задачу можно было бы следующим образом (код намеренно оставлен абстрактным и незавершенным; x — это последовательность, а match — функция проверки, которая должна быть определена):

found = False
while x and not found:
    if match(x[0]):      # Значение в начале?
        print('Ni')
        found = True
    else:
        x = x[1:]         # Усечь в начале и повторить
if not found:
    print('not found')   # Значение не найдено

Здесь мы инициализируем, устанавливаем и позже проверяем флаг для определения, успешным ли был поиск. Это допустимый код Python, и он работает; тем не менее, он точно отражает разновидность структуры, для поддержки которой предназначена конструкция else цикла. Вот эквивалентный код с конструкцией else:

while x:                # Выйти, когда x пусто
    if match(x[0]):
        print('Ni')
        break           # Выйти, пропустить else
    x = x[1:]
else:
    print('Not found')   # Выполняется только в случае исчерпания x

Версия с конструкцией else цикла лаконичнее. Флаг исчез, а проверка if после конца цикла заменена конструкцией else (вертикально выровненной со словом while). Поскольку break внутри главной части while производит выход из цикла и пропускает else, мы имеем более структурированный способ перехвата случая с неудавшимся поиском.

Некоторые читатели могли заметить, что конструкцию else в предыдущем примере можно было бы заменить проверкой, пуст ли список x, после цикла (if not x:). Хотя это справедливо в рассмотренном примере, конструкция else предлагает явный синтаксис для такого кодового шаблона (она здесь является очевидной конструкцией для случая с неудавшимся поиском), а явная проверка, пуст ли список, в определенных ситуациях может оказаться неприменимой. Конструкция else цикла становится даже более удобной, когда используется в сочетании с циклом for (тема следующего раздела), потому что итерация по последовательности не находится под вашим контролем.