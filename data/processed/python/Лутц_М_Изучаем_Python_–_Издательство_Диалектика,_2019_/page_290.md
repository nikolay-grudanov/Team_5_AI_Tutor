---
source_image: page_290.png
page_number: 290
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.25
tokens: 7588
characters: 1873
timestamp: 2025-12-24T01:16:07.528780
finish_reason: stop
---

KeyError: (2, 3, 6)

Трассировка (самый последний вызов указан последним):
    Файл <stdin>, строка 1, в ?
Ошибка ключа: (2, 3, 6)

Избегание ошибок, связанных с отсутствующими ключами

Ошибки извлечения несуществующих ключей распространены в разреженных матрицах, но вряд ли кто-то захочет, чтобы они вызывали прекращение работы программы. Имеются, по меньшей мере, три способа заполнения стандартным значением вместо получения такого сообщения об ошибке — можно заранее проверять ключи в операторах if, использовать оператор try для явного перехвата и восстановления после исключения или применять показанный ранее словарный метод get для представления стандартного значения ключей, которые не существуют. Рассмотрим первые два способа в рамках обзора синтаксиса операторов, который мы начнем исследовать в главе 10:

>>> if (2, 3, 6) in Matrix:
...     print(Matrix[(2, 3, 6)])
... else:
...     print(0)
...
0
>>> try:
...     print(Matrix[(2, 3, 6)])
... except KeyError:
...     print(0)
...
0
>>> Matrix.get((2, 3, 4), 0)
88
>>> Matrix.get((2, 3, 6), 0)
0

Метод get самый лаконичный в плане требований написания кода, но операторы if и try гораздо более универсальны в отношении свободы действий; мы начнем обсуждать их в главе 10.

Вложение словарей

Как видите, словари способны исполнять многие роли в Python. В целом они могут заменять поисковые структуры данных (поскольку индексация по ключу является операцией поиска) и представлять множество видов структурированной информации. Например, словари — это один из многих способов описания свойств элемента в предметной области программы; т.е. они в состоянии служить тем же целям, что и "записи" или "структуры" в других языках.

В следующем примере заполняется словарь, описывающий гипотетическое лицо, путем присваивания по новым ключам со временем:

>>> rec = {}
>>> rec['name'] = 'Bob'
>>> rec['age'] = 40.5