---
source_image: page_272.png
page_number: 272
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.86
tokens: 7823
characters: 2399
timestamp: 2025-12-24T01:15:38.612866
finish_reason: stop
---

Базовые списковые операции

Поскольку списки являются последовательностями, они поддерживают многие операции, относящиеся к строкам. Скажем, списки реагируют на операции + и * почти как строки — упомянутые операции здесь также означают конкатенацию и повторение, но только результатом будет новый список, а не строка:

% python
>>> len([1, 2, 3])        # Длина
3
>>> [1, 2, 3] + [4, 5, 6]  # Конкатенация
[1, 2, 3, 4, 5, 6]
>>> ['Ni!'] * 4           # Повторение
['Ni!', 'Ni!', 'Ni!', 'Ni!']

Хотя операция + работает одинаково для списков и строк, важно знать, что она ожидает тот же самый вид последовательности с обеих сторон — иначе при запуске кода возникнет ошибка. Например, выполнить конкатенацию списка и строки не удастся, если сначала не преобразовать список в строку (используя такие инструменты, как str или форматирование %) или строку в список (посредством встроенной функции list):

>>> str([1, 2]) + "34"    # То же, что и "[1, 2]" + "34"
'[1, 2]34'
>>> [1, 2] + list("34")   # То же, что и [1, 2] + ["3", "4"]
[1, 2, '3', '4']

Итерация по спискам и списковые включения

В более общем смысле списки реагируют на все операции над последовательностями, которые применялись к строкам в предыдущей главе, включая инструменты итерации:

>>> 3 in [1, 2, 3]        # Членство
True
>>> for x in [1, 2, 3]:
...     print(x, end=' ')
...
1 2 3

Мы обсудим итерацию for и встроенную функцию range, описанные в табл. 8.1, более подробно в главе 13, т.к. они связаны с синтаксисом операторов. Вкратце циклы for проходят по элементам в любой последовательности слева направо, выполняя один и более операторов для каждого элемента; range производит последовательные целые числа.

Операции в последней строке табл. 8.1, списковые включения и вызовы map детально рассматриваются в главах 14 и 20. Однако их базовое действие прямолинейно; как объяснялось в главе 4, списковые включения — это способ построения нового списка за счет применения выражения к каждому элементу в последовательности (на самом деле в любом итерируемом объекте), который тесно связан с циклами for:

>>> res = [c * 4 for c in 'SPAM']   # Списковые включения
>>> res
['SSSS', 'PPPP', 'AAAA', 'MMMM']

Такое выражение функционально эквивалентно циклу for, который строит список результатов вручную, но как будет показано в последующих главах, списковые включения проще в написании и в наши дни, вероятно, выполняются быстрее: