---
source_image: page_196.png
page_number: 196
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.56
tokens: 7838
characters: 2128
timestamp: 2025-12-24T01:13:02.666260
finish_reason: stop
---

>>> Fraction.from_float(1.75)    # Преобразует объект с плавающей точкой
#   в дробь: другой способ
Fraction(7, 4)
>>> Fraction(*(1.75).as_integer_ratio())
Fraction(7, 4)

Наконец, в выражениях разрешено смешивать некоторые типы, хотя иногда для предохранения точности требуется преобразовывать в тип Fraction вручную. Взгляните на показанное далее взаимодействие, чтобы понять, как все работает:

>>> x
Fraction(1, 3)
>>> x + 2    # Объект дроби + объект целого -> объект дроби
Fraction(7, 3)
>>> x + 2.0    # Объект дроби + объект с плавающей точкой ->
#   объект с плавающей точкой
2.3333333333333335
>>> x + (1./3)    # Объект дроби + объект с плавающей точкой ->
#   объект с плавающей точкой
0.6666666666666666
>>> x + (4./3)
1.6666666666666665
>>> x + Fraction(4, 3)    # Объект дроби + объект дроби -> объект дроби
Fraction(5, 3)

Одно предостережение: несмотря на возможность преобразования числа с плавающей точкой в дробь, в ряде случаев при этом возникает неизбежная потеря точности, потому что число в своей исходной форме с плавающей точкой не является точным. При необходимости такие результаты можно упростить, ограничивая максимальное значение знаменателя:

>>> 4.0 / 3
1.3333333333333333
>>> (4.0 / 3).as_integer_ratio() # Точность теряется из-за числа с плавающей точкой
(6004799503160661, 4503599627370496)

>>> x
Fraction(1, 3)
>>> a = x + Fraction(*(4.0 / 3).as_integer_ratio())
>>> a
Fraction(22517998136852479, 13510798882111488)
>>> 22517998136852479 / 13510798882111488. # 5 / 3 (или близко!)
1.6666666666666667
>>> a.limit_denominator(10)    # Упростить до ближайшей дроби
Fraction(5, 3)

Чтобы узнать больше о типе Fraction, продолжайте экспериментировать самостоятельно и обратитесь к руководствам по стандартным библиотекам Python 2.6, 2.7 и 3.x, а также к другой документации.

Множества

Помимо десятичного типа в Python 2.4 также появился новый тип коллекции, множество — неупорядоченная коллекция уникальных и неизменяемых объектов, которая поддерживает операции, соответствующие математической теории множеств. По определению элемент встречается во множестве только однажды независимо от того,