---
source_image: page_507.png
page_number: 507
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.96
tokens: 7933
characters: 3198
timestamp: 2025-12-24T01:23:17.263597
finish_reason: stop
---

определяют локальную область видимости, а модули — глобальную область видимости со следующими свойствами.

• Включающий модуль является глобальной областью видимости. Каждый модуль представляет собой глобальную область видимости, т.е. пространство имен, в котором существуют переменные, создаваемые (присваиваемые) на верхнем уровне файла модуля. Для внешнего мира глобальные переменные становятся атрибутами объекта модуля после его импортирования, но могут также использоваться в качестве простых переменных внутри самого файла модуля.

• Глобальная область видимости охватывает только одиночный файл. Не обманывайтесь насчет слова "глобальная" — имена на верхнем уровне файла глобальны только в коде внутри этого одного файла. Вообще говоря, в Python нет понятия единственной всеобъемлющей глобальной области видимости, основанной на файлах. Взамен имена распределяются по модулям, и модуль должен всегда явным образом импортироваться, чтобы появилась возможность работы с именами, определенными в его файле. Когда вы слышите "глобальный" в Python, подразумевайте "модуль".

• Присвоенные имена являются локальными, если только не объявлены глобальными или нелокальными. По умолчанию все имена, присвоенные внутри определения функции, помещаются в локальную область видимости (пространство имен, ассоциированное с вызовом функции). Если необходимо присвоить имя, которое существует на верхнем уровне модуля, включающего в себя функцию, тогда такое имя можно объявить как глобальное в операторе global внутри функции. Если нужно присвоить имя, находящееся в объемлющем операторе def, то начиная с Python 3.x, имя можно объявить как нелокальное в операторе nonlocal.

• Все остальные имена представляют собой локальные, глобальные или встроенные в объемлющей функции. Предполагается, что имена, которым не присваиваются значения в определении функции, являются локальными именами в объемлющей области видимости, которые определены в окружающем операторе; глобальными именами, существующими в пространстве имен включающего модуля; или встроенными именами в предварительно определенном модуле builtins, предоставляемом Python.

• Каждый вызов функции создает новую локальную область видимости. Всякий раз, когда вы вызываете функцию, создается новая локальная область видимости, т.е. пространство имен, в котором обычно будут существовать имена, созданные внутри функции. Вы можете думать о каждом операторе def (и выражении lambda) как об определении новой локальной области видимости, но локальная область видимости в действительности соответствует вызову функции. Поскольку Python разрешает функциям вызывать самих себя в цикле (расширенный прием, известный как рекурсия и кратко упомянутый в главе 9 при исследовании сравнений), каждый активный вызов получает собственную копию локальных переменных функции. Рекурсия также полезна в функциях, написанных для обработки структур, форму которых нельзя предугадать заранее; мы исследуем ее более полно в главе 19.

Здесь уместно отметить несколько тонкостей. Прежде всего, имейте в виду, что имена в коде, набранном в интерактивной подсказке, тоже существуют в модуле и подчиняются обычным правилам областей видимости: они являются глобальными пере-