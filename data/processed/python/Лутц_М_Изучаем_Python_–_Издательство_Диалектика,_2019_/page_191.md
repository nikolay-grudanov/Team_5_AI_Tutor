---
source_image: page_191.png
page_number: 191
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.09
tokens: 7932
characters: 2844
timestamp: 2025-12-24T01:12:58.067855
finish_reason: stop
---

Например, благодаря десятичным числам мы можем иметь значение с плавающей точкой, которое всегда удерживает всего лишь два десятичных разряда после точки. Кроме того, мы можем указывать, каким образом округлять или усекать лишние десятичные разряды за пределами границ объекта. Хотя десятичный тип в общем случае приводит к снижению производительности, если сравнивать его с нормальным типом с плавающей точкой, он хорошо подходит для представления величин с фиксированной точностью вроде денежных сумм и может помочь в достижении лучшей числовой точности.

Основы десятичных чисел

Последнее утверждение заслуживает пояснений. Как было кратко показано во время исследования сравнений, математика с плавающей точкой не совсем точна из-за ограниченного пространства, применяемого для хранения значений. Скажем, следующее выражение должно давать ноль, но это не так. Результат близок к нулю, но здесь недостаточно битов, чтобы обеспечить точность:

```python
>>> 0.1 + 0.1 + 0.1 - 0.3    # Python 3.3
5.551115123125783e-17
```

Вывод результата в формате отображения, дружественного к пользователю, не особенно помогает, поскольку аппаратные средства, имеющие отношение к математике с плавающей точкой, по своему существу ограничены в терминах погрешности (также известной как точность). Приведенный далее оператор в Python 3.3 дает такой же результат, как и пример выше:

```python
>>> print(0.1 + 0.1 + 0.1 - 0.3)    # Ранние версии Python
# (в Python 3.3 вывод отличается)
5.55111512313e-17
```

Тем не менее, в случае использования десятичных типов результат может быть нулевым:

```python
>>> from decimal import Decimal
>>> Decimal('0.1') + Decimal('0.1') + Decimal('0.1') - Decimal('0.3')
Decimal('0.0')
```

Как здесь видно, мы можем создавать десятичные объекты, вызывая функцию конструктора Decimal из модуля decimal и передавая ей строки, которые имеют желаемое количество десятичных цифр для результирующего объекта (при необходимости применяя функцию str для преобразования значений с плавающей точкой в строки). Когда десятичные объекты с разной точностью смешиваются в выражениях, Python автоматически выполняет преобразование к наибольшему количеству десятичных цифр после точки:

```python
>>> Decimal('0.1') + Decimal('0.10') + Decimal('0.10') - Decimal('0.30')
Decimal('0.00')
```

В Python 2.7, 3.1 и последующих версиях также есть возможность создавать десятичный объект из объекта с плавающей точкой посредством вызова вида decimal.Decimal.from_float(1.25), а в последних версиях Python разрешено использовать числа с плавающей точкой напрямую. Преобразование является точным, но иногда выдает большое количество цифр по умолчанию, если только не зафиксировать его, как объясняется в следующем разделе:

```python
>>> Decimal(0.1) + Decimal(0.1) + Decimal(0.1) - Decimal(0.3)
Decimal('2.775557561565156540423631668E-17')
```