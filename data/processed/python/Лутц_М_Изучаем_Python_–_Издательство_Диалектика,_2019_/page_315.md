---
source_image: page_315.png
page_number: 315
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.63
tokens: 7834
characters: 2898
timestamp: 2025-12-24T01:17:03.473706
finish_reason: stop
---

быстрее ряда других вариантов (конечно, в зависимости от многих условий). Тем не менее, мы еще не добрались до операторов и итераторов, поэтому с более полным объяснением приведенного кода придется повременить до главы 14.

Примечание для пользователей Windows. Как упоминалось в главе 7, функция open принимает прямые косые черты в стиле Unix вместо обратных косых черт, обычных для Windows, поэтому для путей к каталогам подойдет любая из указанных ниже форм — неформатированные строки, прямые косые черты или удвоенные обратные косые черты:

```python
>>> open(r'C:\Python33\Lib\pdb.py').readline()
'#! /usr/bin/env python3\n'
>>> open('C:/Python33/Lib/pdb.py').readline()
'#! /usr/bin/env python3\n'
>>> open('C:\\Python33\\Lib\\pdb.py').readline()
'#! /usr/bin/env python3\n'
```

Форма с неформатированными строками в первой команде полезна еще и для отключения случайных управляющих последовательностей, когда контролировать содержимое строк невозможно, а также при других обстоятельствах.

Кратко о текстовых и двоичных файлах

Строго говоря, в примере из предыдущего раздела использовался текстовый файл. В Python 3.x и 2.x тип файла определяется вторым аргументом функции open, строчной режима — наличие в ней b означает двоичный файл. В Python всегда поддерживались как текстовые, так и двоичные файлы, но в Python 3.x между ними имеется более строгое разграничение.

• Текстовые файлы представляют содержимое как нормальные строки str, автоматически выполняют кодирование и декодирование Unicode и по умолчанию производят трансляцию символов конца строки.
• Двоичные файлы представляют содержимое как специальный строковый тип bytes и позволяют программам получать доступ к неизмененному содержимому файлов.

Напротив, текстовые файлы Python 2.x поддерживают 8-битный текст и двоичные данные, а текст Unicode обрабатывается специальным строковым типом и файловым интерфейсом (строки unicode и codecs.open). Отличия в Python 3.x проистекают из того факта, что в нормальном строковом типе простой текст и текст Unicode были объединены — это имеет смысл, т.к. весь текст представлен в Unicode, включая ASCII и другие 8-битные кодировки.

Поскольку большинство программистов имеют дело только с текстом ASCII, они могут обойтись базовым интерфейсом к текстовым файлам, который применялся в предыдущем примере, и нормальными строками. В Python 3.x все строки формально представлены в Unicode, но пользователи ASCII обычно этого не замечают. Фактически текстовые файлы и строки работают одинаково в Python 3.x и 2.x, если охват сценария ограничен такими простыми формами текста.

Однако если вам нужно поддерживать интернационализированные приложения или байтовые данные, тогда различие в Python 3.x повлияет на ваш код (обычно в лучшую сторону). В общем случае вы должны использовать строки bytes для двоичных файлов и нормальные строки str для текстовых файлов. Вдобавок из-за того, что те-