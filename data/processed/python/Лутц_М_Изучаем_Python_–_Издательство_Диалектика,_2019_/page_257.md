---
source_image: page_257.png
page_number: 257
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.17
tokens: 7832
characters: 2574
timestamp: 2025-12-24T01:15:04.694057
finish_reason: stop
---

>>> '{0:.2f}'.format(1 / 3.0)    # Жестко закодированные параметры
'0.33'
>>> '%.2f' % (1 / 3.0)            # То же самое для выражения
'0.33'
>>> '{0:.{1}f}'.format(1 / 3.0, 4) # Получение значений из аргументов
'0.3333'
>>> '%.*f' % (4, 1 / 3.0)         # То же самое для выражения
'0.3333'

Наконец, в версиях Python 2.6 и 3.0 появилась новая встроенная функция format, которую можно применять для форматирования одиночного элемента. Она является более лаконичной альтернативой использованию строкового метода format и напоминает форматирование посредством выражения форматирования %:

>>> '{0:.2f}'.format(1.2345)      # Строчный метод
'1.23'
>>> format(1.2345, '.2f')         # Встроенная функция
'1.23'
>>> '%.2f' % 1.2345               # Выражение
'1.23'

Формально встроенная функция встроенная функция format выполняет метод __format__ указанного объекта, который метод str.format внутренне вызывает для каждого форматируемого элемента. Тем не менее, она все же здесь многословнее первоначального выражения форматирования %, что подводит нас к теме следующего раздела.

Сравнение с выражением форматирования %

Если вы внимательно изучали предшествующие разделы, то вероятно отметили, что, по крайней мере, для позиционных ссылок и ключей словаря строковый метод format выглядит очень похожим на выражение форматирования %, в особенности при расширенном применении с кодами типов и дополнительным синтаксисом форматирования. На самом деле в распространенных сценариях использования выражения форматирования может быть легче записывать, чем вызовы методов форматирования, особенно когда применяется обобщенная цель вывода строки %s и даже с учетом наличия автоматической нумерации полей, добавленной в версиях Python 2.7 и 3.1:

# Выражение форматирования: во всех версиях Python 2.x/3.x
print('%s=%s' % ('spam', 42))
# Метод форматирования: в Python 3.0+ и 2.6+
print('{0}={1}'.format('spam', 42))
# С автоматической нумерацией: в Python 3.1+ и 2.7
print('{}={}'.format('spam', 42))

Как вскоре будет показано, при более замысловатом форматировании подходы имеют тенденцию уравниваться в плане сложности (трудные задачи обычно трудны независимо от подхода), а некоторые считают метод форматирования избыточным, учитывая широкую распространенность выражения.

С другой стороны, метод форматирования также предлагает несколько потенциальных преимуществ. Например, первоначальное выражение % неспособно обрабатывать ключевые слова, ссылки на атрибуты и коды двоичных типов, хотя с помощью ссылок на ключи словаря в строках формата % часто можно достичь подобных целей.