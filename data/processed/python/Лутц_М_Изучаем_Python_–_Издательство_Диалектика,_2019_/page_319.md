---
source_image: page_319.png
page_number: 319
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.46
tokens: 7982
characters: 3323
timestamp: 2025-12-24T01:17:16.823202
finish_reason: stop
---

Мы получаем эквивалентный объект словаря, не предпринимая никаких разбиений или преобразований вручную. Модуль pickle выполняет то, что известно как сериализация объектов (преобразование объектов в строки байтов и обратно), но требует совсем небольшой работы с нашей стороны. На самом деле модуль pickle внутренне транслирует словарь в строковую форму, которая не выглядит особо привлекательно (к тому же может варьироваться при использовании pickle в других режимах протокола данных):

```python
>>> open('datafile.pkl', 'rb').read()  # Формат предрасположен к изменениям!
b'\x80\x03q\x00(X\x01\x00\x00\x00bq\x01K\x02X\x01\x00\x00\x00aq\x02K\x01u.'
```

Поскольку модуль pickle в состоянии реконструировать объект из такого формата, нам не придется делать это самостоятельно. Дополнительные сведения о модуле pickle ищите в руководстве по стандартной библиотеке Python либо импортируйте pickle и передайте его help в интерактивной подсказке. Во время исследований взгляните также на модуль shelve, который представляет собой инструмент, применяющий pickle для хранения объектов Python в файловой системе с доступом по ключу, что выходит за рамки рассматриваемых здесь тем (хотя вы увидите пример shelve в действии в главе 28, а также другие примеры использования pickle в главах 31 и 37 тома 2).

Обратите внимание, что файл, который применяется для хранения объекта, обработанного pickle, был открыт в двоичном режиме; в Python 3.x двоичный режим всегда обязателен, т.к. pickle создает и использует строковый объект bytes, а такие объекты подразумевают файлы в двоичном режиме (файлы в текстовом режиме в Python 3.x подразумевают строки str). В ранних версиях Python допускалось применять файлы в текстовом режиме для протокола 0 (принимается по умолчанию и создает текст ASCII), пока текстовый режим используется согласованно; более высокие протоколы требуют файлов в двоичном режиме. Стандартным протоколом Python 3.x является 3 (двоичный), но он создает строковый объект bytes даже для протокола 0. Дополнительную информацию и примеры применения модуля pickle ищите в главах 28, 31 и 37 второго тома, руководстве по библиотеке Python или справочниках.

В Python 2.x также имеется модуль cPickle, который представляет собой оптимизированную версию pickle и может импортироваться напрямую для достижения более высокой скорости. В Python 3.x этот модуль переименован в _pickle и используется автоматически в pickle — сценарии просто импортируют pickle и позволяют Python самому заняться оптимизацией.

Хранение объектов Python в формате JSON

Модуль pickle из предыдущего раздела транслирует произвольные объекты Python в патентованный формат, разработанный специально для Python и на протяжении многих лет отрегулированный для достижения высокой производительности. JSON является более новым и развивающимся форматом обмена данными, нейтральным к языкам программирования и поддерживаемым различными системами. Например, MongoDB хранит данные в документной базе данных, в которой применяется двоичный формат JSON.

Формат JSON не поддерживает настолько широкий диапазон типов объектов Python, как модуль pickle, но его переносимость становится преимуществом в ряде контекстов, и он представляет еще один способ сериализации специфической категории объектов Python для хранения и передачи. Кроме того, из-за синтаксической