---
source_image: page_644.png
page_number: 644
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.79
tokens: 7798
characters: 2749
timestamp: 2025-12-24T01:27:22.242625
finish_reason: stop
---

ре формы включений в современном Python — генераторы плюс включения списков, множеств и словарей. Хотя были показаны все встроенные итерационные инструменты, мы еще вернемся к данной теме в главе 30 при изучении итерируемых объектов, которые основаны на определяемых пользователем классах.

Следующая глава является в некоторой степени продолжением темы пройденной главы — она заканчивает текущую часть книги реалистичным учебным примером, в котором измеряется производительность обсуждаемых здесь инструментов. Но прежде чем переходить к оценочным испытаниям включений и генераторов, закрепите пройденный материал этой главы, ответив на контрольные вопросы.

Проверьте свои знания: контрольные вопросы

1. В чем разница между помещением спискового включения в квадратные скобки и в круглые скобки?
2. Как связаны между собой генераторы и итераторы?
3. Как определить, является ли функция генераторной?
4. Что делает оператор yield?
5. Как связаны между собой вызовы map и списковые включения? Сравните и противопоставьте их.

Проверьте свои знания: ответы

1. Списковые включения в квадратных скобках производят полный список в памяти за один раз. Когда списковые включения взамен помещаются в круглые скобки, то фактически являются генераторными выражениями — они имеют похожий смысл, но не выпускают сразу весь результирующий список. Генераторные выражения вместо этого возвращают объект генератора, который выдает по одному элементу результата за раз, когда используются в итерационном контексте.
2. Генераторы представляют собой итерируемые объекты, автоматически поддерживающие протокол итерации — они имеют итератор с методом __next__ (next в Python 2.x), который многократно переходит на очередной элемент в серии результатов и инициирует исключение по достижении конца серии. В Python мы можем записывать генераторные функции с помощью def и yield, генераторные выражения посредством включений в круглых скобках и генераторные объекты с применением классов, в которых определен специальный метод по имени __iter__ (обсуждается позже в книге).
3. Генераторная функция содержит в своем коде оператор yield. Во всем остальном генераторные функции синтаксически идентичны нормальным функциям, но они компилируются Python особым образом, чтобы при вызове возвращать итерируемый объект генератора. Такой объект сохраняет состояние и местоположение в коде между выдачей значений.
4. Когда оператор yield присутствует, он заставляет Python компилировать функцию специально как генераторную; при вызове функция возвращает объект генератора, который поддерживает протокол итерации. Когда оператор yield выполняется, он отправляет результат обратно вызывающему коду и приостанавливается с сохранением состояния функции; затем функция может возобновить