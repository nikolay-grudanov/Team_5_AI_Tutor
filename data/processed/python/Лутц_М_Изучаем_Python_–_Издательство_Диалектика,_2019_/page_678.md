---
source_image: page_678.png
page_number: 678
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.77
tokens: 7791
characters: 2685
timestamp: 2025-12-24T01:28:23.890976
finish_reason: stop
---

Имя функции является глобальным по отношению к самой функции, но объявлять его не нужно, т.к. оно напрямую не изменяется внутри функции. При подобной записи присоединение объекта к функции оказывается гораздо более явным (и возможно не настолько магическим).

Функции без операторов return

Операторы return (и yield) в функциях Python необязательны. Когда функция не возвращает значение явно, то она завершает работу, когда управление выходит за конец тела функции. Формально все функции возвращают какое-то значение; если не снабдить функцию оператором return, тогда она автоматически будет возвращать объект None:

```python
>>> def proc(x):
...     print(x)    # Отсутствие return означает возвращение None
...
>>> x = proc('testing 123...')
testing 123...
>>> print(x)
None
```

Функции подобного рода, не содержащие return, представляют собой эквивалент Python того, что в ряде языков называется "процедурами". Они обычно вызываются как операторы, а результаты None игнорируются, т.к. работа делается без вычисления полезного результата.

Об этом стоит знать, потому что Python не будет сообщать о том, что вы пытаетесь потребить результат функции, в которой отсутствуют операторы return. Скажем, как отмечалось в главе 11, присваивание результата спискового метода append не приводит к возникновению ошибки, но вы получите обратно None, а не модифицированный список:

```python
>>> list = [1, 2, 3]
>>> list = list.append(4)    # append - это "процедура"
>>> print(list)              # append изменяет список на месте
None
```

В разделе "Распространенные затруднения при написании кода" главы 15 данный аспект обсуждался более подробно. В общем случае любые функции, которые выполняют свою работу в форме побочного эффекта, обычно спроектированы для запуска как операторы, а не выражения.

Прочие затруднения, связанные с функциями

Существуют два дополнительных связанных с функциями затруднения, обзор которых уже приводился, но они достаточно распространены, чтобы заслуживать повторения.

Объемлющие области видимости и переменные цикла: фабричные функции

Мы упоминали об этом затруднении в главе 17 при обсуждении областей видимости объемлющих функций, но напомним: при написании фабричных функций (также известных как замыкания) не полагайтесь на поиск в областях видимости объемлющих функций в отношении переменных, которые изменяются посредством циклов. Когда сгенерированная функция позже вызывается, все ссылки такого рода будут помнить значение на последней итерации цикла в области видимости объемлющей функции. В данном случае должны применяться стандартные значения, чтобы сохранять значения переменных цикла, а не полагаться на автоматический поиск в объемлющих