---
source_image: page_718.png
page_number: 718
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.87
tokens: 7744
characters: 2674
timestamp: 2025-12-24T01:29:37.482889
finish_reason: stop
---

% python
>>> import changer
>>> changer.printer()
First version

Оставив интерпретатор активным, отредактируйте файл модуля в другом окне:

...модифицировать changer.py, не останавливая Python...
% notepad changer.py

Измените глобальную переменную message, а также тело функции printer:

message = "After editing"        # После редактирования
def printer():
    print('reloaded:', message)   # перезагружен

Затем возвратитесь в окно сеанса Python и перезагрузите модуль, чтобы извлечь новый код. В показанном ниже взаимодействии обратите внимание на то, что повторное импортирование модуля никакого воздействия не оказывает; мы получаем первоначальное сообщение, хотя файл был изменен. Для получения новой версии потребуется вызвать reload:

...возвратиться в интерпретатор Python...
>>> import changer
>>> changer.printer()           # Безрезультатно: используется загруженный модуль
First version
>>> from imp import reload
>>> reload(changer)             # Заставляет новый код загрузиться/выполниться
<module 'changer' from '.\\changer.py'>
>>> changer.printer()           # Теперь выполняется новая версия
reloaded: After editing

Следует отметить, что функция reload на самом деле возвращает объект модуля — ее результат обычно игнорируется, но поскольку результаты выражений выводятся в интерактивной подсказке, Python отображает стандартное представление <module 'имя'...>.

Осталось сделать два финальных замечания. Во-первых, если вы применяете функцию reload, то возможно захотите сочетать ее с оператором import, а не from, т.к. последний не обновляется операциями перезагрузки, оставляя имена в довольно странном состоянии (см. раздел “Затруднения, связанные с модулями” в главе 25). Во-вторых, функция reload сама по себе обновляет только одиничный модуль, но легко написать функцию, которая последовательно применяет reload к связанным модулям — расширение, рассматриваемое в учебном примере в конце главы 25.

Что потребует внимания: перезагрузка модулей

Помимо возможности перезагружать (а потому повторно выполнять) модули в интерактивной подсказке перезагрузка модулей также полезна в более крупных системах, особенно когда затраты на перезапуск целого приложения непомерно высоки. Например, главными кандидатами для динамической перезагрузки могут служить игровые серверы и системы, которые должны подключаться через сеть при начальном запуске.

Они также полезны в работе графического пользовательского интерфейса (действие обратного вызова какого-то виджета можно изменять, оставляя графический пользовательский интерфейс активным) и в ситуациях, когда Python используется в качестве встроенного языка в программе на C или C++ (включающая программа