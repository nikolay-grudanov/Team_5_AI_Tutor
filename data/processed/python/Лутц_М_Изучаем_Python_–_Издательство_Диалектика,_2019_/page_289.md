---
source_image: page_289.png
page_number: 289
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.06
tokens: 7736
characters: 2185
timestamp: 2025-12-24T01:16:12.600505
finish_reason: stop
---

>>> D = {}
>>> D[99] = 'spam'
>>> D[99]
'spam'
>>> D
{99: 'spam'}

Здесь все выглядит так, как если бы объект D был 100-элементным списком, но на самом деле он представляет собой словарь с единственным элементом; значением ключа 99 является строка 'spam'. Получать доступ к этой структуре можно через смещения почти как в списке, захватывая несуществующие ключи в вызовах get или проверках in, когда требуется, но выделять память для всех позиций, которым могут присваиваться значения в будущем, не понадобится. При таком использовании словари выглядят более гибкими эквивалентами списков.

В качестве еще одного примера мы можем задействовать целочисленные ключи в коде ранее рассмотренной базы данных о фильмах, чтобы избежать помещения в кавычки годов, хотя и ценой снижения выразительности (ключи не могут содержать нецифровые символы):

>>> table = {1975: 'Holy Grail',
...           1979: 'Life of Brian',      # Ключи являются целыми числами,
...           1983: 'The Meaning of Life'}
...
>>> table[1975]
'Holy Grail'
>>> list(table.items())
[(1979, 'Life of Brian'), (1983, 'The Meaning of Life'), (1975, 'Holy Grail')]

Использование словарей для разреженных структур данных:
ключи в форме кортежей

Похожим образом словарные ключи также обычно применяются для реализации разреженных структур данных — скажем, многомерных массивов, где значения хранятся лишь в нескольких позициях:

>>> Matrix = {}
>>> Matrix[(2, 3, 4)] = 88
>>> Matrix[(7, 8, 9)] = 99
>>>
>>> X = 2; Y = 3; Z = 4   # ; отделяет операторы: см. главу 10
>>> Matrix[(X, Y, Z)]
88
>>> Matrix
{(2, 3, 4): 88, (7, 8, 9): 99}

Здесь мы используем словарь для представления трехмерного массива, который пуст за исключением двух позиций (2,3,4) и (7,8,9). Ключи являются кортежами, которые регистрируют координаты непустых ячеек. Вместо выделения памяти под крупную и по большей части пустую трехмерную матрицу для хранения этих значений, мы можем применять простой двухэлементный словарь. В такой схеме доступ пустой ячейке приводит к генерации исключения несуществующего ключа, потому что пустые ячейки физически не хранятся:

>>> Matrix[(2,3,6)]
Traceback (most recent call last):
    File "<stdin>", line 1, in ?