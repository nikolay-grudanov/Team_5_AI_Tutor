---
source_image: page_317.png
page_number: 317
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.76
tokens: 7706
characters: 2270
timestamp: 2025-12-24T01:17:07.845813
finish_reason: stop
---

>>> F.write(str(L) + '$' + str(D) + '\n')    # Преобразование и разделение
# посредством $
>>> F.close()

После того, как файл создан, мы можем просмотреть его содержимое, открыв и прочитав в строковый объект (объединенные здесь в единственную операцию). Интерактивный вывод дает точное содержимое байтов, а операция print интерпретирует встроенные символы конца строки для визуализации более дружественного к пользователю представления:

>>> chars = open('datafile.txt').read()    # Отображение неформатированной строки
>>> chars
"Spam\n43,44,45\n{1, 2, 3}${'a': 1, 'b': 2}\n"
>>> print(chars)    # Дружественное к пользователю отображение
Spam
43,44,45
[1, 2, 3]${'a': 1, 'b': 2}

Теперь нам нужно использовать другие инструменты преобразования для трансляции строк из текстового файла в действительные объекты Python. Так как Python никогда не преобразовывает строки в числа (или в объекты других типов) автоматически, это обязательно, если необходимо иметь доступ к обычным возможностям объектов, подобным индексации, сложения и т.д.:

>>> F = open('datafile.txt')    # Открытие файла
>>> line = F.readline()    # Чтение одной строки
>>> line
'Spam\n'
>>> line.rstrip()    # Удаление символа конца строки
'Spam'

Строковый метод rstrip применяется, чтобы избавиться от хвостового символа конца строки; срез line[:-1] также работал бы, но только когда мы уверены в том, что все строки заканчиваются символом \n (иногда он может отсутствовать в последней строке файла).

До сих пор мы прочитали из файла строку, содержащую последовательность символов. Теперь давайте захватим следующую строку, которая содержит числа, и разберем (т.е. извлечем) объекты из нее:

>>> line = F.readline()    # Чтение следующей строки из файла
>>> line
'43,44,45\n'
>>> parts = line.split(',')    # Разбиение (разбор) по запятым
>>> parts
['43', '44', '45\n']

Мы используем строковый метод split для разбиения строки по разделителям-запятым; результатом будет список подстрок с индивидуальными числами. Однако если мы хотим выполнять с ними математические действия, то нам еще придется преобразовать подстроки в целые числа:

>>> int(parts[1])    # Преобразование строки в целое число
44
>>> numbers = [int(P) for P in parts] # Преобразование всего списка за раз
>>> numbers
[43, 44, 45]