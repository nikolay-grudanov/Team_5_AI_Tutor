---
source_image: page_301.png
page_number: 301
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.72
tokens: 7892
characters: 3055
timestamp: 2025-12-24T01:16:40.301724
finish_reason: stop
---

Что потребует внимания: словарные интерфейсы

Словари — не просто удобный способ хранения информации по ключам в программах; дело в том, что ряд расширений Python также предлагает интерфейсы, которые выглядят похожими и работают аналогично словарям. Скажем, интерфейс Python к файлам DBM с доступом по ключу выглядит очень похожим на словарь, который должен открываться. Строки сохраняются и извлекаются с применением ключевых индексов:

import dbm
file = dbm.open("filename")
file['key'] = 'data'
data = file['key']

# В Python 2.x называется anydbm
# Связаться с файлом
# Сохранить данные по ключу
# Извлечь данные по ключу

В главе 28 вы увидите, что подобным способом можно также сохранять целые объекты Python, если вместо dbm в предыдущем коде указать shelve (база данных с доступом по ключу, которая хранит постоянные объекты Python, а не только строки). Для работы в Интернете поддержка Python сценариев CGI также имеет вид интерфейса, похожего на словари. Вызов cgi.FieldStorage выдает объект, подобный словарю, с записями для каждого поля ввода формы на клиентской веб-странице:

import cgi
form = cgi.FieldStorage()    # Разбор данных формы
if 'name' in form:
    showReply('Hello, ' + form['name'].value)

Хотя словари являются единственным основным типом отображения, все перечисленные интерфейсы представляют собой примеры отображений и поддерживают большинство тех же самых операций. Изучив словарные интерфейсы, вы обнаружите, что они применимы к разнообразным встроенным инструментам в Python.

Еще один сценарий использования словарей вы найдете в приведенном в главе 9 обзоре JSON — нейтрального к языкам формата данных, применяемого для баз данных и передачи данных. Словари, списки и вложенные их сочетания в Python могут почти полностью соответствовать записям в формате JSON и легко транслироваться в и из формальных строк текста JSON с помощью стандартного библиотечного модуля Python по имени json.

Резюме

В главе мы исследовали списковые и словарные типы — вероятно два наиболее распространенных, гибких и мощных типа коллекций, которые вы будете видеть и использовать в коде Python. Вы узнали, что списковый тип поддерживает позиционно упорядоченные коллекции произвольных объектов и может свободно вкладываться, а также увеличиваться и уменьшаться по требованию. Словарный тип похож, но хранит элементы по ключам, а не по позициям, и не поддерживает среди своих элементов какого-либо надежного порядка слева направо. Списки и словари являются изменяемыми и потому поддерживают разнообразные операции изменения на месте, недоступные для строк: например, списки могут увеличиваться вызовами append, а словари — присваиванием по новым ключам.

В следующей главе мы закончим наше путешествие по типам основных объектов, рассмотрев кортежи и файлы. Затем мы перейдем к операторам, кодирующим логику, которая обрабатывает наши объекты, сделав еще один шаг в направлении написания завершенных программ. Однако прежде чем мы займемся такими темами, вот традиционные контрольные вопросы, которые помогут закрепить пройденный материал.