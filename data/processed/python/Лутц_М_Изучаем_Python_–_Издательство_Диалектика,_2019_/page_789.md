---
source_image: page_789.png
page_number: 789
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.92
tokens: 7689
characters: 2377
timestamp: 2025-12-24T01:31:46.358757
finish_reason: stop
---

наруживать новые привязки к именам модулей после того, как перезагрузка обновит содержимое модуля на месте.

import module      # Получить модуль, не имена
...
from imp import reload
reload(module)      # Изменяет модуль на месте
module.X            # Получить текущее имя X: отражает перезагрузки модуля

В качестве связанного последствия: созданный ранее в главе инструмент транзитивной перезагрузки не применяется к именам, извлеченным с помощью from, а только к тем, что извлекались посредством import; опять-таки, если вы собираетесь использовать перезагрузки, тогда вероятно лучше придерживаться import.

reload, from и тестирование в интерактивном сеансе

На самом деле предыдущее затруднение является даже еще более тонким, чем кажется. В главе 3 предупреждалось, что обычно лучше не запускать программы с помощью импортирования и перезагрузок из-за присущих такому запуску сложностей. Положение дел еще больше усугубляется, когда в игру вступает также и from. Начинающие программисты на Python чаще всего сталкиваются с проблемами в сценариях вроде следующего — предположим, что после открытия файла модуля в окне текстового сценария вы запускаете интерактивный сеанс и тестируете свой модуль посредством from:

from module import function
function(1, 2, 3)

Найдя ошибку, вы переходите обратно в окно редактора, вносите изменение и пытаетесь перезагрузить модуль:

from imp import reload
reload(module)

Прием не сработает, потому что оператор from присваивает только имя function, не module. Чтобы сослаться на модуль в reload, вам придется сначала хотя бы раз привязать его имя с помощью import:

from imp import reload
import module
reload(module)
function(1, 2, 3)

Тем не менее, результат оказывается не совсем тем, который нужен; reload обновляет объект модуля на месте, но как обсуждалось в предыдущем разделе, имена вроде function, в прошлом скопированные из модуля, продолжают ссылаться на старые объекты; в данном случае function — по-прежнему исходная версия функции. Чтобы действительно получить новую функцию, после reload вы должны ссылаться на нее как module.function или повторно выполнить from:

from imp import reload
import module
reload(module)
from module import function    # Либо использовать module.function()
function(1, 2, 3)

Теперь наконец-то будет запускаться новая версия функции, но, похоже, для этого пришлось проделать немалую работу.