---
source_image: page_356.png
page_number: 356
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.60
tokens: 7840
characters: 2955
timestamp: 2025-12-24T01:18:31.800641
finish_reason: stop
---

В коде применяется несколько новых идей и ряд тех, что вы уже видели ранее.

• В коде задействован цикл while языка Python — наиболее универсальный оператор цикла. Позже мы детально исследуем оператор while, а пока достаточно знать, что он состоит из слова while, за которым следует выражение, дающее истинный или ложный результат, а за ним вложенный блок кода, повторяющийся до тех пор, пока выражение остается истинным (слово True здесь считается всегда истинным).

• Встроенная функция input, которую мы встречали ранее в книге, используется для универсального консольного ввода — она выводит необязательный аргумент в качестве приглашения и возвращает то, что пользователь набрал, в виде строки. Согласно приведенной далее врезке “На заметку!” в Python 2.x взамен применяется raw_input.

• В коде также присутствует односторочный оператор if, который использует специальное правило для вложенных блоков: тело оператора if находится в строке заголовка после двоеточия вместо того, чтобы располагаться с отступом в строке ниже. В любом случае оператор будет работать одинаково, но так мы экономим одну строку.

• Наконец, оператор break языка Python применяется для немедленного выхода из цикла — происходит просто переход из цикла и программа продолжает выполнение сразу после оператора цикла. Без такого оператора выхода цикл while выполнялся бы бесконечно, потому что его проверка всегда истинна.

В сущности, приведенная комбинация операторов означает “читать строки, введенные пользователем, и выводить их в верхнем регистре до тех пор, пока пользователь не введет слово stop”. Существуют и другие способы написания такого цикла, но использованная здесь форма очень часто встречается в коде Python.

Обратите внимание, что все три строки, вложенные под строку заголовка while, смещены на одно и то же расстояние вправо — поскольку операторы подобным образом выровнены вертикально по столбцам, они являются блоком кода, который ассоциирован с проверкой while и повторяется. Для завершения блока с телом цикла будет достаточно либо конца файла исходного кода, либо оператора с меньшим отступом.

Когда код запускается, интерактивно или как файл сценария, вот какое взаимодействие мы получаем (весь код примера находится в файле interact.py из пакета примеров для этой книги):

Enter text:spam
SPAM
Enter text:42
42
Enter text:stop

Примечание, касающееся нестыковки версий. В примере написан код для Python 3.x. Если вы работаете в Python 2.x, то код работает так же, но во всех примерах текущей главы вместо input придется применять raw_input, и можно опустить внешние круглые скобки в операторах print (хотя никакого вреда они не наносят). В действительности, если вы исследуете файл interact.py из пакета примеров, то увидите, что в нем это делается автоматически — для поддержки совместимости с Python 2.x имя input переустанавливается, если старшим номером версии функционирующего Python является 2 (вызов input приводит к выполнению raw_input):