---
source_image: page_717.png
page_number: 717
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.54
tokens: 7845
characters: 2871
timestamp: 2025-12-24T01:29:40.055779
finish_reason: stop
---

from imp import reload    # Получить саму функцию reload (в Python 3.x)
reload(module)           # Получить обновленные атрибуты
...использовать атрибуты module...

Типичная модель использования предусматривает импортирование модуля, изменение его исходного кода в текстовом редакторе и затем перезагрузку. Указанные действия могут происходить при работе в интерактивном сеансе, но также и в более крупных программах, которые требуют периодической перезагрузки.

Когда вызвана функция reload, Python повторно читает исходный код файла модуля и запускает его операторы верхнего уровня. Возможно, самая важная особенность функции reload заключается в том, что она изменяет объект модуля на месте, не удаляя и не создавая его заново. По этой причине перезагрузка автоматически оказывает влияние на каждую ссылку на полный объект модуля повсюду в программе. Ниже описаны детали.

• Функция reload запускает новый код файла модуля в текущем пространстве имен модуля. Повторное выполнение кода файла модуля переписывает его существующее пространство имен, а не удаляет и воссоздает его.
• Присваивания верхнего уровня в файле заменяют имена новыми значениями. Скажем, повторное выполнение оператора def заменяет предыдущую версию функции в пространстве имен модуля, делая новое присваивание имени функции.
• Перезагрузки воздействуют на всех клиентов, которые применяют import для извлечения модулей. Поскольку клиенты, которые используют import, производят уточнение для извлечения атрибутов, после перезагрузки они обнаружат новые значения в объекте модуля.
• Перезагрузки воздействуют только на клиентов, которые применяют from в будущем. Перезагрузка не окажет влияние на клиентов, которые использовали from для извлечения атрибутов в прошлом; они по-прежнему будут иметь ссылки на старые объекты, извлеченные перед перезагрузкой.
• Перезагрузки применяются только к одиночному модулю. Вы должны запускать их для каждого модуля, который желаете обновить, либо воспользоваться кодом или инструментами, последовательно применяющими перезагрузки.

Пример использования reload

В целях демонстрации далее представлен конкретный пример reload в действии. Мы изменим и перезагрузим файл модуля, не останавливая интерактивный сеанс Python. Перезагрузки используются также во многих других сценариях (как описано во врезке "Что потребует внимания: перезагрузка модулей" далее в главе), но ради иллюстрации мы будем сохранять вещи простыми. С помощью выбранного текстового редактора создайте файл модуля по имени changer.py со следующим содержимым:

message = "First version"    # Первая версия
def printer():
    print(message)

В модуле создаются и экспортируются два имени — одно привязано к строке, а другое к функции. Теперь запустите интерпретатор Python, импортируйте модуль и вызовите функцию, которую он экспортирует. Функция выведет значение глобальной переменной message: