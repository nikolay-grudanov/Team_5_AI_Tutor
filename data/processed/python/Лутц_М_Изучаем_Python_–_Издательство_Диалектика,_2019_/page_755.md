---
source_image: page_755.png
page_number: 755
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.88
tokens: 7799
characters: 2533
timestamp: 2025-12-24T01:30:35.807786
finish_reason: stop
---

возможного файла с тем же именем позже в пути. Такое решение позволяет избежать непреднамеренного выбора подкаталога, не относящегося к коду, который случайно появляется в начале пути поиска вместо желаемого модуля с тем же самым именем.

Из-за того, что пакеты пространств имен не требуют специальных файлов подобного рода, казалось бы, они сводят на нет указанную меру предосторожности. Тем не менее, это не так — поскольку описанный ранее алгоритм пространств имен продолжает просмотр пути после того, как каталог пространства имени был найден, файлы далее по пути по-прежнему имеют приоритет над встреченными ранее каталогами без файлов __init__.py. Например, создадим следующие каталоги и модули:

c:\code> mkdir ns2
c:\code> mkdir ns3
c:\code> mkdir ns3\dir
c:\code> notepad ns3\dir\ns2.py
c:\code> type ns3\dir\ns2.py
print(r'ns3\dir\ns2.py!')

Каталог ns2 не может быть импортирован в Python 3.2 и предшествующих версиях — он не является обычным пакетом, т.к. в нем отсутствует инициализационный файл __init__.py. Однако в Python 3.3 и последующих версиях данный каталог можно импортировать — он представляет собой каталог пакета пространства имен в текущем рабочем каталоге, которым всегда будет первый элемент в пути поиска модулей sys.path безотносительно к настройкам PYTHONPATH:

c:\code> set PYTHONPATH=
c:\code> py -3.2
>>> import ns2
ImportError: No module named ns2
Ошибка импортирования: отсутствует модуль по имени ns2

c:\code> py -3.7
>>> import ns2
>>> ns2    # Пакет пространства имен с единственным каталогом
# в текущем рабочем каталоге
<module 'ns2' (namespace)>
>>> ns2.__path__
_NamespacePath(['.\ns2'])

Но посмотрите, что происходит, когда каталог, содержащий файл с тем же самым именем, как у каталога пространства имен, добавляется позже в пути поиска, через настройку переменной PYTHONPATH — взамен будет использоваться этот файл, поскольку Python продолжает поиск по элементам далее в пути после нахождения каталога пакета пространства имен. Поиск останавливается только при обнаружении модуля или обычного пакета либо после того, как путь был полностью просмотрен. Пакеты пространств имен возвращаются, только если в ходе поиска ничего другого не было найдено:

c:\code> set PYTHONPATH=C:\code\ns3\dir
c:\code> py -3.7
>>> import ns2    # Использует найденный позже файл модуля,
# не каталог с таким же именем!
ns3\dir\ns2.py!
>>> ns2
<module 'ns2' from 'C:\\code\\ns3\\dir\\ns2.py'>
>>> import sys
>>> sys.path[:2]    # Первый элемент '' означает текущий рабочий каталог
['', 'C:\\code\\ns3\\dir']