---
source_image: page_724.png
page_number: 724
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.37
tokens: 7783
characters: 2663
timestamp: 2025-12-24T01:29:52.195705
finish_reason: stop
---

В результате структура каталогов для данного примера должна выглядеть так (отступы обозначают вложение каталогов):

dir0\
    dir1\
        __init__.py
    dir2\
        __init__.py
    mod.py

# Контейнер в пути поиска модулей

Файлы __init__.py могут содержать код Python подобно нормальным файлам модулей. Они имеют специальные имена, поскольку их код выполняется автоматически, когда Python импортирует каталог в первый раз, и потому служат главным образом в качестве привязок для выполнения шагов инициализации, требующихся пакету. Тем не менее, такие файлы могут также быть пустыми и временами исполнять дополнительные роли, как объясняется в следующем разделе.

Как будет показано ближе к концу главы, в Python 3.3 и последующих версиях требование наличия файлов по имени __init__.py в пакетах было отменено. В версии Python 3.3 и далее каталоги модулей без таких файлов могут импортироваться как пакеты пространств имен с единственным каталогом, которые работают точно так же, но не запускают файл кода, относящийся к стадии инициализации. Однако в версиях, предшествующих Python 3.3, и во всех версиях Python 2.x пакеты по-прежнему требуют наличия файлов __init__.py. Как будет описано далее, в Python 3.3 и последующих версиях эти файлы, когда используются, также обеспечивают выигрыш в производительности.

Роли инициализационных файлов пакетов

Выражаясь более подробно, файл __init__.py служит привязкой для действий стадии инициализации пакета, объявляет каталог пакетом Python, генерирует пространство имен для каталога и реализует поведение операторов from * (т.е. from .. import *) в случае применения с операциями импортирования каталогов.

Инициализация пакетов

Когда программа Python импортирует каталог в первый раз, производится автоматический запуск всего кода из файла __init__.py каталога. По этой причине такие файлы являются естественным местом для размещения кода, который инициализирует состояние, требующееся файлам в пакете. Например, пакет может использовать свой инициализационный файл для создания обязательных файлов данных, установления подключений к базам данных и т.д. Обычно файлы __init__.py не планируются быть полезными при выполнении напрямую; они запускаются автоматически, когда впервые производится доступ к пакету.

Объявления применимости модулей

Файлы __init__.py пакетов также в некоторой степени присутствуют для объявления о том, что каталог является пакетом Python. В данной роли эти файлы помогают не допустить, чтобы каталоги с распространенными именами непреднамеренно скрывали настоящие модули, которые обнаруживаются позже в пути поиска модулей. Без такой меры предосторожности Python мог бы выбрать ка-