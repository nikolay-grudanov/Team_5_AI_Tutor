---
source_image: page_434.png
page_number: 434
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.63
tokens: 7744
characters: 2453
timestamp: 2025-12-24T01:21:03.117985
finish_reason: stop
---

Встроенное имя dict на самом деле является именем типа в Python (более подробные сведения об именах типов и создании подклассов вы найдете в главе 32). Вызов dict приводит к чему-то вроде преобразования списков в словарь, но в действительности он представляет собой запрос конструирования объекта.

В следующей главе мы исследуем связанную, но более широкую концепцию спискового включения, которое строит списки в единственном выражении; мы снова обратимся к включениям словарей Python 3.x и 2.7 — альтернативе вызову dict для объединенных посредством zip пар ключей и значений:

```python
>>> {k: v for (k, v) in zip(keys, vals)}
{'eggs': 3, 'toast': 5, 'spam': 1}
```

**Генерация смещений и элементов: enumerate**

Последняя рассматриваемая вспомогательная функция предназначена для поддержки двойного режима использования. Ранее мы обсуждали применение range для генерации смещений элементов в строке, а не самих элементов по этим смещениям. Тем не менее, в ряде случаев нам необходимо то и другое: элемент для использования и смещение по мере продвижения. Традиционно такая задача решалась посредством простого цикла for, который также вел счетчик текущего смещения:

```python
>>> S = 'spam'
>>> offset = 0
>>> for item in S:
...     print(item, 'appears at offset', offset)  # Вывод элемента и смещения
...     offset += 1
...
s appears at offset 0
p appears at offset 1
a appears at offset 2
m appears at offset 3
```

Прием работает, но в недавних выпусках Python 2.x и 3.x (начиная с версии Python 2.3) подобную работу делает новая встроенная функция по имени enumerate — она снабжает циклы счетчиком "бесплатно", не заставляя приносить в жертву простоту автоматической итерации:

```python
>>> S = 'spam'
>>> for (offset, item) in enumerate(S):
...     print(item, 'appears at offset', offset)  # Вывод элемента и смещения
...
s appears at offset 0
p appears at offset 1
a appears at offset 2
m appears at offset 3
```

Функция enumerate возвращает *генераторный объект* — разновидность объекта, поддерживающий протокол итерации, который мы исследуем в следующей главе и обсудим более подробно в части IV книги. Такой объект имеет метод, вызываемый встроенной функцией next, который на каждом проходе цикла возвращает кортеж (индекс, значение). Цикл for проходит по этим кортежам автоматически, что позволяет распаковывать их значения с помощью присваивания кортежей почти так, как мы делали для zip:

```python
>>> E = enumerate(S)
>>> E
```