---
source_image: page_506.png
page_number: 506
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.50
tokens: 7860
characters: 2963
timestamp: 2025-12-24T01:23:12.234454
finish_reason: stop
---

имена, которым выполнено присваивание внутри функции, ассоциируются с пространством имен данной функции и никаким другим. Вот что указанное правило означает.

• Имена, присвоенные внутри def, могут быть видны только в коде внутри этого оператора def. Ссылаться на такие имена извне функции нельзя.

• Имена, присвоенные внутри def, не конфликтуют с переменными за пределами def, даже если те же самые имена применяются где-то в другом месте. Имя X, присвоенное вне заданного оператора def (т.е. в другом def или на верхнем уровне файла модуля), представляет собой переменную, совершенно отличающуюся от имени X, присвоенную внутри этого def.

Во всех случаях область видимости переменной (где она может использоваться) всегда определяется местом ее присваивания в исходном коде и не имеет никакого отношения к тому, какая функция какую вызывает. На самом деле, как будет объясняться позже в главе, переменные могут присваиваться в трех разных местах, соответствующих трем разным областям видимости:

• если переменная присваивается внутри def, то она будет локальной в этой функции;
• если переменная присваивается в объемлющем def, тогда она будет нелокальной в отношении вложенных функций;
• если переменная присваивается за пределами всех def, то она будет глобальной в целом файле.

Мы называем это лексической областью видимости, потому что области видимости переменных определяются полностью местоположениями переменных в файлах исходного кода программы, а не вызовами функций.

Например, в следующем файле модуля присваивание X = 99 создает глобальную переменную по имени X (видимую в данном файле), но присваивание X = 88 создает локальную переменную X (видимую только внутри оператора def):

X = 99      # X с глобальной областью видимости (модуль)
def func():
    X = 88      # X с локальной областью видимости (функция): другая переменная

Несмотря на то что обе переменные имеют имя X, связанные с ними области видимости делают их разными. Совокупный эффект заключается в том, что области действия функций помогают избежать конфликтов имен в программах и сделать функции более самодостаточными программными единицами — в их коде не придется беспокоиться об именах, применяемых в других местах программы.

Детали, касающиеся областей видимости

До того, как мы начали писать функции, весь создаваемый код располагался на верхнем уровне модуля (т.е. не был вложенным в def), в результате чего используемые имена существовали либо в самом модуле, либо во встроенных компонентах, предварительно определенных Python (например, open). Формально интерактивная подсказка — это модуль по имени __main__, который выводит результаты и не сохраняет свой код; во всех остальных отношениях он похож на верхний уровень файла модуля.

Однако функции предоставляют вложенные пространства имен (области видимости), которые локализуют применяемые в них имена, так что имена внутри функции не конфликтуют с именами за ее пределами (в модуле или в другой функции). Функции