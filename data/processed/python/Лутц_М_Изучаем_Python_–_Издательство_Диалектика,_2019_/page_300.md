---
source_image: page_300.png
page_number: 300
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.53
tokens: 7703
characters: 2217
timestamp: 2025-12-24T01:16:29.807128
finish_reason: stop
---

Сравнения по абсолютной величине больше не работают в Python 3.x

Во-вторых, хотя в Python 2.x словари можно сравнивать по абсолютной величине напрямую с помощью <, > и т.д., в Python 3.x это больше не работает. Тем не менее, его можно эмулировать путем сравнения отсортированных списков ключей вручную:

sorted(D1.items()) < sorted(D2.items())    # Похоже на D1 < D2 в Python 2.x

Однако проверки словарей на равенство (например, D1 == D2) в Python 3.x по-прежнему работают. Так как мы вернемся к данной теме ближе к концу следующей главы в контексте сравнений в целом, здесь мы не будем вдаваться в дальнейшие детали.

Метод has_key умер в Python 3.x: да здравствует операция in!

Наконец, в-третьих, широко применяемый словарный метод проверки наличия ключа has_key в Python 3.x исчез. Взамен необходимо использовать операцию членства in либо метод get с проверкой на равенство стандартному значению (из них операция in обычно предпочтительнее):

>>> D
{'b': 2, 'c': 3, 'a': 1}

>>> D.has_key('c')    # Только Python 2.x: True/False
AttributeError: 'dict' object has no attribute 'has_key'
Ошибка атрибута: объект dict не имеет атрибута has_key

>>> 'c' in D    # Требуется в Python 3.x
True
>>> 'x' in D    # Теперь предпочтительнее в Python 2.x
False
>>> if 'c' in D: print('present', D['c'])    # Ветвление по результату
present 3
>>> print(D.get('c'))    # Извлечение со стандартным значением
3
>>> print(D.get('x'))
None
>>> if D.get('c') != None: print('present', D['c'])    # Еще один вариант
present 3

Подводя итоги, ситуация со словарями в Python 3.x значительно изменилась. Если вы работаете в Python 2.x и заботитесь о совместимости с Python 3.x (или подозреваете, что когда-нибудь так случится), то ниже приведена пара указаний. Из изменений Python 3.x, которые рассматривались в настоящем разделе:

• первое (включения словарей) может записываться только в Python 3.x и Python 2.7;
• второе (словарные представления) может записываться только в Python 3.x и посредством методов со специальными именами в Python 2.7.

Тем не менее, последние три методики — функция sorted, ручные сравнения и операция in — в наши дни могут записываться в Python 2.x с целью облегчения перехода на Python 3.x в будущем.