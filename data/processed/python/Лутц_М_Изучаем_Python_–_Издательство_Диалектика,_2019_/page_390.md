---
source_image: page_390.png
page_number: 390
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.37
tokens: 7766
characters: 2512
timestamp: 2025-12-24T01:19:27.103444
finish_reason: stop
---

>>> import sys
    # Вывод: сложный способ
>>> sys.stdout.write(str(X) + ' ' + str(Y) + '\n')
1 2
4
>>> print(X, Y, file=open('templ', 'w'))      # Перенаправление вывода в файл
>>> open('temp2', 'w').write(str(X) + ' ' + str(Y) + '\n')
# Отправка в файл вручную
4
>>> print(open('templ', 'rb').read())   # Двоичный режим для вывода байтов
b'1 2\r\n'
>>> print(open('temp2', 'rb').read())
b'1 2\r\n'

Как видите, если только вы не получаете удовольствие от набора, операции print в большинстве случаев будут наилучшим вариантом для отображения текста. Еще один пример, который демонстрирует эквивалентность операций print и файловых методов write, предлагается в главе 18. Он эмулирует с помощью такого кодового шаблона функцию print из Python 3.X, чтобы предоставить ее универсальный эквивалент для использования в Python 2.X.

Вывод, нейтральный к версии

Наконец, на тот случай, когда необходимо, чтобы операции print работали в обеих линейках Python, имеется несколько вариантов. Это справедливо вне зависимости от того, пишете вы код Python 2.X, стремясь обеспечить его совместимость с Python 3.X, или же код Python 3.X, который направлен на поддержку также и Python 2.X.

Инструмент преобразования 2to3

Например, вы можете написать операторы print для Python 2.X и позволить сценарию преобразования 2to3 из Python 3.X автоматически перевести их в вызовы функции Python 3.X. Дополнительные сведения об указанном сценарии ищите в руководствах по Python 3.X; он пытается транслировать код Python 2.X для выполнения под управлением Python 3.X — полезный инструмент, но возможно делающий нечто больше, чем просто превращение операций print в нейтральные к версии. Связанный инструмент под названием 3to2 пытается выполнить обратную трансляцию: он преобразует код Python 3.X для выполнения под управлением Python 2.X; дополнительная информация приведена в приложении В второго тома.

Использование from __future__ import

В качестве альтернативы можно записывать вызовы функции print из Python 3.X в коде, предназначенном для выполнения в Python 2.X, для чего включить вариант с вызовом функции посредством следующего оператора, который должен находиться в начале сценария или где угодно в интерактивном сеансе:

from __future__ import print_function

Показанный оператор изменяет Python 2.X для полной поддержки функции print из Python 3.X. В итоге появляется возможность применения функции print из Python 3.X и вдобавок не придется изменять операции print, если позже будет решено перенести код в Python 3.X.