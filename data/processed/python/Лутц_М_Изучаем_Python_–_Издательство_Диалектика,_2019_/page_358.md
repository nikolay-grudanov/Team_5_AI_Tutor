---
source_image: page_358.png
page_number: 358
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.12
tokens: 7747
characters: 2533
timestamp: 2025-12-24T01:18:29.555151
finish_reason: stop
---

Замечание по использованию. С этого момента я буду предполагать, что код хранится в файле сценария и запускается из него через командную строку, пункт меню IDLE или любым другим способом запуска файлов, которые обсуждались в главе 3. В пакете примеров файл называется interact.py. Однако если вы вводите этот код интерактивно, тогда удостоверьтесь в том, что включили пустую строку (т.е. два раза нажали клавишу <Enter>) перед финальным оператором print, чтобы завершить цикл. Это также подразумевает невозможность вырезания и вставки кода в интерактивную подсказку: добавочная пустая строка требуется в интерактивном режиме, но не в файле сценария. Хотя в наборе последнего оператора print в интерактивном режиме мало смысла — вы будете вводить его после взаимодействия с циклом!

Обработка ошибок путем проверки ввода

Пока все хорошо, но обратите внимание, что происходит в случае ввода недопустимой строки:

Enter text: xxx
...текст сообщения об ошибке не показан...
ValueError: invalid literal for int() with base 10: 'xxx'
Ошибка значения: недопустимый литерал для int() с основанием 10: xxx

Столкнувшись с ошибкой, встроенная функция int генерирует исключение. Если нужно, чтобы сценарий был надежным, тогда можно заранее проверить содержимое строки с помощью метода isdigit строкового объекта:

>>> S = '123'
>>> T = 'xxx'
>>> S.isdigit(), T.isdigit()
(True, False)

Это также дает повод к дальнейшему вложению операторов в примере. В приведенной далее обновленной версии нашего интерактивного сценария с применением полнофункционального оператора if исключение при ошибках обходится:

while True:
    reply = input('Enter text:')
    if reply == 'stop':
        break
    elif not reply.isdigit():
        print('Bad!' * 8)
    else:
        print(int(reply) ** 2)
print('Bye')

Оператор if подробно рассматривается в главе 12, но сейчас достаточно знать, что он представляет собой довольно легковесный инструмент для кодирования логики в сценариях. В своей полной форме оператор состоит из слова if, за которым следует проверка и связанный блок кода, одна или более необходимых проверок elif ("else if") и блоков кода, а также необходимая часть else с ассоциированным блоком кода в качестве принимаемого по умолчанию. Python выполняет блок кода, связанный с первой проверкой, которая дает истину, работая сверху вниз, или часть else, если все проверки оказались ложными.

Части if, elif и else в предыдущем примере относятся к одному и тому же оператору, потому что все они выровнены по вертикали (т.е. используют одинако-