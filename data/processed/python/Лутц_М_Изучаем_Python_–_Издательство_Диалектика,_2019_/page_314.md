---
source_image: page_314.png
page_number: 314
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.57
tokens: 7716
characters: 2725
timestamp: 2025-12-24T01:16:56.989780
finish_reason: stop
---

Файлы в действии

Давайте рассмотрим простой пример, который продемонстрирует основы обработки файлов. В следующем коде открывается новый текстовый файл для вывода, в него записываются две строки (завершающиеся символом новой строки \n) и файл закрывается. Позже тот же файл снова открывается, и из него читаются строки по одной за раз с помощью метода readline. Обратите внимание, что третий вызов readline возвращает пустую строку; именно так файловые методы Python сообщают о том, что достигнут конец файла (пустые строки в файле возвращаются как строки, содержащие только символ новой строки, а не по-настоящему пустые строки). Ниже приведено полное взаимодействие:

```python
>>> myfile = open('myfile.txt', 'w')    # Открытие файла для текстового вывода: создание/очистка
>>> myfile.write('hello text file\n')   # Запись строки текста: строковый объект
>>> myfile.write('goodbye text file\n')
>>> myfile.close()                      # Сброс выходных буферов на диск
>>> myfile = open('myfile.txt')         # Открытие файла для текстового ввода:
                                        # 'r' принимается по умолчанию
>>> myfile.readline()                    # Чтение строк
'hello text file\n'
>>> myfile.readline()
'goodbye text file\n'
>>> myfile.readline()                    # Пустая строка: конец файла
```

Вызовы файлового метода write возвращают количество записанных символов в Python 3.x, но не в Python 2.x, так что выводиться интерактивно они не будут. Каждая строка текста, включая маркер конца строки \n, в примере записывается как строковый объект; методы записи не добавляют символ конца строки, поэтому его понадобится добавить, чтобы надлежащим образом завершить строки текста (иначе следующая запись просто расширит текущую строку в файле).

Если вы хотите отобразить содержимое файла с интерпретацией символов конца строки, тогда прочитайте сразу весь файл в строковый объект посредством файлового метода read и выведите его:

```python
>>> open('myfile.txt').read()  # Чтение сразу всего файла в строковый объект
'hello text file\ngoodbye text file\n'
>>> print(open('myfile.txt').read())  # Дружественное к пользователю отображение
hello text file
goodbye text file
```

При желании файл можно просматривать построчно с помощью файловых итераторов:

```python
>>> for line in open('myfile.txt'):    # Использование файловых итераторов,
                                        # а не чтения
    ...     print(line, end='')
...
hello text file
goodbye text file
```

В данном случае временный файловый объект, созданный функцией open, будет автоматически читать и возвращать одну строку на каждой итерации цикла. Такая форма обычно легче для кодирования, эффективнее расходует память и может оказаться