---
source_image: page_391.png
page_number: 391
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.52
tokens: 7779
characters: 2642
timestamp: 2025-12-24T01:19:37.259317
finish_reason: stop
---

Ниже приведены два замечания относительно использования.

• Этот оператор попросту игнорируется, когда встречается в коде, выполняемом под управлением Python 3.X — он вовсе не мешает, если включен в код Python 3.X для совместимости с Python 2.X.

• Этот оператор должен находиться в начале каждого файла, где применяются операции print в Python 2.X — поскольку он воздействует только на один файл, импортирования другого файла, включающего данный оператор, будет недостаточно.

Нейтрализация отличий в отображении с помощью кода

Также следует отметить, что простые операции print, подобные показанным в первой строке табл. 11.5, работают в любой версии Python — поскольку любое выражение может быть заключено в круглые скобки, мы всегда можем в Python 2.X сделать вид, что вызываем функцию print из Python 3.X, добавив внешние круглые скобки. Главный недостаток такого подхода связан с тем, что он создает кортеж, если выводимых объектов более одного или вообще нет — объекты будут выводиться в добавочных круглых скобках. Скажем, в Python 3.X в круглых скобках вызова можно перечислять любое количество объектов:

C:\code> c:\python33\python
>>> print('spam')        # Синтаксис вызова функции print в Python 3.X
spam
>>> print('spam', 'ham', 'eggs')   # Множество аргументов
spam ham eggs

Первый оператор работает точно так же и в Python 2.X, но второй создает кортеж в выводе:

C:\code> c:\python27\python
>>> print('spam')        # Оператор print в Python 2.X,
#    заключающие круглые скобки
spam
>>> print('spam', 'ham', 'eggs')   # На самом деле это объект кортежа!
('spam', 'ham', 'eggs')

То же самое происходит, когда не указывается ни одного объекта, чтобы инициировать перевод строки: Python 2.X отобразит кортеж, если только не вывести пустую строку:

c:\code> py -2
>> print()                # Просто перевод строки в Python 3.X
()
>> print('')               # Перевод строки в Python 2.X и 3.X

Строго говоря, в ряде случаев выводы могут отличаться более чем только добавочными заключающими круглыми скобками в Python 2.X. Если вы внимательнее при-смотритесь к предыдущим результатам, то также заметите, что строки выводятся в заключающих кавычках только в Python 2.X. Причина в том, что объекты могут выводиться по-разному, когда вложены в другой объект, нежели когда они являются элементами верхнего уровня. Формально вложенные экземпляры отображаются с помощью repr, а объекты верхнего уровня посредством str — два альтернативных формата, которые отмечались в главе 5.

Здесь это означает просто добавочные кавычки вокруг строк, вложенных в кортеж, который в Python 2.X создается для вывода множества элементов, помещенных