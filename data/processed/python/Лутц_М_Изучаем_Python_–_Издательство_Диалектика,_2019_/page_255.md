---
source_image: page_255.png
page_number: 255
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.30
tokens: 8016
characters: 3336
timestamp: 2025-12-24T01:15:08.484363
finish_reason: stop
---

• компонент — строка из нуля или большего числа ссылок .имя либо [индекс], используемых для извлечения атрибутов и индексированных значений аргумента, которая может быть опущена для применения всего значения аргумента.
• флаг_преобразования, если присутствует, начинается с символа !, за которым следует r, s или a для вызова на значении встроенных функций repr, str или ascii соответственно.
• спецификатор_формата, если присутствует, начинается с символа : , за которым следует текст, указывающий, каким образом значение должно быть представлено, в том числе такие детали, как ширина поля, выравнивание, дополнение, десятичная точность и т.д., и в конце необязательный код типа данных.

Часть спецификатор_формата после символа двоеточия имеет собственный расширенный формат и формально описывается так (квадратные скобки обозначают необязательные компоненты и записываться буквально не должны):

[[заполнение] выравнивание][знак][#][0][ширина][,][.точность][код_типа]

Здесь заполнение может быть любым заполняющим символом кроме { или }; выравнивание — <, >, = или ^ соответственно для выравнивания влево, выравнивания вправо, дополнения символом знака или выравнивания по центру; знак может быть +, - или пробелом; а вариант , (запятая) требует запятой для разделителя тысяч, начиная с версии Python 2.7 и 3.1. Компоненты ширина и точность почти такие же, как в выражении %; кроме того, спецификатор_формата может также содержать вложенные строки формата {} только с именами полей, чтобы получать значения из списка аргументов динамически (что очень похоже на * в выражениях форматирования).

Параметры конструкции код_типа метода практически полностью совпадают с параметрами, которые используются в выражениях % и были ранее перечислены в табл. 7.4, но метод форматирования разрешает также применять код типа b для отображения целых чисел в двоичном виде (эквивалентен использованию встроенной функции bin), код типа % для отображения знака процента и только d для десятичных целых (i либо u не применяются). Обратите внимание, что в отличие от спецификатора %s выражения код типа s здесь требует аргумента в виде строкового объекта; для принятия любого типа обобщенным образом код типа необходимо опустить.

Дополнительные детали о синтаксисе подстановки, которые в главе не затрагивались, ищите в руководстве по библиотеке Python. В дополнение к использованию метода format строки одиночный объект можно форматировать с помощью встроенной функции format(объект, спецификатор_формата), которую метод format применяет внутренне, а также настраивать в определяемых пользователем классах посредством метода перегрузки операции __format__ (см. часть VI).

Более сложные примеры использования методов форматирования

Как вы уже заметили, синтаксис в методах форматирования может оказаться сложным. Поскольку вашим лучшим союзником в таких случаях часто выступает интерактивная подсказка, давайте выполним несколько примеров. В следующих вызовах методов {0:10} означает первый позиционный аргумент в поле шириной 10 символов, {1:<10} — второй позиционный аргумент, выровненный влево в поле шириной 10 символов, а {0.platform:>10} — атрибут platform первого аргумента, выровненный вправо в поле шириной 10 символов (снова обратите внимание на применение dict() для создания словаря из ключевых аргументов, обсуждаемого в главах 4 и 8):