---
source_image: page_726.png
page_number: 726
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.56
tokens: 7656
characters: 2056
timestamp: 2025-12-24T01:29:52.455805
finish_reason: stop
---

# dir1\__init__.py
print('dir1 init')
x = 1
# dir1\dir2\__init__.py
print('dir2 init')
y = 2
# dir1\dir2\mod.py
print('in mod.py')
z = 3

Здесь dir1 будет либо непосредственным подкаталогом каталога, в котором вы работаете (т.е. домашнего каталога), либо непосредственным подкаталогом каталога, присутствующего в пути поиска модулей (формально в sys.path). В любом случае контейнер dir1 не нуждается в файле __init__.py.

Операторы import запускают инициализационный файл в каталоге при его первом обходе, когда Python спускается по пути; операторы print предусмотрены для отслеживания их выполнения:

C:\code> python
>>> import dir1.dir2.mod
# Запускается в контейнерном каталоге dir1
# Первая операция импортирования выполняет
# инициализационные файлы
dir1 init
dir2 init
in mod.py
>>>
>>> import dir1.dir2.mod    # Последующие операции импортирования не выполняют

Как и файлы модулей, уже импортированный каталог может передаваться функции reload для повторного выполнения инициализационных файлов. Ниже видно, что reload принимает точечное имя пути для перезагрузки вложенных каталогов и файлов:

>>> from imp import reload    # Оператор from необходим только в Python 3.x
>>> reload(dir1)
dir1 init
<module 'dir1' from '.\\dir1\\__init__.py'>
>>>
>>> reload(dir1.dir2)
dir2 init
<module 'dir1.dir2' from '.\\dir1\\dir2\\__init__.py'>

После импортирования путь в операторе import становится цепочкой вложенных объектов внутри сценария. Здесь mod — объект, вложенный в объект dir2, который в свою очередь вложен в объект dir1:

>>> dir1
<module 'dir1' from '.\\dir1\\__init__.py'>
>>> dir1.dir2
<module 'dir1.dir2' from '.\\dir1\\dir2\\__init__.py'>
>>> dir1.dir2.mod
<module 'dir1.dir2.mod' from '.\\dir1\\dir2\\mod.py'>

Фактически каждое имя каталога в пути делается переменной, которой присваивается объект модуля, чье пространство имен инициализируется всеми присваиваниями в файле __init__.py этого каталога. Так, dir1.x ссылается на переменную x, присвоенную в dir1\__init__.py, почти как mod.z ссылается на переменную z, присвоенную в mod.py: