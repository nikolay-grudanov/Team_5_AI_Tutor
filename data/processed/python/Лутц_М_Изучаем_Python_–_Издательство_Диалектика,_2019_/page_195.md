---
source_image: page_195.png
page_number: 195
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.08
tokens: 7762
characters: 1968
timestamp: 2025-12-24T01:12:58.123504
finish_reason: stop
---

>>> 1 / 3        # Применяйте ".0" в Python 2.x для настоящего деления (/)
0.3333333333333333
>>> Fraction(1, 3) # Числовая точность, два пути
Fraction(1, 3)
>>> import decimal
>>> decimal.getcontext().prec = 2
>>> Decimal(1) / Decimal(3)
Decimal('0.33')

Фактически дробный тип предохраняет точность и автоматически упрощает результаты. Продолжим предыдущее взаимодействие:

>>> (1 / 3) + (6 / 12)    # Используйте ".0" в Python 2.x для настоящего деления (/)
0.8333333333333333
>>> Fraction(6, 12)      # Результат автоматически упрощается
Fraction(1, 2)
>>> Fraction(1, 3) + Fraction(6, 12)
Fraction(5, 6)
>>> decimal.Decimal(str(1/3)) + decimal.Decimal(str(6/12))
Decimal('0.83')
>>> 1000.0 / 1234567890
8.100000073710001e-07
>>> Fraction(1000, 1234567890)   # Значительно проще!
Fraction(100, 123456789)

Преобразование дробей и разнородные типы

Для поддержки преобразования дробей объекты с плавающей точкой теперь имеют метод, который выдает их числитель и знаменатель, дробные объекты располагают методом from_float и float принимает в качестве аргумента объект Fraction. В следующем взаимодействии видно, как все это делается (символ * во второй проверке представляет собой специальный синтаксис, который раскрывает кортеж в индивидуальные аргументы; передача аргументов функциям более подробно обсуждается в главе 18):

>>> (2.5).as_integer_ratio()           # Метод объекта с плавающей точкой
(5, 2)
>>> f = 2.5
>>> z = Fraction(*f.as_integer_ratio()) # Преобразует объект с плавающей точкой в дробь: два аргумента
>>> z                                 # То же, что и Fraction(5, 2)
Fraction(5, 2)
>>> x                                 # x из предыдущего взаимодействия
Fraction(1, 3)
>>> x + z                             # 5/2 + 1/3 = 15/6 + 2/6
Fraction(17, 6)
>>> float(x)                           # Преобразует дробь в объект с плавающей точкой 0.33333333333333333333
>>> float(z)
2.5
>>> float(x + z)
2.8333333333333335
>>> 17 / 6
2.8333333333333335