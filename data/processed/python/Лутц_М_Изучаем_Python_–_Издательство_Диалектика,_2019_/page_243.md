---
source_image: page_243.png
page_number: 243
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.37
tokens: 7715
characters: 2483
timestamp: 2025-12-24T01:14:34.477785
finish_reason: stop
---

>>> S = S[:where] + 'EGGS' + S[(where+4):]
>>> S
'xxxxEGGSxxxxSPAMxxxx'

Метод find возвращает смещение, по которому обнаруживается подстрока (по умолчанию выполняя поиск с начала), или -1, если подстрока не найдена. Как упоминалось ранее, find представляет собой операцию поиска подстроки, подобную выражению in, но возвращает позицию найденной подстроки.

Еще один вариант предусматривает применение метода replace с третьим аргументом, чтобы ограничить его единственной подстановкой:

>>> S = 'xxxxSPAMxxxxSPAMxxxx'
>>> S.replace('SPAM', 'EGGS')      # Заменить все
'xxxxEGGSxxxxEGGSxxxx'
>>> S.replace('SPAM', 'EGGS', 1)   # Заменить одну
'xxxxEGGSxxxxSPAMxxxx'

Обратите внимание, что replace каждый раз возвращает новый строковый объект. Поскольку строки неизменяемы, метод никогда по-настоящему не модифицирует исходную строку на месте, хотя и называется replace!

Тот факт, что операции конкатенации и метод replace каждый раз генерируют новые строковые объекты, на самом деле является потенциальным недостатком их использования для изменения строк. Если нужно применить много изменений к очень крупной строке, то производительность сценария можно улучшить, преобразовав строку в объект, который поддерживает изменения на месте:

>>> S = 'spammy'
>>> L = list(S)
>>> L
['s', 'p', 'a', 'm', 'm', 'y']

Встроенная функция list (вызов конструктора объекта) строит новый список из элементов любой последовательности — в данном случае извлекая символы строки и помещая их в список. Когда строка приобретает такую форму, в нее можно вносить множество изменений без генерации новой копии при каждом изменении:

>>> L[3] = 'x'                # Работает для списков, но не для строк
>>> L[4] = 'x'
>>> L
['s', 'p', 'a', 'x', 'x', 'y']

Если после внесения изменений список необходимо преобразовать обратно в строку (скажем, для записи в файл), тогда понадобится вызвать метод join:

>>> S = ''.join(L)
>>> S
'sraxxy'

На первый взгляд метод join может показаться слегка непонятным. Поскольку join представляет собой метод строк (не списков), он вызывается через заданный разделитель. Метод join объединяет вместе строки из списка (или другого итерируемого объекта) с разделителями между элементами списка; здесь в качестве разделителя используется пустая строка, чтобы преобразовать список в строку. В более общем случае можно указывать любой строковый разделитель итерируемый объект со строками:

>>> 'SPAM'.join(['eggs', 'sausage', 'ham', 'toast'])
'eggsSPAMsausageSPAMhamSPAMtoast'