---
source_image: page_250.png
page_number: 250
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 26.61
tokens: 7813
characters: 2538
timestamp: 2025-12-24T01:14:50.841413
finish_reason: stop
---

Некоторые коды форматов в табл. 7.4 предоставляют альтернативные способы форматирования того же типа; скажем, %e, %f и %g позволяют форматировать числа с плавающей точкой.

На самом деле цели преобразований в строке формата в левой части выражения поддерживают различные операции преобразования с довольно сложным синтаксисом. Общая структура целей преобразований выглядит следующим образом:

%[(имя ключа)][флаги][ширина][.точность]код типа

Символы типов кодов в первой колонке табл. 7.4 находятся в конце такого формата целевой строки.

Между % и символом кода типа можно делать любое из описанных ниже действий:

• указывать имя ключа для индексации словаря, используемого в правой части выражения;
• перечислять флаги, которые указывают аспекты вроде выравнивания влево (−), знак числа (+), пусто перед положительными числами и — для отрицательных чисел (пробел) и дополнение нулями (0);
• задавать общую минимальную ширину поля для подставляемого текста;
• устанавливать количество цифр, отображаемых после десятичной точки (точность), для чисел с плавающей точкой.

Части ширина и точность также можно записывать как * для указания на то, что они должны брать свои значения из следующего элемента во входных значениях правой части выражения (удобно, когда это не известно вплоть до времени выполнения). И если вам не нужны любые дополнительные инструменты, тогда простой код %s в строке формата будет заменяться стандартной отображаемой строкой соответствующего значения независимо от его типа.

Более сложные примеры использования выражений форматирования

Синтаксис целей форматирования полностью документирован в стандартных руководствах и справочниках по Python, но для демонстрации распространенных применений давайте рассмотрим несколько примеров. Следующая строка форматирует целые числа по умолчанию и затем шестисимвольное поле с выравниванием влево и дополнением нулями:

>>> x = 1234
>>> res = 'integers: ...%d...%-6d...%06d' % (x, x, x)
>>> res
'integers: ...1234...1234 ...001234'

Форматы %e, %f и %g отображают числа с плавающей точкой по-разному, как видно во взаимодействии ниже. Здесь %E — то же, что и %e, но экспонента выводится в верхнем регистре. Кроме того, g выбирает форматы по содержимому числа (формально определено использование экспоненциального формата e, если показатель степени меньше −4 или не меньше точности, и в противном случае десятичного формата f со стандартной общей точностью 6 цифр):

>>> x = 1.23456789
>>> x # Отображает больше цифр в версиях, предшествующих Python 2.7 и 3.1
1.23456789