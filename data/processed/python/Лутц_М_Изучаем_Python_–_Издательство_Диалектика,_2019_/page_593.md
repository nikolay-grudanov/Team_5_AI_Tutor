---
source_image: page_593.png
page_number: 593
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.35
tokens: 7846
characters: 2882
timestamp: 2025-12-24T01:25:49.491536
finish_reason: stop
---

входят инструменты, которые вызывают функции на элементах итерируемого объекта (map), фильтруют элементы на основе проверяемой функции (filter) и применяют функции к парам элементов и результатов выполнения (reduce).

Несмотря на то что границы временами слегка размыты, в соответствие с большинством определений арсенал функционального программирования Python также содержит исследованную выше первоклассную объектную модель, обсуждавшиеся ранее замыкания вложенных областей видимости и анонимные функции lambda, генераторы и включения, которые подробно рассматриваются в следующей главе, и возможно декораторы функций и классов из финальной части книги. В заключение главы мы приведем краткий обзор встроенных функций, автоматически применяющих другие функции к итерируемым объектам.

Отображение функций на итерируемые объекты: map

Одним из наиболее часто встречающихся действий, выполняемых в программах со списками и другими последовательностями, является применение какой-то операции к каждому элементу и накопление результатов — выбор столбцов в таблицах базы данных, увеличение значений в полях с заработной платой сотрудников компании, разбор вложений в сообщениях электронной почты и т.д. В Python есть много инструментов, которые облегчают написание кода таких операций в масштабах целой коллекции. Например, обновление всех счетчиков в списке несложно обеспечить в цикле for:

```python
>>> counters = [1, 2, 3, 4]
>>> updated = []
>>> for x in counters:
    updated.append(x + 10)    # Добавить 10 к каждому элементу
>>> updated
[11, 12, 13, 14]
```

Но из-за того, что эта операция употребляется настолько широко, Python также предоставляет встроенную функцию, которая выполняет большую часть работы. Встроенная функция map применяет переданную функцию к каждому элементу в итерируемом объекте и возвращает список, содержащий все результаты вызовов функции. Вот пример:

```python
>>> def inc(x): return x + 10    # Функция, подлежащая выполнению
>>> list(map(inc, counters))     # Накапливание результатов
[11, 12, 13, 14]
```

В главах 13 и 14 мы кратко упоминали о map как о способе применения какой-нибудь встроенной функции к элементам в итерируемом объекте. Здесь мы обобщим ее использование за счет передачи функции, определяемой пользователем, которая подлежит применению к каждому элементу в списке — map вызывает inc на каждом элементе списка и собирает все возвращаемые значения в новый список. Вспомните, что map в Python 3.x является итерируемым объектом, поэтому для вывода всех результатов используется вызов list, который в Python 2.x необязателен (см. главу 14, если вы забыли о таком требовании).

Поскольку встроенная функция map ожидает передачи функции, применяемой к элементам, она также относится к тем местам, где обычно появляется выражение lambda:

```python
>>> list(map((lambda x: x + 3), counters))    # Выражение функции
[4, 5, 6, 7]
```