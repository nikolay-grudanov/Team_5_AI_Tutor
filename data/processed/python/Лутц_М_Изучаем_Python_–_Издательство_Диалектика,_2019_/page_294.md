---
source_image: page_294.png
page_number: 294
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.57
tokens: 7882
characters: 2820
timestamp: 2025-12-24T01:16:26.715995
finish_reason: stop
---

Придание других форм этому представлению записи будет продолжено в следующей главе, где мы сравним кортежи и именованные кортежи со словарями в такой роли, и в главе 27, где будет показано, как в общую картину вписываются классы, определяемые пользователем, которые объединяют данные и обрабатывающую их логику.

Изменения в словарях в Python 3.X и 2.7

До сих пор внимание в главе было сосредоточено на основах словарей, охватывающих многие выпуски, но в версиях Python 3.X функциональность словаря видоизменилась. Если вы используете код Python 2.X, тогда можете столкнуться с инструментами словарей, которые либо ведут себя по-другому, либо вообще отсутствуют в Python 3.X. Кроме того, программисты на Python 3.X могут обращаться к дополнительным инструментам словарей, недоступных в Python 2.X за исключением обратных переносов в Python 2.7. В частности, словари в Python 3.X:

• поддерживают новое выражение включения словарей, близкий родственник списковым включениям и включениям множеств;
• возвращают итерируемые представления, подобные множествам, вместо списков для методов D.keys, D.values и D.items;
• из-за предыдущего пункта требуют новых стилей написания кода для просмотра по сортированным ключам;
• больше не поддерживают сравнения по относительной величине напрямую — взамен придется сравнивать вручную;
• больше не имеют метода D.has_key — взамен необходимо применять проверку членства in.

Из-за более поздних обратных переносов из Python 3.X словари в Python 2.7 (но не в предшествующих версиях Python 2.X):

• поддерживают первый пункт предыдущего списка — включения словарей — как обратный перенос из Python 3.X;
• поддерживают второй пункт предыдущего списка — итерируемые представления, подобные множествам, — но посредством методов со специальными именами D.viewkeys, D.viewvalues и D.viewitems; методы, не имеющие дело с представлениями, возвращают списки, как и ранее.

По причине такого частичного наложения некоторые материалы в настоящем разделе относятся к Python 3.X и Python 2.7, но приведены здесь в контексте расширений Python 3.X из-за своего происхождения. Имея это в виду, давайте посмотрим, что нового в словарях Python 3.X и 2.7.

Включения словарей в Python 3.X and 2.7

Как упоминалось в конце предыдущего раздела, словари в Python 3.X и 2.7 можно создавать также с помощью включений словарей. Подобно включениям множеств, которые мы встречали в главе 5, включения словарей доступны только в Python 3.X и 2.7 (не в Python 2.6 и предшествующих версиях). Как и издавна существующие списковые включения, кратко упоминаемые в главе 4 и ранее в текущей главе, они выполняют подразумеваемый цикл, накапливая на каждой итерации результаты "ключ/значение" и используя их для наполнения нового словаря. Переменная цикла позволяет включению попутно использовать значения итерации цикла.