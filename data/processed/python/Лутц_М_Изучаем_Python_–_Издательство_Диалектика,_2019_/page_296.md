---
source_image: page_296.png
page_number: 296
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.54
tokens: 7871
characters: 2820
timestamp: 2025-12-24T01:16:32.347339
finish_reason: stop
---

>>> D = {k: None for k in 'spam'}
>>> D
{'s': None, 'p': None, 'a': None, 'm': None}

Как и связанные инструменты, включения словарей поддерживают дополнительный синтаксис, который здесь не показан, в том числе вложенные циклы и конструкции if. К сожалению, для полного понимания включений словарей необходимо также больше знать об операторах и концепциях итерации в Python, а в данный момент информации недостаточно, чтобы хорошо в них разобраться. В главах 14 и 20 будут более подробно обсуждаться все разновидности включений (списков, множеств, словарей, а также генераторы), поэтому мы откладываем дальнейшие детали до тех пор. Встроенная функция zip, применяемая в текущем разделе, будет рассматриваться в главе 13 во время исследования циклов for.

Словарные представления в Python 3.X (и в Python 2.7 через новые методы)

В Python 3.X словарные методы keys, values и items возвращают объекты представлений, тогда как в Python 2.X они возвращают фактические результирующие списки. Такая функциональность доступна и в Python 2.7, но в обличье методов со специальными, отличающимися именами, которые были указаны в начале раздела (обычные методы Python 2.7 по-прежнему возвращают простые списки во избежание нарушения работы существующего кода Python 2.X). По этой причине в данном разделе они позиционируются как средство Python 3.X.

Объекты представлений являются итерируемыми, т.е. они генерируют результирующие элементы по одному за раз, а не производят сразу весь результирующий список в памяти. Помимо того, что объекты представлений итерируемы, они также предохраняют первоначальный порядок следования компонентов в словаре, отражают будущие изменения, вносимые в словарь, и способны поддерживать операции над множествами. С другой стороны, поскольку объекты представлений — не списки, они не поддерживают напрямую операции, подобные индексации или списковому методу sort. Кроме того, при выводе они не отображают свои элементы как нормальный список (начиная с версии Python 3.1, объекты представлений выводят свои компоненты, но не в виде списка, что отличается от Python 2.X).

Понятие итерируемых объектов будет более формально обсуждаться в главе 14, но здесь достаточно знать, что при желании применить списковые операции или отобразить их значения результаты методов keys, values и items понадобится прогнать через встроенную функцию list. Вот пример для Python 3.3 (вывод в другой версии может слегка отличаться):

>>> D = dict(a=1, b=2, c=3)
>>> D
{'b': 2, 'c': 3, 'a': 1}
>>> K = D.keys()    # В Python 3.X создается объект представления, не список
>>> K
dict_keys(['b', 'c', 'a'])
>>> list(K) # Принудительно создать реальный список в Python 3.X, если нужно
['b', 'c', 'a']
>>> V = D.values()   # То же самое для представлений значений и элементов
>>> V
dict_values([2, 3, 1])
>>> list(V)
[2, 3, 1]