---
source_image: page_748.png
page_number: 748
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.03
tokens: 7767
characters: 2384
timestamp: 2025-12-24T01:30:32.524320
finish_reason: stop
---

Во втором модуле на месте заполнителя ...импортировать здесь m1... необходимо импортировать первый модуль. Замена этой строки оператором относительного импортирования работает, когда файл используется как пакет, но в непакетном режиме не разрешена ни в Python 2.X, ни в Python 3.X (в целях экономии пространства результаты и сообщения об ошибках здесь не показаны; полный листинг доступен в файле dualpkg\results.txt внутри пакета примеров):

# code\dualpkg\m2.py
from . import m1
c:\code> py -3
>>> import dualpkg.m2        # Нормально
C:\code> py -2
>>> import dualpkg.m2        # Нормально
c:\code> py -3 dualpkg\m2.py # Терпит неудачу!
c:\code> py -2 dualpkg\m2.py # Терпит неудачу!

И наоборот, простой оператор импортирования работает в непакетном режиме в Python 2.X и 3.X, но терпит неудачу в Python 3.X, потому что в данной версии такие операторы не выполняют поиск в каталоге пакета:

# code\dualpkg\m2.py
import m1
c:\code> py -3
>>> import dualpkg.m2        # Терпит неудачу!
c:\code> py -2
>>> import dualpkg.m2        # Нормально
c:\code> py -3 dualpkg\m2.py # Нормально
c:\code> py -2 dualpkg\m2.py # Нормально

Наконец, применение полных путей пакетов снова работает в обоих режимах использования и обеих линейках Python при условии, что корневой каталог пакета присутствует в пути поиска модулей (как это должно быть, чтобы модуль можно было задействовать где-то в другом месте):

# code\dualpkg\m2.py
import dualpkg.m1 as m1      # И set PYTHONPATH=c:\code
c:\code> py -3
>>> import dualpkg.m2         # Нормально
C:\code> py -2
>>> import dualpkg.m2         # Нормально
c:\code> py -3 dualpkg\m2.py  # Нормально
c:\code> py -2 dualpkg\m2.py  # Нормально

В итоге, если только вы не хотите или не можете изолировать свои модули в подкаталогах ниже каталога сценариев, то операции импортирования с полными путями вероятно предпочтительнее операций импортирования относительно пакетов. Несмотря на больший объем набора, они обрабатывают все случаи и работают одинаково в линейках Python 2.X и Python 3.X. Могут существовать дополнительные обходные пути, которые предусматривают решение добавочных задач (например, ручная установка sys.path в коде), но здесь они не рассматриваются из-за того, что являются менее ясными и полагаются на подверженную ошибкам семантику импортирования. Операции импортирования с полными путями опираются только на базовый механизм пакетов.