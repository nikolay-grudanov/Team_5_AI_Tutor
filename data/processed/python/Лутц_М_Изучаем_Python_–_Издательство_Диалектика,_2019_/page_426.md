---
source_image: page_426.png
page_number: 426
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.32
tokens: 7898
characters: 3070
timestamp: 2025-12-24T01:20:48.498927
finish_reason: stop
---

Методики написания циклов

Только что исследованный цикл for относится к самой большой категории циклов с подсчетом. Он обычно проще в написании и часто выполняется быстрее, чем while, поэтому является первым инструментом, к которому вы должны обращаться всякий раз, когда необходимо проходить через последовательность или другой итерируемый объект. На самом деле, как правило, вы должны противиться искушению подсчитывать что-либо в Python — его итерационные средства автоматизируют большую часть работы, выполняемой для прохода по коллекциям в языках более низкого уровня вроде C.

Однако существуют ситуации, когда требуется выполнять проход более специализированными способами. Скажем, что если нужно посетить каждый второй или каждый третий элемент в списке, либо попутно изменять список? Как насчет обхода более одной последовательности параллельно в том же самом цикле for? Что если необходима также индексация?

Вы всегда можете записывать такие специфичные итерации с помощью цикла while и ручной индексации, но Python предлагает набор встроенных функций, которые позволяют специализировать итерацию в цикле for.

• Встроенная функция range (доступная, начиная с Python 0.X) производит серию последовательно возрастающих целых чисел, которые могут использоваться в качестве индексов в цикле for.

• Встроенная функция zip (доступная, начиная с версии Python 2.0) возвращает серию кортежей из параллельных элементов, которые могут применяться для обхода множества последовательностей в цикле for.

• Встроенная функция enumerate (доступная, начиная с версии Python 2.3) генерирует значения и индексы элементов в итерируемом объекте, так что вести счет вручную не придется.

• Встроенная функция map (доступная, начиная с версии Python 1.0) способна давать эффект, похожий на zip в Python 2.X, хотя такая ее роль была удалена в Python 3.X.

Тем не менее, поскольку циклы for могут выполняться быстрее, чем циклы с подсчетом на основе while, в ваших интересах использовать инструменты подобного рода, которые позволят применять for, когда только возможно. Давайте рассмотрим перечисленные встроенные функции по очереди в свете распространенных сценариев использования. Как вы увидите, применение функций может слегка отличаться между Python 2.X и Python 3.X, а некоторые их приложения более обоснованы по сравнению с другими.

Циклы с подсчетом: range

Первая связанная с циклами функция, range, в действительности является универсальным инструментом, который может использоваться в разнообразных контекстах. Она кратко упоминалась в главе 4. Хотя функция range наиболее часто будет применяться для генерации индексов в цикле for, вы можете ее использовать где угодно, когда требуется серия целых чисел. В Python 2.X функция range создает физический список; в Python 3.X функция range является итерируемым объектом, который генерирует элементы по запросу, поэтому для отображения сразу всех результатов вызов range понадобится поместить внутрь вызова list:

>>> list(range(5)), list(range(2, 5)), list(range(0, 10, 2))
([0, 1, 2, 3, 4], [2, 3, 4], [0, 2, 4, 6, 8])