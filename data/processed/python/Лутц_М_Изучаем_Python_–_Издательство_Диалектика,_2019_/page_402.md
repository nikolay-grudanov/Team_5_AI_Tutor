---
source_image: page_402.png
page_number: 402
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.79
tokens: 7989
characters: 3307
timestamp: 2025-12-24T01:20:04.953343
finish_reason: stop
---

Избегайте смешивания табуляций и пробелов:
новая проверка ошибок в Python 3.x

Запомните эмпирическое правило: хотя вы можете использовать для отступов пробелы или табуляции, их смешивание внутри блока обычно не будет удачной идеей — применяйте либо то, либо другое. Формально табуляция считается достаточным количеством пробелов, чтобы сместить текущую строку на расстояние, кратное 8, и код будет работать в случае согласованного смешивания табуляций и пробелов. Тем не менее, такой код может быть сложнее изменять. Хуже того, смешивание табуляций и пробелов затрудняет чтение кода целиком, не говоря уже о правилах синтаксиса Python — табуляции в редакторе сменившего вас программиста могут выглядеть совсем не так, как в вашем редакторе.

Именно по указанным выше причинам Python 3.x выдает ошибку, когда в сценарии внутри какого-то блока несогласованно смешиваются табуляции и пробелы для отступов (т.е. способом, который делает отступы зависящими от эквивалента табуляции в пробелах). Python 2.x разрешает запускать такие сценарии, но имеет флаг командной строки -t, позволяющий предупреждать о несогласованном использовании табуляций, и флаг -tt, который обеспечит генерацию ошибок в таком коде (эти флаги можно применять внутри командной строки, подобной python -t main.py, в окне командной оболочки). Новая проверка ошибок Python 3.x эквивалентна запуску Python 2.x с флагом -tt.

Ограничители операторов: строки и продолжения

Оператор в Python обычно завершается в конце строки, где он находится. Однако когда оператор слишком длинный, чтобы уместиться в одной строке, то есть несколько специальных правил, с помощью которых его можно распространить на множество строк.

• Операторы могут занимать несколько строк, если они продолжаются после открытой скобки из синтаксической пары. Python позволяет продолжить набор оператора в следующей строке, если вы заключите его в пару скобок (), { } или [ ]. Например, выражения в круглых скобках, а также литералы словарей и списков могут распространяться на любое количество строк; оператор не закончится до тех пор, пока интерпретатор Python не достигнет строки, в которой вы наберете закрывающую скобку пары ( ), } или ] ). Строки продолжения — строки 2 и далее в операторе — могут начинаться с любым желаемым отступом, но вы должны стараться по возможности вертикально выравнивать их ради читабельности. Правило с открытой скобкой из пары охватывает также включения множеств и словарей в Python 3.x и 2.7.

• Операторы могут занимать несколько строк, если они завершаются обратной косой чертой. Хотя это несколько устаревшая возможность, которую использовать не рекомендуется, но если оператор необходимо распространить на несколько строк, то можно добавить в конец предыдущей строки обратную косую черту (символ \, не встроенный в строковый литерал или комментарий), чтобы указать на продолжение оператора в следующей строке. Из-за того, что продолжать можно также путем помещения в круглые скобки большинства конструкций, обратные косые черты в наши дни применяются редко. Вдобавок такой подход подвержен ошибкам: если случайно забыть о наборе символа \, то обычно возникает синтаксическая ошибка, а следующая строка даже может молча (т.е. без выдачи предупреждения) неправильно воспринята как новый оператор, приводя к непредсказуемым результатам.