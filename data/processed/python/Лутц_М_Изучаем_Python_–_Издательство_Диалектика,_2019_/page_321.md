---
source_image: page_321.png
page_number: 321
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.53
tokens: 7910
characters: 2927
timestamp: 2025-12-24T01:17:25.778855
finish_reason: stop
---

ции из JSON вы увидите в строках ведущие символы u в Python 2.x (но не в Python 3.x); как кратко упоминалось в главах 4 и 7 и полностью раскрывается в главе 37 второго тома, это синтаксис объектов Unicode в Python 2.x. Поскольку текстовые строки Unicode поддерживают все обычные строковые операции, разница для кода незначительна, пока текст находится в памяти; она становится наиболее важной при передаче текста в файлы и обратно и, как правило, только для разновидностей текста, отличающихся от ASCII, где в игру вступают кодировки.

В мире Python имеется также поддержка трансляции объектов в и из XML — текстового формата, применяемого в главе 37 второго тома (детали ищите в веб-сети). Другим частично связанным инструментом, который имеет дело с файлами форматированных данных, является стандартный библиотечный модуль csv. Он разбирает и создает данные CSV (comma-separated value — значения, разделенные запятыми) в файлах и строках. Он не отображается напрямую на объекты Python, но представляет собой еще один распространенный формат обмена данными:

```python
>>> import csv
>>> rdr = csv.reader(open('csvdata.txt'))
>>> for row in rdr: print(row)
...
['a', 'bbb', 'cc', 'dddd']
['11', '22', '33', '44']
```

Хранение упакованных двоичных данных: модуль struct

Прежде чем двигаться дальше, уместно сделать одно замечание относительно файлов: некоторые расширенные приложения также нуждаются в работе с упакованными двоичными данными, возможно созданными программой на языке C или сетевым подключением. В состав стандартной библиотеки Python входит инструмент, призванный помочь в этой области — модулю struct известно, как формировать и разбирать упакованные двоичные данные. В определенном смысле он является еще одним инструментом преобразования данных, который интерпретирует строки в файлах как двоичные данные.

Обзор модуля struct был приведен в главе 4, но давайте взглянем на него по-другому. Чтобы создать файл с упакованными двоичными данными, его необходимо открыть в режиме 'wb' (двоичная запись) и передать struct строку формата, а также объекты Python. Используемая ниже строка формата обозначает пакет как 4-байтовое целое число, 4-символьную строку (которая должна быть строкой bytes, начиная с Python 3.2) и 2-байтовое целое число, все в форме с обратным порядком байтов (другие коды формирования поддерживают дополняющие байты, числа с плавающей точкой и т.д.):

```python
>>> F = open('data.bin', 'wb')      # Открытие двоичного выходного файла
>>> import struct
>>> data = struct.pack('>i4sh', 7, b'spam', 8)   # Создание упакованных двоичных данных
>>> data
b'\x00\x00\x00\x07spam\x00\x08'
>>> F.write(data)                    # Запись строки байтов
>>> F.close()
```

Python создает строку двоичных данных bytes, которая записывается в файл обычным образом. Файл состоит в основном из непечатаемых символов, выводимых в виде шестнадцатеричных управляющих последовательностей, и является обыкно-