---
source_image: page_387.png
page_number: 387
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.17
tokens: 7781
characters: 2892
timestamp: 2025-12-24T01:19:26.619387
finish_reason: stop
---

Поскольку результаты выражений автоматически выводятся в строке интерактивной подсказки, часто даже не требуется использовать оператор print — необходимо просто набрать желаемые выражения и их результаты автоматически отобразятся:

```python
>>> 'hello world'        # Интерактивный вывод
'hello world'
```

Приведенный код точно не является поразительным результатом мастерства при разработке программного обеспечения, но он предназначен для иллюстрации поведения вывода. В действительности операция print представляет собой всего лишь удобное средство Python — оно обеспечивает простой интерфейс к объекту sys.stdout с незначительным стандартным форматированием. По сути, если вам нравится двигаться более трудным путем, чем необходимо, тогда можете записать операции вывода также и следующим образом (согласно главам 4 и 9; здесь опущено возвращаемое значение для Python 3.x):

```python
>>> import sys           # Вывод сложным способом
>>> sys.stdout.write('hello world\n')
hello world
```

В коде явно вызывается метод write объекта sys.stdout — атрибут, который предварительно устанавливается, когда Python начинает работать с открытым файловым объектом, подключенным к потоку вывода. Операция print скрывает большинство деталей подобного рода, предоставляя простой инструмент для решения несложных задач вывода.

Ручное перенаправление потока

Итак, почему я только что показал вам сложный способ вывода? Эквивалент вывода с помощью sys.stdout оказывается основой общепринятой методики в Python. В целом print и sys.stdout связаны непосредственно. Оператор:

```python
print(X, Y)                # Или в Python 2.x: print X, Y
```

эквивалентен более длинному оператору:

```python
import sys
sys.stdout.write(str(X) + ' ' + str(Y) + '\n')
```

в котором вручную выполняется преобразование в строку с помощью str, добавляется разделитель и новая строка посредством +, а также вызывается метод write потока вывода. Какому коду вы бы отдали предпочтение? (Говорю в надежде подчеркнуть дружественную к программистам природу операций print...)

Очевидно, что длинная форма сама по себе не настолько удобна для вывода. Тем не менее, полезно знать, что именно это и делают операции print, поскольку допускается переназначить sys.stdout на что-нибудь, отличающееся от стандартного потока вывода. Другими словами, такая эквивалентность обеспечивает возможность операциям print отправлять свой текст в другие места. Например:

```python
import sys
sys.stdout = open('log.txt', 'a')  # Перенаправление вывода в файл
...
print(x, y, x)                      # Отправляется в log.txt
```

Здесь мы переустанавливаем sys.stdout в открытый вручную файл по имени log.txt, который находится в рабочем каталоге и открыт в режиме добавления (так что мы можем дополнять его текущее содержимое). После переустановки каждая операция print везде в программе будет записывать свой текст в конец файла log.txt