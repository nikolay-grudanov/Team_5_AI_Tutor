---
source_image: page_231.png
page_number: 231
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.47
tokens: 7508
characters: 1989
timestamp: 2025-12-24T10:51:48.681895
finish_reason: stop
---

location: String::from("Питтсбург, шт. Пенсильвания, США"),
author: String::from("Айсбург"),
content: String::from("Питтсбург Пингвинз снова является лучшей хоккейной командой в НХЛ."),
}
} else {
    Tweet {
        username: String::from("horse_ebooks"),
        content: String::from("конечно, как вы, наверное, уже знаете, люди"),
        reply: false,
        retweet: false,
    }
}
}

Возвращение либо NewsArticle, либо Tweet не допускается из-за ограничений вокруг того, как реализован синтаксис impl Trait в компиляторе. Мы рассмотрим вопрос написания функции с таким поведением в разделе «Использование типажных объектов, допускающих значения разных типов».

Исправление функции largest с помощью границ типажа

Теперь, когда вы знаете, как описывать поведение, которое вы хотите использовать с помощью границы параметра обобщенного типа, давайте вернемся к листингу 10.5, чтобы исправить определение функции largest, которая использует параметр обобщенного типа. Последний раз, когда мы пытались выполнить этот код, произошла следующая ошибка:

error[E0369]: binary operation `>` cannot be applied to type `T`
 --> src/main.rs:5:12
  |
5 |     if item > largest {
  |     ^^^^^^^^^^^^^^^^
= note: an implementation of `std::cmp::PartialOrd` might be missing for `T`

В теле функции largest мы хотели сравнить два значения типа T, используя оператор больше, чем (>). Поскольку этот оператор определен как метод по умолчанию для типажа из стандартной библиотеки std::cmp::PartialOrd, нам нужно описать PartialOrd в границах типажа для T, чтобы функция largest могла работать в срезах любого типа, которые мы могли бы сравнивать. Не нужно вводить типаж PartialOrd в область видимости, потому что он находится в прелюдии. Измените сигнатуру функции largest, чтобы она выглядела так¹:

fn largest<T: PartialOrd>(list: &[T]) -> T {

¹ ошибка[E0508]: не получается переместить из типа ' [T]', некопируемый срез
   ошибка[E0507]: не получается переместить из заимствованного содержимого