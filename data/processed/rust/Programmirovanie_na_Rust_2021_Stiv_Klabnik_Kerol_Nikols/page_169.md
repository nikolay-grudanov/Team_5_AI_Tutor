---
source_image: page_169.png
page_number: 169
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.84
tokens: 7533
characters: 1976
timestamp: 2025-12-24T10:50:12.501739
finish_reason: stop
---

нят значения только одного типа. Они полезны, когда у вас есть список элементов, таких как строки текста в файле или цены товаров в корзине покупок.

Создание нового вектора

Для того чтобы создать новый пустой вектор, мы вызываем функцию Vec::new, как показано в листинге 8.1.

Листинг 8.1. Создание нового пустого вектора для хранения значений типа i32
let v: Vec<i32> = Vec::new();

Обратите внимание, что мы добавили аннотацию типа. Поскольку мы не вставляем никаких значений в этот вектор, Rust не знает, какие элементы мы намерены хранить. Это очень важный момент. Векторы реализуются с помощью обобщений. Мы рассмотрим способы использования обобщений с собственными типами в главе 10. Пока же знайте, что тип Vec<T>, предусмотренный стандартной библиотекой, может содержать любой тип, и когда конкретный вектор содержит конкретный тип, этот тип указывается в угловых скобках. В листинге 8.1 мы сказали языку Rust о том, что Vec<T> в v будет содержать элементы типа i32.

В более реалистичном коде Rust часто логически выводит тип значения, которое вы хотите хранить после того, как вставляете значения, поэтому от вас редко требуется аннотировать этот тип. Чаще создается Vec<T>, который имеет начальные значения, и для удобства Rust предоставляет макрокоманду vec!. Указанная макрокоманда будет создавать новый вектор со значениями, которые вы зададите. Листинг 8.2 создает новый Vec<i32>, который содержит значения 1, 2 и 3.

Листинг 8.2. Создание нового вектора, содержащего значения
let v = vec![1, 2, 3];

Поскольку мы задали начальные значения типа i32, Rust логически выводит, что типом v является Vec<i32>, и аннотация типа не нужна. Далее мы посмотрим, как модифицировать вектор.

Обновление вектора

Для того чтобы создать вектор и затем добавить в него элементы, мы используем метод push, как показано в листинге 8.3.

Листинг 8.3. Использование метода push для добавления значений в вектор
let mut v = Vec::new();
v.push(5);
v.push(6);
v.push(7);
v.push(8);