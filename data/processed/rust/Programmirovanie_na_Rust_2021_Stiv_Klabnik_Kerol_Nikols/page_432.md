---
source_image: page_432.png
page_number: 432
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.51
tokens: 7679
characters: 2421
timestamp: 2025-12-24T10:57:16.194329
finish_reason: stop
---

Объекты содержат данные и поведение

Книга «Паттерны объектно-ориентированного проектирования: паттерны проектирования»¹ Эриха Гаммы, Ричарда Хелма, Ральфа Джонсона и Джона Влиссидеса (Design Patterns: Elements of Reusable Object-Oriented Software, Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides Addison-Wesley Professional, 1994), в народе известных как «Банда четырех», представляет собой каталог паттернов объектно-ориентированного проектирования. В ней ООП определено таким образом:

Объектно-ориентированные программы состоят из объектов. Объект сочетает данные и процедуры для их обработки. Такие процедуры обычно называют методами или операциями.

Если исходить из этого определения, то Rust объектно-ориентированный: структуры и перечисления имеют данные, а блоки impl предоставляют методы для этих структур и перечислений. Несмотря на то что структуры и перечисления с методами не называются объектами, они обеспечивают ту же самую функциональность, которая соответствует определению объектов, данному «Бандой четырех».

Инкапсуляция, которая скрывает детали реализации

Еще один аспект, который, как правило, ассоциируют с ООП, — инкапсуляция. Она означает, что детали реализации объекта недоступны коду, использующему этот объект. Следовательно, единственный способ взаимодействия с объектом представлен его публичным API. Код, использующий объект, не должен иметь возможности проникать во внутренние части объекта напрямую и изменять данные или поведение. За счет этого программист может изменять и рефакторизовать внутренние компоненты объекта, не меняя при этом код, использующий этот объект.

Мы обсуждали способы управления инкапсуляцией в главе 7: можно использовать ключевое слово pub, чтобы выбрать, какие модули, типы, функции и методы в коде должны быть публичными. Все остальное по умолчанию является приватным. Например, мы можем определить структуру AveragedCollection с полем, содержащим вектор значений типа i32. Указанная структура также может иметь поле, содержащее среднее арифметическое значений в векторе, то есть среднее арифметическое значение не обязательно должно вычисляться по чьему-либо требованию. Другими словами, AveragedCollection будет кэшировать вычисленное среднее значение. В листинге 17.1 дано определение структуры AveragedCollection.

¹ Гамма Э., Хелм Р., Джонсон Р., Влиссидес Дж. Паттерны объектно-ориентированного проектирования. — СПб.: Питер, 2020. — 448 с.