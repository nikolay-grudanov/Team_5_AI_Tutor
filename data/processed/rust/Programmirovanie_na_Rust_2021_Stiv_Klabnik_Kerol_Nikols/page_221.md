---
source_image: page_221.png
page_number: 221
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.38
tokens: 7612
characters: 2021
timestamp: 2025-12-24T10:51:38.348102
finish_reason: stop
---

Этот код означает, что тип Point<f32> имеет метод distance_from_origin, а для других экземпляров типа Point<T>, где T не относится к типу f32, этот метод определен не будет. Указанный метод измеряет расстояние нашей точки от точки в координатах (0.0, 0.0) и использует математические операции, доступные только для типов с плавающей точкой.

Параметры обобщенного типа в определении структуры не всегда совпадают с параметрами, используемыми в сигнатурах методов этой структуры. Например, листинг 10.11 определяет метод mixup для структуры Point<T, U> из листинга 10.8. Указанный метод берет в качестве параметра еще одну структуру Point, которая имеет другие типы, в отличие от структуры Point с именем self, для которой мы вызываем метод mixup. Данный метод создает новый экземпляр типа Point со значениями x из структуры Point с именем self (типа T) и значение y из переданной внутрь метода структуры Point (типа W).

Листинг 10.11. Метод, который использует другие обобщенные типы, отличные от определенной структуры

src/main.rs

```rust
struct Point<T, U> {
    x: T,
    y: U,
}

impl<T, U> Point<T, U> {
    fn mixup<V, W>(self, other: Point<V, W>) -> Point<T, W> {
        Point {
            x: self.x,
            y: other.y,
        }
    }
}

fn main() {
    let p1 = Point { x: 5, y: 10.4 }; // 3
    let p2 = Point { x: "Привет", y: 'c' }; // 4

    let p3 = p1.mixup(p2); // 5

    println!("p3.x = {}, p3.y = {}", p3.x, p3.y); // 6
}
```

В функции main мы определили структуру Point, которая имеет тип i32 для поля x (со значением 5) и тип f64 для поля y (со значением 10.4 3). Переменная p2 — это структура Point, которая имеет тип строкового среза для поля x (со значением "Привет") и тип char для поля y (со значением с 4). Вызов метода mixup для p1 с аргументом p2 дает нам переменную p3 5, которая будет иметь тип i32 для поля x, потому что поле x пришло из p1. Переменная p3 будет иметь тип char для поля y, потому что поле y пришло из p2. Вызов макрокоманды println! выводит p3.x = 5, p3.y = c 6.