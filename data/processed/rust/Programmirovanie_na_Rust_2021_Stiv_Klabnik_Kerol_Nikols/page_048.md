---
source_image: page_048.png
page_number: 48
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.73
tokens: 7649
characters: 2272
timestamp: 2025-12-24T10:47:04.585753
finish_reason: stop
---

Использование упаковки для получения большей функциональности

Напомним, что упаковка — это множество файлов исходного кода Rust¹. Проект, который мы до сих пор строили, представляет собой двоичную, то есть исполняемую, упаковку. Упаковка rand является библиотечной, то есть содержит код, предназначенный для использования в других программах.

Пакетный менеджер Cargo проявляет себя во всей красе там, где он использует внешние упаковки. Прежде чем мы сможем написать код, который задействует упаковку rand, нам нужно модифицировать файл Cargo.toml, включив упаковку rand в качестве зависимости. Теперь откройте этот файл и добавьте следующую строку в конец файла под заголовком раздела [dependencies], которую Cargo создал за вас:

Cargo.toml
[dependencies]
rand = "0.3.14"

В файле Cargo.toml все, что следует за заголовком, является частью раздела, который продолжается до тех пор, пока не начнется другой. Раздел [dependencies] — это то место, где вы сообщаете Cargo, от каких внешних упаковок зависит ваш проект и какие версии этих упаковок вам требуются. В данном случае мы укажем упаковку rand с помощью семантического спецификатора версии 0.3.14. Cargo понимает семантическое управление версиями (иногда именуемое SemVer), которое является стандартом для написания номеров версий. На самом деле число 0.3.14 — это сокращение для ^0.3.14, означающее «любая версия с публичным API, совместимым с версией 0.3.14».

Теперь, не внося никаких изменений в код, давайте соберем проект, как показано в листинге 2.2.

Листинг 2.2. Результат выполнения команды cargo build после добавления упаковки rand в качестве зависимости

$ cargo build
    Updating registry `https://github.com/rust-lang/crates.io-index`
Downloading rand v0.3.14
Downloading libc v0.2.14
Compiling libc v0.2.14
Compiling rand v0.3.14
Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
Finished dev [unoptimized + debuginfo] target(s) in 1.50 secs

¹ В модульной системе Rust упаковки (crate также переводится как «ящик, корзина, тара») занимают промежуточное положение между модулями и пакетами: пакет состоит из одной или нескольких исполняемых или библиотечных упаковок, а упаковки — из одного или нескольких модулей. См. https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html.