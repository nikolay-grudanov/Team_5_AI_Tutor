---
source_image: page_224.png
page_number: 224
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.85
tokens: 7520
characters: 2071
timestamp: 2025-12-24T10:51:40.172674
finish_reason: stop
---

Мы хотим создать библиотеку-медиаагрегатор, которая показывает сводки данных, хранящиеся в экземплярах структур NewsArticle или Tweet. Для этого нужна сводка от каждого типа, и надо запрашивать эту сводку путем вызова метода summarize для экземпляра. Листинг 10.12 показывает определение типажа Summary, который выражает это поведение.

Листинг 10.12. Типаж Summary, поведение которого предусмотрено методом summarize

src/lib.rs
```rust
pub trait Summary {
    fn summarize(&self) -> String;
}
```

Здесь мы объявляем типаж, используя ключевое слово trait с последующим именем типажа, которым в данном случае является Summary. Внутри фигурных скобок мы объявляем сигнатуры методов, описывающие поведения типов, реализующих этот типаж, которое в данном случае представлено функцией fn summarize(&self) -> String.

После сигнатуры метода вместо предоставления реализации в фигурных скобках мы используем точку с запятой. У каждого типа, реализующего этот типаж, должно быть собственное индивидуальное поведение для тела метода. Компилятор обеспечит, чтобы в любом типе, который имеет типаж Summary, был определен метод summarize именно с такой сигнатурой.

Типаж может иметь в теле более одного метода: сигнатуры методов перечисляются по одной на строку кода, и каждая строка заканчивается точкой с запятой.

Реализация типажа в типе

Теперь, когда мы определили желаемое поведение с помощью типажа Summary, можно реализовать его в типах медиаагрегатора. Листинг 10.13 показывает реализацию типажа Summary в структуре NewsArticle, которая использует заголовок, автора и местоположение для создания значения, возвращаемого из метода summarize. Для структуры Tweet мы определяем метод summarize как имя пользователя, за которым следует весь текст твита, исходя из того, что содержимое твита уже ограничено 280 символами.

Листинг 10.13. Реализация типажа Summary в типах NewsArticle и Tweet

src/lib.rs
```rust
pub struct NewsArticle {
    pub headline: String,
    pub location: String,
    pub author: String,
    pub content: String,
}

impl Summary for NewsArticle {
```