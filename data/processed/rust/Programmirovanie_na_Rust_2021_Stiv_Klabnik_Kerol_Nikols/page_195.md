---
source_image: page_195.png
page_number: 195
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.20
tokens: 7508
characters: 1944
timestamp: 2025-12-24T10:50:49.395222
finish_reason: stop
---

enum Result<T, E> {
    Ok(T),
    Err(E),
}

Т и Е — это параметры обобщенных типов. Мы обсудим обобщения подробнее в главе 10. Сейчас вам нужно знать только то, что Т представляет тип значения, которое будет возвращено внутри варианта Ok в случае успеха, а Е — это тип ошибки, которая будет возвращена внутри варианта Err в случае провала. Поскольку Result имеет эти параметры обобщенных типов, мы можем использовать тип Result и функции, определенные для него стандартной библиотекой, в различных ситуациях, когда значение успеха и значение ошибки, которые мы хотим вернуть, могут отличаться.

Давайте вызовем функцию, которая возвращает значение Result, потому что функция может не сработать. В листинге 9.3 мы попытаемся открыть файл.

Листинг 9.3. Открытие файла
src/main.rs

use std::fs::File;

fn main() {
    let f = File::open("hello.txt");
}

Как узнать, что функция File::open возвращает Result? Мы могли бы посмотреть документацию API стандартной библиотеки либо спросить компилятор! Если мы дадим переменной f аннотацию типа, о котором мы знаем, что он не является типом, возвращаемым из указанной функции, а затем попытаемся скомпилировать код, то компилятор сообщит нам, что типы не совпадают. Затем сообщение об ошибке скажет о том, каким является тип f. Давайте попробуем! Мы знаем, что тип, возвращаемый из File::open, не относится к типу u32, поэтому изменим инструкцию let f на другую:

let f: u32 = File::open("hello.txt");

Попытка скомпилировать код теперь дает следующий результат:

error[E0308]: mismatched types
 --> src/main.rs:4:18
  |
4 |     let f: u32 = File::open("hello.txt");
  |     ^^^^^^^^^^^^^^^^^^^^^^^ expected u32, found enum `std::result::Result`
  |
  = note: expected type `u32`
         found type `std::result::Result<std::fs::File, std::io::Error>`

Речь о том, что типом, возвращаемым функцией File::open, является Result<T, E>. Обобщенный параметр T был заполнен здесь типом успешного значения,