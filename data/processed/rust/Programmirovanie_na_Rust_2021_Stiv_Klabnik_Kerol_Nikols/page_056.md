---
source_image: page_056.png
page_number: 56
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.69
tokens: 7465
characters: 1936
timestamp: 2025-12-24T10:47:09.686239
finish_reason: stop
---

Здорово! Несмотря на то что перед загаданным числом были пробелы, программа все равно выяснила, что пользователь загадал 76. Выполните программу несколько раз, чтобы проверить разное поведение с разными входными данными: загадайте правильное число, слишком большое и слишком маленькое.

Сейчас у нас работает большая часть игры, но пользователь может вводить только одно загаданное число. Давайте это изменим, добавив цикл!

Вывод нескольких загаданных чисел с помощью цикличности

Ключевое слово loop создает бесконечный цикл. Сейчас мы его добавим, предоставив пользователям больше шансов угадать число:

src/main.rs
    // --пропуск--
    println!("Секретное число равно {}", secret_number);
    loop {
        println!("Пожалуйста, введите свою догадку.");
        // --пропуск--
        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Слишком малое число!"),
            Ordering::Greater => println!("Слишком большое число!"),
            Ordering::Equal => println!("Вы выиграли!"),
        }
    }

Как видите, мы перенесли в цикл все операции — и просьбу ввести загаданное число, и все остальное. Обязательно сделайте отступы между строками кода внутри цикла еще на четыре пробела и выполните программу снова. Обратите внимание, что возникла новая проблема, потому что программа делает именно то, что мы ей сказали: бесконечно запрашивает следующую догадку! Похоже, что пользователь просто не сможет выйти из игры!

Пользователь всегда может прервать программу, нажав Ctrl-C. Но есть и другой способ избежать этого ненасытного монстра, как упоминалось при обсуждении метода parse в разделе «Сравнение загаданного числа с секретным числом»: если пользователь введет нечисловой ответ, то программа завершится аварийно. Пользователь может этим воспользоваться для того, чтобы выйти из программы, как показано здесь:

    $ cargo run
        Compiling guessing_game v0.1.0 (file:///projects/guessing_game)