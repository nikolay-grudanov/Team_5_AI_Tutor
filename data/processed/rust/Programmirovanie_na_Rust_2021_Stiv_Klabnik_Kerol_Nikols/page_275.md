---
source_image: page_275.png
page_number: 275
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.02
tokens: 7632
characters: 2402
timestamp: 2025-12-24T10:53:04.480250
finish_reason: stop
---

Далее идет строка для каждой тестовой функции в этом интеграционном тесте ③ и итоговая строка для результатов интеграционного теста ④ непосредственно перед началом раздела Doc-tests adder.

Добавление большего числа тестовых функций в файл интеграционного теста прибавляет больше строк результатов в этот раздел файла интеграционного теста аналогично тому, как добавление большего числа функций модульного теста прибавляет больше строк результатов в этот раздел модульных тестов. У каждого файла интеграционного теста есть собственный раздел, поэтому если мы добавим больше файлов в каталог тестов, то будет больше разделов интеграционного теста.

Мы по-прежнему можем выполнить отдельно взятую функцию интеграционного теста, указав имя тестовой функции в качестве аргумента для команды cargo test. Для выполнения всех тестов в конкретном файле интеграционного теста используйте аргумент --test команды cargo test, с последующим именем файла:

$ cargo test --test integration_test
    Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
    Running target/debug/integration_test-952a27e0126bb565

running 1 test
test it_adds_two ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

Эта команда выполняет тесты только в файле tests/integration_test.rs.

Подмодули в интеграционных тестах

По мере добавления новых интеграционных тестов вы, возможно, захотите создать более одного файла в каталоге tests, чтобы организовать их. Например, вы можете сгруппировать тестовые функции по функциональности, которую они тестируют. Как уже упоминалось ранее, каждый файл в каталоге tests компилируется как отдельная упаковка.

Рассматривая каждый файл интеграционного теста как его собственную упаковку, полезно создавать отдельные области видимости — это больше похоже на то, как конечные пользователи будут использовать вашу упаковку. Однако это означает, что файлы в каталоге tests ведут себя не так, как файлы в src, о чем вы узнали в главе 7, посвященной разделению кода на модули и файлы.

Другое поведение файлов в каталоге tests наиболее заметно, когда у вас есть набор вспомогательных функций, которые были бы полезны в нескольких файлах интеграционных тестов, и вы пытаетесь выполнить действия, описанные в разделе «Разделение модулей на разные файлы» (с. 165), чтобы извлечь их в общий модуль. Например, если мы создадим tests/common.rs и поместим в него функцию