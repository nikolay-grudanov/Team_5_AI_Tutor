---
source_image: page_086.png
page_number: 86
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.24
tokens: 7481
characters: 1915
timestamp: 2025-12-24T10:48:00.265057
finish_reason: stop
---

src/main.rs

```rust
fn main() {
    loop {
        println!("еще раз!");
    }
}
```

Когда мы выполним эту программу, мы увидим, как текст еще раз! будет печататься снова и снова до тех пор, пока мы не остановим программу вручную. Большинство терминалов поддерживают клавиатурное сокращение Ctrl-C для прерывания программ, застрявших в бесконечном цикле. Попробуйте сами:

```
$ cargo run
Compiling loops v0.1.0 (file:///projects/loops)
Finished dev [unoptimized + debuginfo] target(s) in 1.50 secs
    Running `target/debug/loops`
еще раз!
еще раз!
еще раз!
еще раз!
^Сеще раз!
```

Символ ^C обозначает место, где вы нажали Ctrl-C. Вы можете и не увидеть текст еще раз! после ^C, в зависимости от того, где код находился в цикле, когда он получил сигнал остановки.

К счастью, язык Rust обеспечивает еще один, более надежный способ вырваться из цикла. Вы можете разместить ключевое слово break внутри цикла, тем самым сообщив программе, когда следует прекратить исполнение цикла. Напомним, что мы сделали это в игре на угадывание в разделе «Выход из игры после правильного загаданного числа» (с. 57) для выхода из программы, когда пользователь победил в игре, угадав правильное число.

Возвращение значений из циклов

Одно из применений цикла loop состоит в повторной попытке выполнения операции, которая, как вы знаете, может не сработать, как, например, проверка того, завершил ли поток задание. Однако вам, возможно, потребуется передать результат этой операции остальной части кода. Для этого вы добавляете значение, которое хотите возвратить после выражения break, используемое для остановки цикла. Это значение будет возвращено из цикла, и тогда вы сможете его использовать, как показано здесь:

```rust
fn main() {
    let mut counter = 0;
    let result = loop {
        counter += 1;
        if counter == 10 {
            break counter * 2;
        }
    }
    println!("Результат: {}", result);
}
```