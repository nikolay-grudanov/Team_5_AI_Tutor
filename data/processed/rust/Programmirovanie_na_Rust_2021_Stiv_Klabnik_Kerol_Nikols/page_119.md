---
source_image: page_119.png
page_number: 119
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.74
tokens: 7573
characters: 2124
timestamp: 2025-12-24T10:48:54.364963
finish_reason: stop
---

Сначала листинг 5.6 показывает, как создается новый экземпляр структуры User в переменной user2 без синтаксиса обновления. Мы устанавливаем новые значения полей email и username, но в остальном используем те же значения из user1, которые создали в листинге 5.2.

Листинг 5.6. Создание нового экземпляра структуры User с использованием некоторых значений из user1

let user2 = User {
    email: String::from("another@example.com"),
    username: String::from("anotherusername567"),
    active: user1.active,
    sign_in_count: user1.sign_in_count,
};

Используя синтаксис обновления структуры, мы можем достичь того же эффекта с меньшим объемом кода, как показано в листинге 5.7. Синтаксис .. указывает на то, что остальные поля, не заданные явно, должны иметь то же значение, что и поля в конкретном экземпляре.

Листинг 5.7. Применение синтаксиса обновления структуры для установки новых значений полей email и username в экземпляре структуры User, но использование остальных значений из полей экземпляра из переменной user1

let user2 = User {
    email: String::from("another@example.com"),
    username: String::from("anotherusername567"),
    ..user1
};

Код в листинге 5.7 также создает экземпляр в переменной user2, у которого есть другое значение полей email и username, но те же значения полей active и sign_in_count, что и в переменной user1.

Использование кортежных структур без именованных полей для создания разных типов

Вы также можете определять структуры, похожие на кортежи, которые называются «кортежные структуры». Кортежные структуры имеют дополнительный смысл, который обеспечивает имя структуры, но у них нет имен, связанных с их полями. Вместо этого они имеют типы полей. Кортежные структуры полезны, когда вы хотите дать всему кортежу имя и сделать кортеж типом, отличающимся от других кортежей, а необходимость называть каждое поле, как в обычной структуре, многословна или избыточна.

Для того чтобы определить кортежную структуру, начните с ключевого слова struct и имени структуры с последующими типами в кортеже. Вот определения и использование двух кортежных структур с именами Color и Point: