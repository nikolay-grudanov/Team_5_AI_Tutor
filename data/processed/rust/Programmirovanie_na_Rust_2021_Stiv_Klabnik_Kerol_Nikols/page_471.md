---
source_image: page_471.png
page_number: 471
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.17
tokens: 7486
characters: 1884
timestamp: 2025-12-24T10:58:09.821765
finish_reason: stop
---

прежнему создает переменную x, которую мы можем использовать в коде для этого рукава.

Схожим образом второй рукав совпадает с любой точкой на оси y с указанием, что поле x совпадает, если его значение равно 0, и создает переменную y для значения поля y. Третий рукав не конкретизирует никаких литералов, поэтому он совпадает с любой точкой и создает переменные для полей x и y.

В этом примере значение p совпадает со вторым рукавом в силу того, что x содержит 0, поэтому этот код выведет:

На оси y в точке 7

Деструктурирование перечислений

Ранее мы уже делали деструктурирование перечислений, например, когда деструктурировали Option<i32> в листинге 6.5. Мы не упомянули, что паттерн для деструктурирования перечисления должен соответствовать тому, как определены данные, хранящиеся внутри перечисления. Например, в листинге 18.15 мы используем перечисление Message из листинга 6.2 и записываем выражение match с паттернами, которые будут деструктурировать каждое внутреннее значение.

Листинг 18.15. Деструктурирование вариантов перечисления, содержащих разные виды значений
src/main.rs

enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn main() {
    let msg = Message::ChangeColor(0, 160, 255);

    match msg {
        Message::Quit => {
            println!("Вариант Quit не имеет данных для деструктурирования.")
        },
        Message::Move { x, y } => {
            println!(
                "Переместить в направлении x {} и в направлении y {}",
                x,
                y
            );
        }
        Message::Write(text) => println!("Текстовое сообщение: {}", text),
        Message::ChangeColor(r, g, b) => {
            println!(
                "Поменять цвет на красный {}, зеленый {} и синий {}",
                r,
                g,
                b
            );
        }
    }
}