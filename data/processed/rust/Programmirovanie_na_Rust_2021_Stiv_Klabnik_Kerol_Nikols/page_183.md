---
source_image: page_183.png
page_number: 183
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.50
tokens: 7573
characters: 2134
timestamp: 2025-12-24T10:50:31.094666
finish_reason: stop
---

граммисты должны заблаговременно уделять больше внимания обработке данных UTF-8. Этот компромисс раскрывает большую сложность строк, чем, по-видимому, в других языках программирования. Но этот же компромисс помогает избежать необходимости обрабатывать ошибки, связанные с символами, не являющимися ASCII, на более поздних этапах жизненного цикла разработки.

Давайте переключимся на что-то более простое — на хеш-отображения!

Хранение ключей со связанными значениями в хеш-отображениях

Последней из распространенных коллекций будет хеш-отображение. Тип HashMap<K, V> хранит отображение ключей типа K в значения типа V. Он делает это с помощью хеширующей функции, которая обусловливает то, как он помещает эти ключи и значения в память. Многие языки программирования поддерживают этот тип структуры данных, но в них часто используются другие названия, такие как хеш, отображение, объект, хеш-таблица, словарь или ассоциативный массив, и это лишь несколько вариантов наименований.

Хеш-отображения полезны, когда вы хотите искать данные не с помощью индекса, как это можно делать с векторами, а с помощью ключа любого типа. Например, в игре вы можете отслеживать баллы каждой команды в хеш-отображении, в котором каждый ключ — это название команды, а значения — баллы каждой команды. При наличии названия команды вы можете узнать ее балл.

В этом разделе мы познакомимся с базовым API хеш-отображений, но много других полезных вещей скрывается в функциях, определенных стандартной библиотекой для HashMap<K, V>. Как всегда, для получения дополнительной информации обратитесь к документации стандартной библиотеки.

Создание нового хеш-отображения

Вы можете создать пустое хеш-отображение с помощью функции new и добавить элементы, используя функцию insert. В листинге 8.20 мы следим за баллами двух команд, названия которых «Синяя» и «Желтая». Синяя команда начинает с 10 баллов, а Желтая — с 50.

Листинг 8.20. Создание нового хеш-отображения и вставка нескольких ключей и значений
use std::collections::HashMap;

let mut scores = HashMap::new();

scores.insert(String::from("Синяя"), 10);
scores.insert(String::from("Желтая"), 50);