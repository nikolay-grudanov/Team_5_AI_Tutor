---
source_image: page_582.png
page_number: 582
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 24.06
tokens: 7571
characters: 2269
timestamp: 2025-12-24T11:00:58.995771
finish_reason: stop
---

наиболее релевантным? Компилятор Rust не имеет такого понимания, поэтому он не способен предоставить вам соответствующее поведение по умолчанию.

Список генерируемых типажей, приведенный в этом приложении, не является исчерпывающим: библиотеки могут реализовывать атрибут derive для собственных типажей, что в итоге делает типажи, с которыми вы можете использовать атрибут derive, поистине открытым. Реализация атрибута derive предусматривает использование процедурной макрокоманды, которая описана в разделе «Макрокоманды» (с. 515).

Debug для вывода рабочей информации

Типаж Debug обеспечивает возможность отладочного форматирования в форматных строках, которые вы указываете путем добавления :? внутри заполнителей {}.

Типаж Debug позволяет печатать экземпляры типа для отладочных целей, чтобы вы и другие программисты, использующие ваш тип, могли проверить экземпляр в определенный момент работы программы.

Типаж Debug необходим, например, при использовании макрокоманды assert_eq!. Указанная макрокоманда выводит значения экземпляров, переданных в качестве аргументов, если проверочное утверждение о равенстве не удовлетворяется, в результате чего программисты могут видеть, почему эти два экземпляра не равны.

PartialEq и Eq для сравнений равенств

Типаж PartialEq позволяет сравнивать экземпляры типа для проверки равенства и использовать операторы == и !=.

Генерирование типажа PartialEq реализует метод eq. Когда PartialEq генерируется в структурах, два экземпляра равны только в том случае, если все поля равны, и экземпляры не равны, если какие-то поля не равны. При генерировании в перечислениях каждый вариант равен самому себе и не равен другим вариантам.

Типаж PartialEq необходим, например, при использовании макрокоманды assert_eq!, которая должна сравнивать два экземпляра типа на равенство.

Типаж Eq не имеет методов. Его цель — подавать сигнал о том, что для каждого значения аннотированного типа данное значение равно самому себе. Типаж Eq может применяться только к типам, которые также реализуют PartialEq, хотя не все типы, выполняющие PartialEq, могут реализовывать Eq. Одним из примеров этого являются числовые типы с плавающей точкой: реализация таких чисел констатирует, что два экземпляра значения не-числа (NaN) не равны друг другу.