---
source_image: page_046.png
page_number: 46
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.00
tokens: 7539
characters: 2299
timestamp: 2025-12-24T10:46:54.643941
finish_reason: stop
---

Типы Result — это перечисления, часто кратко именуемые enum. Перечисление — это тип, который имеет фиксированное множество значений, и эти значения называются вариантами перечисления. В главе 6 перечисления будут рассмотрены подробнее.

Для типа Result вариантами являются Ok и Err. Вариант Ok указывает на то, что операция была успешной, а внутри Ok находится успешно сгенерированное значение. Вариант Err означает, что операция была неуспешной, и Err содержит информацию о том, как или почему операция не сработала.

Целью этих типов Result является кодирование информации об обработке ошибок. Значения типа Result, как и значения любого типа, задают методы. Экземпляр io::Result имеет метод expect, который вы можете вызывать. Если этот экземпляр io::Result является значением Err, то expect вызовет аварийный сбой программы и покажет сообщение, которое вы передали в метод expect в качестве аргумента. Если метод read_line возвращает Err, то это, скорее всего, будет результатом ошибки, исходящей из базовой операционной системы. Если этот экземпляр io::Result является значением Ok, то метод expect возьмет возвращаемое значение, которое содержит Ok, и вернет вам только это значение, которое вы сможете использовать. В данном случае указанное значение является числом в байтах, введенным пользователем в стандартный ввод данных.

Если вы не вызовете метод expect, то программа будет компилирована, но вы получите предупреждение¹:

$ cargo build
    Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
warning: unused `std::result::Result` which must be used
 --> src/main.rs:10:5
  |
10 |     io::stdin().read_line(&mut guess);
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = note: #[warn(unused_must_use)] on by default

Язык Rust предупреждает, что вы не использовали значение типа Result, возвращенное из метода read_line, указывая на то, что программа не обработала возможную ошибку.

Правильный способ блокировать это предупреждение — фактически написать обработку ошибок, но поскольку вы хотите, чтобы эта программа просто завершала свою работу аварийно, когда возникает проблема, то можете использовать метод expect. О восстановлении после ошибок вы узнаете в главе 9.

¹ предупреждение: неиспользованное значение типа `std::result::Result`, которое должно быть использовано