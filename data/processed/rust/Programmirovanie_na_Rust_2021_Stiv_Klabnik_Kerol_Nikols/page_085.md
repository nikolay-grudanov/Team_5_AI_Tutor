---
source_image: page_085.png
page_number: 85
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.89
tokens: 7462
characters: 1879
timestamp: 2025-12-24T10:47:56.298777
finish_reason: stop
---

Если мы попытаемся скомпилировать этот код, то получим ошибку. Ветви if и else имеют несовместимые типы значений, и Rust точно указывает, где найти проблему в программе¹:

error[E0308]: if and else have incompatible types
  --> src/main.rs:4:18
  |
4 |     let number = if condition {
  |     _________________^
5 |         5
6 |     } else {
7 |         "six"
8 |     };
  |____^ expected integral variable, found &str
  |
  = note: expected type `{integer}`
          found type `&str`

Выражение в блоке if в результате вычисления получает целое число, а выражение в блоке else — строковое значение. Это не будет работать, потому что переменные должны иметь одинаковый тип. Rust должен знать во время компиляции, какой тип у переменной number. Это позволяет ему верифицировать, что тип переменной number допустим везде, где мы ее используем. Rust не смог бы этого сделать, если бы тип переменной number определялся только во время выполнения. Компилятор был бы сложнее и давал бы меньше гарантий кода, если бы ему приходилось отслеживать несколько гипотетических типов для любой переменной.

Повторение с помощью циклов

Часто бывает полезным исполнить блок кода более одного раза. Для этой работы Rust предоставляет несколько видов циклов. Цикл выполняется в коде внутри тела цикла до конца, а затем сразу же начинает сначала. Для того чтобы поэкспериментировать с циклами, давайте создадим новый проект под названием loops («циклы»).

Язык Rust имеет три вида циклов: loop, while и for. Давайте поработаем с каждым из них.

Повторение кода с помощью цикла loop

Ключевое слово loop говорит о том, что нужно исполнять блок кода снова и снова бесконечное количество раз или до тех пор, пока вы не скажете ему остановиться.

В качестве примера измените файл src/main.rs в каталоге loops, чтобы он выглядел следующим образом:

¹ ошибка[E0308]: if и else имеют несовместимые типы