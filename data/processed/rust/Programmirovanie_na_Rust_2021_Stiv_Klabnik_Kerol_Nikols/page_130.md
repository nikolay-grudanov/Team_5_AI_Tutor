---
source_image: page_130.png
page_number: 130
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.68
tokens: 7468
characters: 1855
timestamp: 2025-12-24T10:49:09.176433
finish_reason: stop
---

Эти функции называются связанными, поскольку они присоединены к структуре. Они по-прежнему остаются функциями, а не методами, потому что у них нет экземпляра структуры, с которым можно работать. Вы уже использовали связанную функцию String::from.

Связанные функции часто используются для конструкторов, которые возвращают новый экземпляр структуры. Например, мы могли бы предоставить связанную функцию, у которой будет один размерный параметр, и она будет использовать его как ширину и как высоту, что облегчит создание квадратной структуры Rectangle вместо того, чтобы указывать одно и то же значение дважды:

src/main.rs
```rust
impl Rectangle {
    fn square(size: u32) -> Rectangle {
        Rectangle { width: size, height: size }
    }
}
```

Для того чтобы вызвать эту связанную функцию, мы используем синтаксис :: с именем структуры. Инструкция let sq = Rectangle::square(3); является примером. Эта функция находится в пространстве имен структуры: синтаксис :: используется как для связанных функций, так и для пространств имен, создаваемых модулями. Мы обсудим модули в главе 7.

Несколько блоков impl

Каждая структура может иметь несколько блоков impl. Например, листинг 5.15 эквивалентен коду, показанному в листинге 5.16, в котором у каждого метода собственный блок impl.

Листинг 5.16. Написание листинга 5.15 по-новому с использованием нескольких блоков impl
src/main.rs
```rust
impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }
}

impl Rectangle {
    fn can_hold(&self, other: &Rectangle) -> bool {
        self.width > other.width && self.height > other.height
    }
}
```

Нет необходимости разделять эти методы на несколько блоков impl, но такой синтаксис является допустимым. В главе 10, рассказывающей про обобщения и типажи, мы покажем пример, где будет полезно использовать несколько блоков impl.