---
source_image: page_349.png
page_number: 349
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.23
tokens: 7543
characters: 1872
timestamp: 2025-12-24T10:54:58.915927
finish_reason: stop
---

let red = PrimaryColor::Red;
let yellow = PrimaryColor::Yellow;
mix(red, yellow);
}

Автору кода в листинге 14.4, который использует упаковку art, приходится выяснять, что PrimaryColor находится в модуле kinds, а mix — в модуле utils. Модульная структура упаковки art более релевантна для разработчиков, работающих над упаковкой art, чем для разработчиков, ее использующих. Внутренняя структура, которая организует части упаковки в модули kinds и utils, не содержит никакой полезной информации для тех, кто пытается понять, как использовать упаковку art.

Напротив, модульная структура упаковки art служит причиной путаницы, потому что разработчикам приходится выяснять, где найти что-либо. К тому же структура неудобная, потому что разработчики должны указывать имена модулей в инструкциях use.

Чтобы удалить внутреннюю организацию из публичного API, мы можем модифицировать код упаковки art в листинге 14.3, добавив инструкции pub use для реэкспорта элементов на верхнем уровне, как показано в листинге 14.5.

Листинг 14.5. Добавление инструкций pub use для реэкспорта элементов src/lib.rs

//! # Художественная живопись
//!
//! Библиотека для моделирования художественных концепций.

pub use self::kinds::PrimaryColor;
pub use self::kinds::SecondaryColor;
pub use self::utils::mix;

pub mod kinds {
    // --пропуск--
}

pub mod utils {
    // --пропуск--
}

Документация API, которую генерирует команда cargo doc для этой упаковки, теперь будет перечислять реэкспортированные элементы и отсылать к ним на первой странице, как показано на рис. 14.4, облегчая поиск типов PrimaryColor и SecondaryColor и их функции mix.

Пользователи упаковки art по-прежнему могут видеть и использовать внутреннюю структуру из листинга 14.3, как продемонстрировано в листинге 14.4, либо они могут воспользоваться более удобной структурой из листинга 14.5, как показано в листинге 14.6.