---
source_image: page_124.png
page_number: 124
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.83
tokens: 7527
characters: 2007
timestamp: 2025-12-24T10:49:00.180521
finish_reason: stop
---

ны друг с другом, и значениям даются описательные имена вместо использования индексных значений 0 и 1 кортежа. Это точно выигрышный вариант.

Добавление полезной функциональности с использованием типажей с атрибутом derived

Было бы неплохо иметь возможность выводить экземпляр структуры Rectangle во время отладки программы и видеть значения всех ее полей. Листинг 5.11 пытается использовать макрокоманду println!, как мы уже делали в предыдущих главах. Однако это не сработает.

Листинг 5.11. Попытка вывести экземпляр структуры Rectangle
src/main.rs
```rust
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle { width: 30, height: 50 };

    println!("rect1 равен {}", rect1);
}
```

Когда мы выполняем этот код, происходит ошибка со следующим ключевым сообщением¹:

error[E0277]: `Rectangle` doesn't implement `std::fmt::Display`

Макрокоманда println! может выполнять много видов форматирования. По умолчанию фигурные скобки говорят макрокоманде println! использовать форматирование, именуемое Display:, предназначенное для непосредственного потребления конечным пользователем. Примитивные типы, которые мы видели до этого, реализуют формат Display по умолчанию, потому что есть только один способ показать пользователю единицу или любой другой примитивный тип. Но в работе со структурами принцип форматирования результата макрокомандой println! менее ясен ввиду больших возможностей вывода на экран: «Вам нужны запятые или нет? Надо ли печатать фигурные скобки? Показать все поля?» Из-за этой неоднозначности язык Rust не пытается угадывать наши пожелания, а у структур нет предусмотренной реализации формата Display.

Если мы продолжим читать сообщения об ошибках, то найдем вот это полезное примечание²:

¹ ошибка[E0277]: ‘Rectangle` не реализует `std:: fmt:: Display`
² = справка: типаж `std::fmt::Display` не реализован для `Rectangle`
   = примечание: в форматных строках вместо этого вы можете использовать `{:?}` (или {:#?} для структурированной печати)