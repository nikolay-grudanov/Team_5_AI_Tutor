---
source_image: page_507.png
page_number: 507
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.60
tokens: 7506
characters: 1853
timestamp: 2025-12-24T10:59:09.160823
finish_reason: stop
---

Теперь псевдоним Kilometers является синонимом типа i32. В отличие от типов Millimeters и Meters, которые мы создали в листинге 19.15, Kilometers не является отдельным новым типом. Значения, имеющие тип Kilometers, будут трактоваться так же, как и значения типа i32:

    type Kilometers = i32;
    let x: i32 = 5;
    let y: Kilometers = 5;
    println!("x + y = {}", x + y);

Поскольку Kilometers и i32 имеют одинаковый тип, мы можем добавлять значения обоих типов и передавать значения Kilometers функциям, берущим параметры типа i32. Однако, используя этот метод, мы не получаем преимуществ от проверки типов, которые есть при применении паттерна newtype, рассмотренного ранее.

Синонимы чаще всего используются для уменьшения повторов. Например, у нас может быть такой длинный тип:

    Box<dyn Fn() + Send + 'static>

Писать его в сигнатаурах функций и аннотациях типов по всему коду бывает утомительно, и могут возникнуть ошибки. Представьте себе, что ваш проект наполнен кодом такого рода, как в листинге 19.24.

Листинг 19.24. Использование длинного типа во многих местах

    let f: Box<dyn Fn() + Send + 'static> = Box::new(|| println!("привет"));
    fn takes_long_type(f: Box<dyn Fn() + Send + 'static>) {
        // --пропуск--
    }
    fn returns_long_type() -> Box<dyn Fn() + Send + 'static> {
        // --пропуск--
    }

Псевдоним типа делает этот код более управляемым, уменьшая повторы. В листинг 19.25 мы ввели псевдоним Thunk для многословного типа и можем заменить все варианты его использования более коротким псевдонимом Thunk.

Листинг 19.25. Введение псевдонима Thunk для уменьшения повторов

    type Thunk = Box<dyn Fn() + Send + 'static>;
    let f: Thunk = Box::new(|| println!("привет"));
    fn takes_long_type(f: Thunk) {
        // --пропуск--
    }
    fn returns_long_type() -> Thunk {
        // --пропуск--
    }