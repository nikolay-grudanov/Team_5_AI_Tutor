---
source_image: page_137.png
page_number: 137
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.37
tokens: 7663
characters: 2630
timestamp: 2025-12-24T10:49:25.273430
finish_reason: stop
---

ления Option, то есть еще одного перечисления стандартной библиотеки. Тип Option используется во многих местах, потому что он кодирует крайне распространенный сценарий, в котором значение может быть чем-то либо не может быть ничем. Выражение этого понятия в терминах системы типов означает, что компилятор может проверить, что вы учили все необходимые случаи. Эта функция предотвращает дефекты, которые чрезвычайно распространены в других языках программирования.

Дизайн языка программирования часто рассматривается с точки зрения того, какие средства вы включаете, но средства, которые вы исключаете, также важны. Язык Rust не имеет языкового оформления для null, которое есть во многих других языках. Null — это значение, которое подразумевает, что нет никакого значения. В языках с null переменные всегда могут находиться в одном из двух состояний: null или не-null.

В своей презентации 2009 года «Ссылки на null: ошибка на миллиард долларов» (Null References: The Billion Dollar Mistake) Тони Хоар (Tony Hoare), изобретатель null, сказал следующее:

Я называю это своей ошибкой на миллиард долларов. В то время я занимался дизайном первой всесторонней системы типов для ссылок в объектно-ориентированном языке. Цель была в том, чтобы использование ссылок было абсолютно безопасным, с автоматической проверкой, выполняемой компилятором. Но я не смог устоять перед искушением вставить пустую ссылку (null-ссылку) просто потому, что ее было так легко реализовать. Это привело к бесчисленным ошибкам, уязвимостям и системным сбоям, которые за последние сорок лет причинили боли и ущерба, пожалуй, на миллиард долларов.

Проблема со значениями null заключается в том, что если вы попытаетесь использовать значение null в качестве значения не-null, то возникнет та или иная ошибка. Поскольку это свойство null или не-null является всеобъемлющим, очень легко сделать такую ошибку.

Однако идея, которую пытается выразить null, по-прежнему остается полезной: null — это значение, которое в настоящее время недействительно или по какой-либо причине отсутствует.

Проблема на самом деле не в идее, а в конкретной реализации. В таком качестве язык Rust не имеет null, но у него есть перечисление, которое кодирует идею присутствующего или отсутствующего значения. Этим перечислением является Option<T>, и стандартная библиотека определяет его следующим образом:

enum Option<T> {
    Some(T),
    None,
}

Перечисление Option<T> является настолько полезным, что оно даже включено в прелюдию. Вам не нужно вводить его в область видимости. То же самое касается и его вариантов: вы можете использовать Some и None непосредственно без пре-