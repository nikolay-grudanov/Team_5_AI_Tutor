---
source_image: page_102.png
page_number: 102
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.79
tokens: 7456
characters: 1919
timestamp: 2025-12-24T10:48:14.233601
finish_reason: stop
---

Владение переменной всякий раз следует одному и тому же паттерну: присвоение (передача) значения другой переменной перемещает его. Если переменная, содержащая данные в куче, выходит из области видимости, то значение будет очищено методом drop, если только данные не были перемещены в другую переменную.

Брать во владение, а затем возвращать владение назад при использовании каждой функции немного утомляет. Что делать, если мы хотим позволить функциям использовать значение, но не брать его во владение? Несколько раздражает, что все, что передается внутрь, также должно быть передано обратно, если нужно использовать это снова в дополнение к любым другим данным из тела функции, которые мы также, возможно, захотим вернуть.

С помощью кортежа можно возвращать несколько значений, как показано в листинге 4.5.

Листинг 4.5. Возвращение владения параметрами

src/main.rs
```rust
fn main() {
    let s1 = String::from("hello");

    let (s2, len) = calculate_length(s1);

    println!("Длина '{}' равна {}.", s2, len);
}

fn calculate_length(s: String) -> (String, usize) {
    let length = s.len(); // len() возвращает длину экземпляра типа String
    (s, length)
}
```

Но для идеи, которая должна быть общей, получается слишком много работы. К счастью, для этой идеи в Rust есть специальное языковое средство. Оно называется ссылками.

Ссылки и заимствование

Проблема с кортежным кодом в листинге 4.5 заключается в том, что мы должны вернуть экземпляр типа String вызывающей функции, чтобы по-прежнему можно было использовать экземпляр типа String после вызова функции calculate_length, потому что экземпляр типа String был перенесен в calculate_length.

Вот как, не броя значение во владение, можно определить и использовать функцию calculate_length, у которой есть ссылка на объект в качестве параметра:

src/main.rs
```rust
fn main() {
    let s1 = String::from("hello");

    let len = calculate_length(&s1);
```