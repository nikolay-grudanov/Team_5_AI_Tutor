---
source_image: page_342.png
page_number: 342
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 37.23
tokens: 7577
characters: 2243
timestamp: 2025-12-24T10:54:53.136884
finish_reason: stop
---

Возможно, эти имена профилей знакомы вам по выходным данным сборок:

    $ cargo build
        Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
    $ cargo build --release
        Finished release [optimized] target(s) in 0.0 secs

Профили dev и release, показанные в этих данных сборки, говорят о том, что компилятор использует разные профили.

У Cargo есть настройки по умолчанию для каждого профиля, который применяется, когда в файле Cargo.toml нет разделов [profile.*]. Добавляя разделы [profile.*] для любого профиля, который вы хотите настроить, вы можете переопределить любое подмножество настроек по умолчанию. Например, вот значения по умолчанию параметра opt-level для профилей dev и release:

Cargo.toml
    [profile.dev]
    opt-level = 0

    [profile.release]
    opt-level = 3

Параметр opt-level управляет числом оптимизаций, которые будут применяться к коду, в интервале от 0 до 3. Применение большего числа оптимизаций увеличивает время компиляции, поэтому, если вы ведете разработку и часто компилируете код, то вам потребуется более быстрая компиляция, даже если полученный код работает медленнее. Именно поэтому уровень opt-level по умолчанию равен 0. Когда вы готовы сделать релиз своего кода, то лучше всего потратить больше времени на компиляцию. Вы скомпилируете в релизном режиме лишь один раз, но будете выполнять скомпилированную программу многократно, поэтому в релизном режиме мы жертвуем более длительной компиляцией ради кода, который работает быстрее. Вот почему opt-level по умолчанию для профиля release равен 3.

Вы можете переопределить любую настройку по умолчанию, добавив для нее другое значение в файл Cargo.toml. Например, если мы хотим использовать opt-level, равный 1, в профиле release, то можно добавить следующие две строчки в файл Cargo.toml нашего проекта:

Cargo.toml
    [profile.dev]
    opt-level = 1

Этот код переопределяет значение по умолчанию, равное 0. Теперь, когда мы выполняем команду cargo build, Cargo будет использовать значения по умолчанию для профиля dev плюс нашу индивидуальную настройку для opt-level. Поскольку мы установили opt-level равным 1, Cargo будет применять больше оптимизаций, чем с настройками по умолчанию, но не так много, как в релизной сборке.