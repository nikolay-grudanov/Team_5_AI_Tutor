---
source_image: page_279.png
page_number: 279
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.65
tokens: 7508
characters: 1968
timestamp: 2025-12-24T10:53:07.090541
finish_reason: stop
---

О Обработка ошибок (глава 9).
О Использование типажей и жизненных циклов (глава 10).
О Написание тестов (глава 11).

Мы также кратко представим замыкания, итераторы и типажные объекты, которые будут подробно рассмотрены в главах 13 и 17.

Принятие аргументов командной строки

Давайте создадим новый проект с помощью команды cargo new. Назовем его minigrep, чтобы отличать от инструмента grep, который, возможно, уже есть в вашей системе.

$ cargo new minigrep
    Created binary (application) `minigrep` project
$ cd minigrep

Первая задача — сделать так, чтобы minigrep принимал два аргумента командной строки: имя файла и искомое строковое значение. То есть мы хотим иметь возможность запускать программу, используя команду cargo run, поисковое значение и путь к файлу, где будет осуществляться поиск, таким образом:

$ cargo run поисковое-значение образец-файла.txt

Сейчас программа, сгенерированная командой cargo new, не способна обрабатывать аргументы, которые мы ей передаем. Некоторые существующие библиотеки на https://crates.io/ помогут в написании программы, которая принимает аргументы командной строки, но поскольку вы только начали осваивать это понятие, давайте реализуем эту способность сами.

Чтение значений аргументов

Для того чтобы позволить программе minigrep читать значения аргументов командной строки, которые мы ей передаем, нам понадобится функция std::env::args из стандартной библиотеки. Эта функция возвращает итератор аргументов командной строки, которые были переданы в minigrep. Мы подробно рассмотрим итераторы в главе 13. А пока что вам нужно знать об итераторах только две вещи: итераторы производят серию значений, и мы можем вызывать метод collect для итератора, превращая его в коллекцию, такую как вектор, содержащий все элементы, которые производятся итератором.

Используйте код из листинга 12.1, чтобы позволить программе minigrep читать любые передаваемые ей аргументы командной строки, а затем собирать значения в вектор.