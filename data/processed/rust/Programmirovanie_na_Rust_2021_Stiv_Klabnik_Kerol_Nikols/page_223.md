---
source_image: page_223.png
page_number: 223
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.35
tokens: 7505
characters: 2021
timestamp: 2025-12-24T10:51:35.490120
finish_reason: stop
---

None,
}
fn main() {
    let integer = Option_i32::Some(5);
    let float = Option_f64::Some(5.0);
}

Поскольку Rust компилирует обобщенный код в код, который конкретизирует тип в каждом экземпляре, на время выполнения в связи с использованием обобщений это никак не влияет. Когда код выполняется, он работает точно так же, как если бы мы дублировали каждое определение вручную. Процесс мономорфизации делает обобщения чрезвычайно эффективными во время выполнения.

Типажи: определение совместного поведения

Типаж1 сообщает компилятору языка Rust о функциональности, которой обладает тот или иной тип и которой он может делиться с другими типами. Мы можем использовать типажи для определения совместного поведения в абстрактном виде. Мы можем использовать границы типажа, чтобы показать — обобщением может быть любой тип, который ведет себя определенным образом.

ПРИМЕЧАНИЕ
Типажи похожи на средство, которое в других языках часто называется интерфейсами, хотя и с некоторыми отличиями.

Определение типажа

Поведение типа состоит из методов, которые мы вызываем для этого типа. Разные типы имеют одинаковое поведение, если мы вызываем одинаковые методы для всех этих типов. Определения типажей являются способом группирования вместе сигнатур методов с целью описания множества поведений, необходимых для достижения некой цели.

Например, у нас есть пара структур, которые содержат различные виды и объемы текста: структура NewsArticle содержит новостной сюжет, зарегистрированный в том или ином месте, а структура Tweet включает не более 280 символов вместе с метаданными, описывающими вид твита: новый твит, ретвит либо ответ на другой твит.

1 Типаж (trait), или композиционный признак, в языке Rust представляет собой атрибут композиционного построения, который используется для абстракций, хорошо знакомых из объектно-ориентированного программирования, но вместо наследования он использует принцип композиции. Композиция позволяет определять совокупность атрибутов, которые можно безопасно смешивать и сопоставлять.