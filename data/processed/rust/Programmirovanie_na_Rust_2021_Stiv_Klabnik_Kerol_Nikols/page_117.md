---
source_image: page_117.png
page_number: 117
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.60
tokens: 7552
characters: 2192
timestamp: 2025-12-24T10:48:51.233003
finish_reason: stop
---

sign_in_count: u64,
active: bool,
}

Для того чтобы использовать структуру после ее определения, мы ее инстанцируем, то есть создаем экземпляр этой структуры, указывая конкретные значения для каждого из полей. Мы создаем экземпляр путем задания имени структуры с последующим добавлением фигурных скобок, содержащих пары ключ-значение, где ключи — это имена полей, а значения — данные, которые будут храниться в этих полях. Нам не нужно указывать поля в том же порядке, в котором мы их объявили в структуре. Другими словами, определение структуры выглядит как общая заготовка для типа, а экземпляры заполняют эту заготовку конкретными данными, создавая значения типа. Например, можно объявить конкретного пользователя, как показано в листинге 5.2.

Листинг 5.2. Создание экземпляра структуры User

let user1 = User {
    email: String::from("someone@example.com"),
    username: String::from("someusername123"),
    active: true,
    sign_in_count: 1,
};

Для того чтобы получить конкретное значение из структуры, мы используем точечную нотацию. Если бы нам нужен был только адрес электронной почты этого пользователя, мы бы использовали user1.email везде, где следовало бы использовать это значение. Если экземпляр изменяемый, то можно изменить значение с помощью точечной нотации, передав значение в определенное поле. Листинг 5.3 показывает, как изменять значение в поле email изменяемого экземпляра структуры User.

Листинг 5.3. Изменение значения в поле email экземпляра структуры User

let mut user1 = User {
    email: String::from("someone@example.com"),
    username: String::from("someusername123"),
    active: true,
    sign_in_count: 1,
};

user1.email = String::from("anotheremail@example.com");

Обратите внимание, что весь экземпляр должен быть изменяемым. Rust не позволяет помечать только определенные поля как изменяемые. Как и в любом выражении, мы конструируем новый экземпляр структуры как последнее выражение в теле функции, неявно возвращая этот новый экземпляр.

Листинг 5.4 показывает функцию build_user, которая возвращает экземпляр структуры User с заданной электронной почтой и именем пользователя. Поле active получает значение true, а sign_in_count — значение 1.