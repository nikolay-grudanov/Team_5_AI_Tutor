---
source_image: page_228.png
page_number: 228
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.11
tokens: 7473
characters: 2023
timestamp: 2025-12-24T10:51:43.264489
finish_reason: stop
---

Summary обусловил поведение метода summarize, не требуя, чтобы мы писали больше кода.

let tweet = Tweet {
    username: String::from("horse_ebooks"),
    content: String::from("конечно, как вы, наверное, уже знаете, люди"),
    reply: false,
    retweet: false,
};

println!("1 новый твит: {}", tweet.summarize());

Этот код выводит

1 новый твит: (Читать дальше в @horse_ebooks...).

Обратите внимание, что не существует возможности вызывать реализацию по умолчанию из переопределяющей реализации того же метода.

Типажи в качестве параметров

Теперь, когда вы знаете, как определять и реализовывать типажи, можно узнать, как использовать типажи для определения функций, которые принимают много разных типов.

Например, в листинге 10.13 мы реализовали типаж Summary для типов NewsArticle и Tweet. Мы можем определить функцию notify — она вызывает метод summarize для параметра item, который имеет некий тип, реализующий типаж Summary. Для этого можно использовать синтаксис impl Trait:

pub fn notify(item: impl Summary) {
    println!("Срочные новости! {}", item.summarize());
}

Вместо конкретного типа для параметра item мы указываем ключевое слово impl и имя типажа. Этот параметр принимает любой тип, реализующий указанный типаж. В теле функции notify мы можем вызывать любые методы для item, которые исходят из типажа Summary, например метод summarize. Можно вызвать функцию notify и передать внутрь экземпляр любого из двух типов, NewsArticle или Tweet. Код, вызывающий указанную функцию с любым другим типом, например String или i32, не компилируется, поскольку эти типы не реализуют Summary.

Синтаксис границы типажа

Синтаксис impl Trait работает в простых случаях, но на самом деле он является синтаксическим сахаром для более длинной формы, которая называется границей типажа¹. Вот как он выглядит:

¹ Граница типажа (trait bound) — это ограничение типа или типажа. Например, если граница помещена в аргумент, который функция принимает, то передаваемые этой функции типы должны подчиняться этому ограничению.