---
source_image: page_212.png
page_number: 212
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.57
tokens: 7512
characters: 1844
timestamp: 2025-12-24T10:51:23.410983
finish_reason: stop
---

Удаление повторов путем извлечения функции

Прежде чем углубляться в синтаксис обобщенных типов, давайте сначала посмотрим, как удалять повторы, которые не связаны с обобщенными типами, путем извлечения функции. Затем мы применим этот прием для извлечения обобщенной функции! Вы начнете распознавать повторяющийся код, который может использовать обобщения, точно так же, как вы распознаете повторяющийся код и извлекаете его в функцию.

Рассмотрим короткую программу, которая находит наибольшее число в списке, как показано в листинге 10.1.

Листинг 10.1. Код для поиска наибольшего числа в списке чисел
src/main.rs

fn main() {
    let number_list = vec![34, 50, 25, 100, 65];
    let mut largest = number_list[0];
    for number in number_list {
        if number > largest {
            largest = number;
        }
    }
    println!("Наибольшее число равно {}", largest);
}

Этот код помещает список целых чисел в переменную number_list ① и передает первое число в списке в переменную с именем largest ②. Затем он перебирает все числа в списке ③, и если текущее число больше, чем число, хранящееся в переменной largest ④, он заменяет число в этой переменной ⑤. Однако если текущее число меньше встречавшегося до сих пор наибольшего числа, то переменная не изменяется и код переходит к следующему числу в списке. После рассмотрения всех чисел в списке переменная largest должна содержать наибольшее число, которое в данном случае равно 100.

Чтобы найти наибольшее число в двух разных списках чисел, мы можем повторить код в листинге 10.1 и применить тот же алгоритм в двух разных местах программы, как показано в листинге 10.2.

Листинг 10.2. Код для поиска наибольшего числа в двух списках чисел
src/main.rs

fn main() {
    let number_list = vec![34, 50, 25, 100, 65];
    let mut largest = number_list[0];
    for number in number_list {