---
source_image: page_121.png
page_number: 121
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 20.45
tokens: 7372
characters: 1508
timestamp: 2025-12-24T10:48:42.577410
finish_reason: stop
---

email: "someone@example.com",
username: "someusername123",
active: true,
sign_in_count: 1,
};
}

Компилятор пожалуется, что ему нужны спецификаторы жизненных циклов:

error[E0106]: missing lifetime specifier
 --> 
  |
2 |     username: &str,
  |         ^ expected lifetime parameter

error[E0106]: missing lifetime specifier
 --> 
  |
3 |     email: &str,
  |         ^ expected lifetime parameter

В главе 10 мы обсудим вопрос устранения этих ошибок, в результате чего вы сможете хранить в структурах ссылки. Сейчас мы устраним подобные ошибки, используя обладаемые типы, такие как String вместо ссылок типа &str.

Пример программы с использованием структур

Для того чтобы разобраться в том, когда следует использовать структуры, давайте напишем программу, которая вычисляет площадь прямоугольника. Мы начнем с отдельных переменных, а затем проведем рефакторинг, пока вместо них не станем использовать структуры.

Давайте создадим новый двоичный проект с помощью Cargo под названием rectangles («прямоугольники»), который возьмет ширину и высоту прямоугольника, заданного в пикселях, и рассчитает площадь прямоугольника. Листинг 5.8 показывает короткую программу с одним из способов, как это сделать в проекте src/main.rs.

Листинг 5.8. Расчет площади прямоугольника, заданной отдельными переменными ширины width и высоты height

src/main.rs
fn main() {
    let width1 = 30;
    let height1 = 50;

    println!(
        "Площадь прямоугольника равна {} квадратным пикселам.",
        area(width1, height1)