---
source_image: page_175.png
page_number: 175
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 38.00
tokens: 7630
characters: 2417
timestamp: 2025-12-24T10:50:28.430892
finish_reason: stop
---

str, обычно видимый в его заимствованной форме &str. В главе 4 мы говорили о строковых срезах, то есть ссылках на строковые данные в кодировке UTF-8, хранящиеся в другом месте. Строчные литералы, например, хранятся в двоичном коде программы и поэтому являются строковыми срезами.

Тип String, который предусмотрен стандартной библиотекой Rust, а не закодирован в языке, является наращиваемым, изменяемым, обладаемым строковым типом в кодировке UTF-8. Когда растягиваем говорят о «строках», они обычно имеют в виду тип String и тип строкового среза &str, а не только один из этих типов. Хотя этот раздел в основном посвящен типу String, оба типа широко используются в стандартной библиотеке Rust, и как String, так и строковые срезы кодируются в UTF-8.

Стандартная библиотека также включает в себя ряд других строковых типов, таких как OsString, OsStr, CString и CStr. Библиотечные упаковки могут предоставить еще больше возможностей для хранения строковых данных. Вы заметили, что все эти имена заканчиваются на String или Str? Они относятся к обладаемым и заимствованным вариантам, как и типы String и str, которые вы видели ранее. К примеру, эти строковые типы могут хранить текст в разных кодировках или быть представлены в памяти по-разному. В этой главе мы не будем обсуждать другие строковые типы. Для получения дополнительной информации о том, как их использовать и когда подходит каждый из них, обратитесь к соответствующей документации API.

Создание нового экземпляра типа String

Многие операции, доступные для типа Vec<T>, также доступны для String, начиная с функции new, которая помогает создать экземпляр типа String. Эта функция показана в листинге 8.11.

Листинг 8.11. Создание нового пустого экземпляра типа String

let mut s = String::new();

Эта строка кода создает новый пустой экземпляр типа String под названием s, в который затем можно загрузить данные. Часто у нас есть некоторые исходные данные, с которых мы хотим начать строковый экземпляр. Для этого мы используем метод to_string, который доступен для любого типа, реализующего типаж Display, как это делают строковые литералы. В листинге 8.12 приведены два примера.

Листинг 8.12. Использование метода to_string для создания экземпляра типа String из строкового литерала

let data = "начальное содержимое";

let s = data.to_string();

// этот метод также работает непосредственно на литерале:
let s = "начальное содержимое".to_string();