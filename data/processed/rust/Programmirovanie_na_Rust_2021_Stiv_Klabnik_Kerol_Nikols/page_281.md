---
source_image: page_281.png
page_number: 281
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.12
tokens: 7479
characters: 2008
timestamp: 2025-12-24T10:53:08.869227
finish_reason: stop
---

--пропуск--
["target/debug/minigrep", "needle", "haystack"]

Обратите внимание, что первым значением в векторе является "target/debug/minigrep", то есть имя двоичного файла. Это соответствует поведению списка аргументов в C, позволяя программам использовать имя, по которому они были вызваны при исполнении. Часто бывает удобно иметь доступ к имени программы, в случае если вы хотите напечатать его в сообщениях или изменить поведение программы, основываясь на том, какой псевдоним командной строки был использован для вызова программы. Но в данной главе мы это проигнорируем и сохраним только два нужных нам аргумента.

Сохранение значений аргументов в переменных

Вывод значения вектора аргументов иллюстрирует, что программа способна обращаться к значениям, указанным в качестве аргументов командной строки. Теперь нужно сохранить значения двух аргументов в переменных, чтобы мы могли использовать их в остальной части программы. Мы делаем это в листинге 12.2.

Листинг 12.2. Создание переменных для хранения аргумента с искомым значением и аргумента с именем файла

src/main.rs
use std::env;

fn main() {
    let args: Vec<String> = env::args().collect();

    let query = &args[1];
    let filename = &args[2];

    println!("Поиск {}", query);
    println!("В файле {}", filename);
}

Как мы видели, когда выводили вектор, имя программы занимает первое значение вектора в args[0], поэтому мы начинаем с индекса 1. Первым аргументом, который берет программа minigrep, является строковое значение, которое мы ищем, поэтому мы помещаем ссылку на первый аргумент в переменную query. Вторым аргументом будет имя файла, поэтому мы помещаем ссылку на второй аргумент в переменную filename.

Мы временно выводим значения этих переменных, чтобы доказать, что код работает так, как мы предполагаем. Давайте снова запустим эту программу с аргументами test и sample.txt:

$ cargo run test sample.txt
Compiling minigrep v0.1.0 (file:///projects/minigrep)
Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs