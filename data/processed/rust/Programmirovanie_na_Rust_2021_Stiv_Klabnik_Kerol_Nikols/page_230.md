---
source_image: page_230.png
page_number: 230
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.43
tokens: 7498
characters: 2064
timestamp: 2025-12-24T10:51:48.488464
finish_reason: stop
---

альтернативный синтаксис для указания границ типажа внутри условия where после сигнатуры функции. Поэтому чтобы не писать:

fn some_function<T: Display + Clone, U: Clone + Debug>(t: T, u: U) -> i32 {

мы можем применить условие where:

fn some_function<T, U>(t: T, u: U) -> i32
    where T: Display + Clone,
        U: Clone + Debug
{
Сигнатура этой функции более четкая: имя функции, список параметров и тип возвращаемого значения находятся близко друг к другу, подобно функции без большого числа границ типажа.

Возвращение типов, реализующих типажи

Мы также можем использовать синтаксис impl Trait в позиции return для возвращения значения некоего типа, реализующего типаж, как показано здесь:

fn returns_summarizable() -> impl Summary {
    Tweet {
        username: String::from("horse_ebooks"),
        content: String::from("конечно, как вы, наверное, уже знаете, люди"),
        reply: false,
        retweet: false,
    }
}

Используя impl Summary для возвращаемого типа, мы уточняем, что функция returns_summarizable возвращает некий тип, который реализует типаж Summary, не называя конкретный тип. В этом случае returns_summarizable возвращает тип Tweet, но код, вызывающий эту функцию, об этом не знает.

Возможность возвращать тип, описываемый только тем типажом, который им реализуется, особенно полезна в контексте замыканий и итераторов, которые мы рассмотрим в главе 13. Замыкания и итераторы создают типы, о которых знает только компилятор, либо типы, которые очень долго нужно описывать. Синтаксис impl Trait позволяет кратко описать, что функция возвращает некий тип, реализующий типаж Iterator, без необходимости расписывать очень длинный тип.

Однако вы можете использовать impl Trait только в том случае, если возвращаете один тип. Например, код ниже, который возвращает либо NewsArticle, либо Tweet с возвращаемым типом, описываемым как impl Summary, работать не будет:

fn returns_summarizable(switch: bool) -> impl Summary {
    if switch {
        NewsArticle {
            headline: String::from("Пингвины выигрывают Кубок Стэнли!"),
