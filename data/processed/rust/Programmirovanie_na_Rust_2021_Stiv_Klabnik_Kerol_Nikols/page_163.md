---
source_image: page_163.png
page_number: 163
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.16
tokens: 7493
characters: 1962
timestamp: 2025-12-24T10:50:02.578503
finish_reason: stop
---

Листинг 7.17. Предоставление имени для использования любым кодом из новой области с помощью pub use

src/lib.rs
```rust
mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

pub use crate::front_of_house::hosting;

pub fn eat_at_restaurant() {
    hosting::add_to_waitlist();
    hosting::add_to_waitlist();
    hosting::add_to_waitlist();
}
```

Используя pub use, внешний код теперь может вызывать функцию add_to_waitlist с помощью hosting::add_to_waitlist. Если бы мы не указали pub use, то функция eat_at_restaurant могла бы вызывать hosting::add_to_waitlist в своей области видимости, но внешний код не смог бы воспользоваться этим новым путем.

Реэкспорт полезен, когда внутренняя структура кода отличается от того, как программисты, вызывающие ваш код, будут думать о домене. Например, в ресторанной метафоре люди, управляющие рестораном, думают о «передней» и «задней» части заведения. Но клиенты, посещающие ресторан, вероятно, не будут думать о частях ресторана в таких определениях. При использовании pub use мы можем писать код с одной структурой, но демонстрировать другую структуру. Это хорошо организует нашу библиотеку для программистов, работающих над библиотекой, и программистов, вызывающих ее.

Использование внешних пакетов

В главе 2 мы создали программу проекта игры-угадайки, который использовал внешний пакет под названием rand с целью получения случайных чисел. Для того чтобы использовать пакет rand в проекте, мы добавили такую строку в Cargo.toml:

Cargo.toml
```toml
[dependencies]
rand = "0.5.5"
```

Добывление rand в качестве зависимости в Cargo.toml поручает Cargo загрузить пакет rand и любые зависимости из https://crates.io/ и сделать rand доступным для проекта.

Затем, для того чтобы ввести определения rand в область видимости пакета, мы добавили строку use, начинающуюся с имени пакета rand, и перечислили элементы, которые мы хотели бы ввести в область видимости. Напомним, что в разде-