---
source_image: page_492.png
page_number: 492
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 34.24
tokens: 7607
characters: 2330
timestamp: 2025-12-24T10:58:47.687585
finish_reason: stop
---

В блоке extern "C" мы перечисляем имена и сигнатуры внешних функций из другого языка, который мы хотим вызвать. Фрагмент "C" определяет, какой двоичный интерфейс приложения (ABI от англ. application binary interface) используется внешней функцией. Двоичный интерфейс приложения определяет, как вызвать функцию на ассемблерном уровне. Двоичный интерфейс приложения "C" распространен больше всего и подчиняется ABI языка программирования C.

Обращение к изменяемой статической переменной или ее модификация

Мы пока не говорили о глобальных переменных, поддерживаемых в Rust, с которыми бывают проблемы с точки зрения правил владения Rust. Если два потока обращаются к одной и той же изменяемой глобальной переменной, то может возникнуть гонка данных.

В Rust глобальные переменные называются статическими переменными. В листинге 19.9 показан пример объявления и использования статической переменной со строковым срезом в качестве значения.

Листинг 19.9. Определение и использование неизменяемой статической переменной
src/main.rs
```rust
static HELLO_WORLD: &str = "Hello, world!";

fn main() {
    println!("имя равно: {}", HELLO_WORLD);
}
```

Статические переменные подобны константам, которые мы обсуждали в разделе «Различия между переменными и константами» (с. 63). Имена статических переменных по общему соглашению находятся в КРИЧАЩЕМ_ЗМЕИНOM_РЕГИСТРЕ, и мы должны аннотировать тип переменной, в данном примере это &'static str. Статические переменные хранят ссылки только с жизненным циклом 'static, то есть компилятор может узнавать жизненный цикл, нам не нужно явно его аннотировать. Обращаться к неизменяемой статической переменной безопасно.

Константы и неизменяемые статические переменные бывают похожи, но различие состоит в том, что значения в статической переменной имеют фиксированный адрес в памяти. При использовании этого значения всегда будут доступны одни и те же данные. Константам, с другой стороны, разрешено дублировать свои данные всякий раз, когда они используются.

Еще одно различие между константами и статическими переменными состоит в том, что статические переменные могут быть изменяемыми. Доступ к изменяемым статическим переменным и их модификацию является небезопасным. Листинг 19.10 показывает объявление изменяемой статической переменной с именем COUNTER, обращение к ней и ее модификацию.