---
source_image: page_158.png
page_number: 158
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 35.55
tokens: 7558
characters: 2123
timestamp: 2025-12-24T10:49:57.268003
finish_reason: stop
---

// Заказать летом завтрак с ржаным тостом
let mut meal = back_of_house::Breakfast::summer("ржаной");
// Изменить мнение о том, какой хлеб мы бы хотели
meal.toast = String::from("пшеничный");
println!("Я бы хотел {} тост, пожалуйста", meal.toast);

// Следующая строка не будет компилироваться, если мы раскомментируем ее;
// нам запрещено просматривать или изменять сезонные фрукты,
// которые принесут с едой
// meal.seasonal_fruit = String::from("черника");
}

Поскольку поле toast в структуре back_of_house::Breakfast является публичным, в функции eat_at_restaurant мы можем читать поле toast и писать в него с помощью точечной нотации. Обратите внимание, что мы не можем использовать поле seasonal_fruit в функции eat_at_restaurant, потому что seasonal_fruit является конфиденциальным. Попробуйте раскомментировать строку, изменив значение поля seasonal_fruit, чтобы увидеть, какая ошибка произойдет!

Кроме того, обратите внимание, что, поскольку структура back_of_house::Breakfast имеет конфиденциальное поле, она должна предоставить публичную связанную функцию, которая конструирует экземпляр структуры Breakfast (мы назвали ее здесь summer). Если бы в структуре Breakfast не было такой функции, то мы бы не смогли создать экземпляр указанной структуры в функции eat_at_restaurant, потому что нам бы не удалось задать значение конфиденциального поля seasonal_fruit в функции eat_at_restaurant.

Напротив, если мы сделаем перечисление публичным, то тогда все его варианты будут публичными. Нам нужно ключевое слово pub только перед ключевым словом enum, как показано в листинге 7.10.

Листинг 7.10. Обозначение перечисления как публичного делает все его варианты публичными

src/lib.rs
mod back_of_house {
    pub enum Appetizer {
        Soup,
        Salad,
    }
}

pub fn eat_at_restaurant() {
    let order1 = back_of_house::Appetizer::Soup;
    let order2 = back_of_house::Appetizer::Salad;
}

Поскольку мы сделали перечисление Appetizer («закуска») публичным, мы можем использовать варианты Soup и Salad в функции eat_at_restaurant. Перечисления не очень полезны, если их варианты не являются публичными. Необ-