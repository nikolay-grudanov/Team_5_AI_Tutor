---
source_image: page_564.png
page_number: 564
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 52.94
tokens: 11680
characters: 1590
timestamp: 2025-12-24T10:42:12.466773
finish_reason: stop
---

Листинг 19-25: Представление псевдонима Thunk для уменьшения количества повторений

Этот код намного легче читать и писать! Выбор значимого имени для псевдоним типа может также помочь сообщить о ваших намерениях (thunk является словом для кода, который будет вычисляться позднее, так что это подходящее название для замыкания, которое сохраняется).

Псевдоним типы также обычно используются с типом Result<T, E> для сокращения повторения. Рассмотрим модуль std::io в стандартной библиотеке. Операции ввода/вывода часто возвращают тип Result<T, E> для обработки ситуаций, когда операция не выполняется из-за ошибки. Эта библиотека имеет структуру std::io::Error которая представляет все возможные ошибки ввода/вывода. Многие функции в библиотеке std::io будут возвращать Result<T, E>, где E - это std::io::Error, например, такие как функции в Write типаже:

use std::fmt;
use std::io::Error;

pub trait Write {
    fn write(&mut self, buf: &[u8]) -> Result<usize, Error>;
    fn flush(&mut self) -> Result<(), Error>;

    fn write_all(&mut self, buf: &[u8]) -> Result<(), Error>;
    fn write_fmt(&mut self, fmt: fmt::Arguments) -> Result<(), Error>;
}

Тип Result<..., Error> многократно повторяется. Таким образом, std::io имеет этот тип как объявление псевдонима:

type Result<T> = std::result::Result<T, std::io::Error>;

Поскольку это объявление находится в модуле std::io, мы можем использовать полностью квалифицированный псевдоним std::io::Result<T>, что является Result<T, E> с типом E заполненным типом std::io::Error. Сигнатуры функций типажа Write в конечном итоге выглядят как: