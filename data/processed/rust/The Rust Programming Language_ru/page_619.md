---
source_image: page_619.png
page_number: 619
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.68
tokens: 11455
characters: 1029
timestamp: 2025-12-24T10:44:19.506642
finish_reason: stop
---

Ошибка говорит, что мы не можем вызвать join, потому что у нас есть только изменяемое заимствование каждого worker и что join забирает во владение его аргумент. Чтобы решить эту проблему, нужно переместить поток из экземпляра Worker, который владеет thread, чтобы join мог использовать внутренний поток. Мы сделали это в коде 17-15: если вместо этого Worker содержит тип Option<thread::JoinHandle<()>>, мы можем вызвать метод take у Option, чтобы переместить значение из варианта Some и оставить вариант None на его месте. Другими словами, работающий Worker будет содержать вариант Some внутри thread, и когда мы хотим очистить Worker, мы заменяем значение варианта Some на вариант None, чтобы у Worker не было потока для запуска.

Итак, мы хотим обновить объявление Worker следующим образом:

Файл: src/lib.rs

```rust
struct Worker {
    id: usize,
    thread: Option<thread::JoinHandle<()>>,
}
```

Теперь давайте опираться на компилятор, чтобы найти другие места, которые нужно изменить. Проверяя код, мы получаем две ошибки: