---
source_image: page_291.png
page_number: 291
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.15
tokens: 11425
characters: 944
timestamp: 2025-12-24T10:30:41.873909
finish_reason: stop
---

Функция it_works теперь имеет возвращаемый тип Result<(), String>. В теле функции, вместо вызова assert_eq! макроса, мы возвращаем Ok(()) когда тест успешно выполнен и Err со String внутри, когда тест не проходит.

Написание тестов так, чтобы они возвращали Result<T, E> позволяет использовать оператор "вопросительный знак" в теле тестов, который может быть удобным способом писать тесты, которые должны выполниться не успешно, если какая-либо операция внутри них возвращает вариант ошибки Err.

Вы не можете использовать аннотацию #[should_panic] в тестах, использующих Result<T, E>. Чтобы утверждать, что операция возвращает вариант Err, не используйте оператор вопросительного знака для значения Result<T, E>. Вместо этого используйте assert!(value.is_err()).

Теперь, когда вы знаете несколько способов написания тестов, давайте взглянем на то, что происходит при запуске тестов и исследуем разные опции используемые с командой cargo test.