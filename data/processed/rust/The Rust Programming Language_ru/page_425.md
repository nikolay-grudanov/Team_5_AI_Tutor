---
source_image: page_425.png
page_number: 425
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.75
tokens: 11499
characters: 906
timestamp: 2025-12-24T10:36:15.007802
finish_reason: stop
---

Рисунок 15-3: Два списка, b и c, делят владение над третьим списком, a

Мы создадим список a, содержащий 5 и затем 10. Затем мы создадим ещё два списка: b начинающийся с 3 и с начинающийся с 4. Оба списка b и с затем продолжать первый список a, содержащий 5 и 10. Другими словами, оба списка будут разделять первый список, содержащий 5 и 10.

Попытка реализовать этот сценарий, используя определение List с типом Box<T> не будет работать, как показано в листинге 15-17:

Файл: src/main.rs

enum List {
    Cons(i32, Box<List>),
    Nil,
}

use crate::List::{Cons, Nil};

fn main() {
    let a = Cons(5, Box::new(Cons(10, Box::new(Nil)))); // Ошибка
    let b = Cons(3, Box::new(a));
    let c = Cons(4, Box::new(a));
}

Листинг 15-17: Демонстрация того, что нельзя иметь два списка, использующих Box<T>, которые пытаются совместно владеть третьим списком

При компиляции этого кода, мы получаем эту ошибку: