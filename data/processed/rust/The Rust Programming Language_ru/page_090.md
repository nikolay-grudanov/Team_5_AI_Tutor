---
source_image: page_090.png
page_number: 90
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 69.85
tokens: 11747
characters: 1860
timestamp: 2025-12-24T10:22:47.906890
finish_reason: stop
---

В Rust есть специальная аннотация, называемая типажом `Copy`, которую мы можем размещать на типах, хранящихся в стеке, как и целые числа (подробнее о типах мы поговорим в главе 10). Если тип реализует типаж `Copy`, переменные, которые его используют, не перемещаются, а тривиально копируются, что делает их действительными после присвоения другой переменной.

Rust не позволит нам аннотировать тип с помощью `Copy`, если тип или любая из его частей реализует `Drop`. Если для типа нужно, чтобы произошло что-то особенное, когда значение выходит за пределы области видимости, и мы добавляем аннотацию `Copy` к этому типу, мы получим ошибку времени компиляции. Чтобы узнать, как добавить аннотацию `Copy` к вашему типу для реализации типажа, смотрите раздел «Производные типажи» в приложении C.

Но какие же типы имеют типаж `Copy`? Можно проверить документацию любого типа для уверенности, но как правило любая группа простых скалярных значений может быть с типажом `Copy`, и ничего из типов, которые требуют выделения памяти в куче или являются некоторой формой ресурсов, не имеет типажа `Copy`. Вот некоторые типы, которые реализуют типаж `Copy`:

• Все целочисленные типы, такие как `u32`,
• Логический тип данных `bool`, возможные значения которого `true` и `false`,
• Все числа с плавающей запятой, такие как `f64`,
• Символьный тип `char`,
• Кортежи, но только если они содержат типы, которые также реализуют `Copy`.
    Например, `(i32, i32)` будет с `Copy`, но кортеж `(i32, String)` уже нет.

Владение и функции

Механика передачи значения функции аналогична тому, что происходит при присвоении значения переменной. Передача переменной в функцию приведёт к перемещению или копированию, как и присваивание. В листинге 4-3 есть пример с некоторыми аннотациями, показывающими, где переменные входят в область видимости и выходят из неё.

Файл: src/main.rs