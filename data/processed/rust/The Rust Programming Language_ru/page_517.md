---
source_image: page_517.png
page_number: 517
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.12
tokens: 11576
characters: 1192
timestamp: 2025-12-24T10:39:52.712879
finish_reason: stop
---

Поскольку мы не покрыли (и не могли покрыть!) каждое допустимое значение с помощью образца `Some(x)`, то Rust выдаёт ошибку компиляции.

Чтобы исправить проблему наличия опровержимого шаблона, там где нужен неопровержимый шаблон, можно изменить код использующий шаблон: вместо использования `let`, можно использовать `if let`. Затем, если шаблон не совпадает, выполнение кода внутри фигурных скобок будет пропущено, что даст возможность продолжить корректное выполнение. В листинге 18-9 показано, как исправить код из листинга 18-8.

```rust
if let Some(x) = some_option_value {
    println!("{}", x);
}
```

Листинг 18-9. Использование `if let` и блока с опровергнутыми шаблонами вместо `let`

Код сделан! Этот код совершенно корректный, хотя это означает, что мы не можем использовать неопровержимый образец без получения ошибки. Если мы используем шаблон `if let`, который всегда будет совпадать, то для примера `x` показанного в листинге 18-10, компилятор выдаст предупреждение.

```rust
if let x = 5 {
    println!("{}", x);
};
```

Листинг 18-10. Попытка использовать неопровержимый шаблон с `if let`

Rust жалуется, что не имеет смысла использовать, `if let` с неопровержимым образцом: