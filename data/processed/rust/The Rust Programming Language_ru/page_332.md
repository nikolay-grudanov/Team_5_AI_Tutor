---
source_image: page_332.png
page_number: 332
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.40
tokens: 11420
characters: 802
timestamp: 2025-12-24T10:32:06.151504
finish_reason: stop
---

Отлично. Наш тест не сработал, как мы и ожидали. Давайте сделаем так, чтобы он срабатывал!

Написание кода для прохождения теста

Сейчас наш тест не проходит, потому что мы всегда возвращаем пустой вектор. Чтобы исправить это и реализовать search, наша программа должна выполнить следующие шаги:

• Итерироваться по каждой строке содержимого.
• Проверить, содержит ли данная строка искомую.
• Если это так, добавить её в список значений, которые мы возвращаем.
• Если это не так, ничего не делать.
• Вернуть список результатов.

Давайте проработаем каждый шаг, начиная с перебора строк.

Перебор строк с помощью метода lines

В Rust есть полезный метод для построчной итерации строк, удобно названный lines, как показано в листинге 12-17. Обратите внимание, код пока не компилируется.

Файл: src/lib.rs