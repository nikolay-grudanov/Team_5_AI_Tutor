---
source_image: page_131.png
page_number: 131
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 54.59
tokens: 11700
characters: 1726
timestamp: 2025-12-24T10:24:14.272649
finish_reason: stop
---

экземпляр типа для работы. Мы уже использовали одну подобную функцию: функцию `String::from`, определённую для типа `String`.

Ассоциированные функции, не являющиеся методами, часто используются для конструкторов, возвращающих новый экземпляр структуры. Их часто называют `new`, но `new` не является специальным именем и не встроена в язык. Например, мы можем предоставить ассоциированную функцию с именем `square`, которая будет иметь один параметр размера и использовать его как ширину и высоту, что упростит создание квадратного `Rectangle`, вместо того, чтобы указывать одно и то же значение дважды:

Файл: src/main.rs

```rust
impl Rectangle {
    fn square(size: u32) -> Self {
        Self {
            width: size,
            height: size,
        }
    }
}
```

Ключевые слова `Self` в возвращаемом типе и в теле функции являются псевдонимами для типа, указанного после ключевого слова `impl`, которым в данном случае является `Rectangle`.

Чтобы вызвать эту ассоциированную функцию, мы используем синтаксис `::` с именем структуры; например, `let sq = Rectangle::square(3);`. Эта функция входит в пространство имён структуры: синтаксис `::` используется как для ассоциированных функций, так и для пространств имён, созданных модулями. Мы обсудим модули в Главе 7.

Несколько блоков `impl`

Каждая структура может иметь несколько `impl`. Например, Листинг 5-15 эквивалентен коду, показанному в листинге 5-16, в котором каждый метод находится в своём собственном блоке `impl`.

```rust
impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }
}

impl Rectangle {
    fn can_hold(&self, other: &Rectangle) -> bool {
        self.width > other.width && self.height > other.height
    }
}
```