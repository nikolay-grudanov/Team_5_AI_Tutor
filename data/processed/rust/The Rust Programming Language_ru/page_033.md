---
source_image: page_033.png
page_number: 33
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 64.66
tokens: 11806
characters: 2055
timestamp: 2025-12-24T10:20:19.569585
finish_reason: stop
---

будете собирать свой проект в будущем, Cargo увидит, что файл Cargo.lock существует, и будет использовать указанные там версии, а не выполнять всю работу по выяснению версий заново. Это позволяет автоматически создавать воспроизводимую сборку. Другими словами, ваш проект останется на 0.8.3 до тех пор, пока вы явно не обновите его благодаря файлу Cargo.lock. Поскольку файл Cargo.lock важен для воспроизводимых сборок, он часто хранится в системе управления версиями вместе с остальным кодом проекта.

Обновление пакета для получения новой версии

Если вы захотите обновить пакет, Cargo предоставляет команду update, которая игнорирует файл Cargo.lock и определяет последние версии, соответствующие вашим спецификациям из файла Cargo.toml. После этого Cargo запишет эти версии в файл Cargo.lock. Иначе, по умолчанию, Cargo будет искать только версии больше 0.8.3, но при этом меньше 0.9.0. Если пакет rand имеет две новые версии 0.8.4 и 0.9.0, то при запуске cargo update вы увидите следующее:

$ cargo update
  Updating crates.io index
  Updating rand v0.8.3 -> v0.8.4

Cargo игнорирует релиз 0.9.0. В этот момент также появится изменение в файле Cargo.lock, указывающее на то, что версия rand, которая теперь используется, равна 0.8.4. Чтобы использовать rand версии 0.9.0 или любой другой версии из серии 0.9.x, необходимо обновить файл Cargo.toml следующим образом:

[dependencies]
rand = "0.9.0"

В следующий раз, когда вы запустите Cargo cargo build, Cargo обновит реестр доступных крейтов и пересмотрит ваши требования к rand в соответствии с новой версией, которую вы указали.

Ещё многое возможно сказать о Cargo и его экосистеме, которые мы обсудим в Главе 14, а пока это всё, что вам нужно знать. Cargo упрощает повторное использование библиотек, поэтому Rustaceans могут создавать проекты меньшего размера, собранные из нескольких пакетов.

Генерация случайного числа

Давайте начнём использовать rand чтобы сгенерировать число для угадывания. Следующим шагом будет обновление src/main.rs, как показано в Листинге 2-3.

Имя файла: src/main.rs