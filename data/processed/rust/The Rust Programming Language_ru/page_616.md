---
source_image: page_616.png
page_number: 616
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 31.54
tokens: 11429
characters: 776
timestamp: 2025-12-24T10:44:04.090075
finish_reason: stop
---

Успех! Теперь у нас есть пул потоков, который обрабатывает соединения асинхронно. Никогда не создаётся более четырёх потоков, поэтому наша система не будет перегружена, если сервер получает много запросов. Если мы отправим запрос ресурса /sleep, сервер сможет обслуживать другие запросы, запустив их в другом потоке.

Примечание: если вы запрашиваете /sleep в нескольких окнах браузера одновременно, они могут загружаться по одному с интервалами в 5 секунд. Некоторые веб-браузеры выполняют несколько экземпляров одного и того же запроса последовательно из-за кэширования. Данное ограничение не вызвано нашим веб-сервером.

После изучения цикла while let в главе 18 вы можете удивиться, почему мы не написали код рабочего потока (worker thread), как показано в листинге 20-22.