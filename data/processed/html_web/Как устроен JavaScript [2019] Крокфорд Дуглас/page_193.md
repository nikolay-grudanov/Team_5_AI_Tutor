---
source_image: page_193.png
page_number: 193
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 23.77
tokens: 7394
characters: 1711
timestamp: 2025-12-24T09:58:42.513521
finish_reason: stop
---

JSON-объект

В JavaScript поддержка JSON осуществляется с помощью двух функций, находящихся в JSON-объекте. Функции называются parse и stringify, и в этом всецело моя вина. Я выбрал название parse, взяв в качестве неудачного примера Date-функцию, которая, как уже было показано, имеет существенные недостатки. Название stringify появилось потому, что я полагал название toString неправильным. Следовало дать функциям имена decode и encode.

JSON.parse(текст, оживитель)

Функция parse принимает текст в формате JSON и декодирует его в данные JavaScript. Необязательная функция оживитель может выполнять преобразования. Ей даются ключ и значение, а она возвращает желаемое значение для этого ключа.

Например, можно создать оживитель, превращающий строки данных в объекты данных. Если ключ заканчивается на _date или если значение является строкой в формате данных ISO, то значение заменяется объектом Date, созданным из значения. Формально JSON не содержит дат, но даты могут быть удобно закодированы в виде строк, а затем на другой стороне превращены в объекты данных.

const rx_iso_date = /
    ^ \d{4} - \d{2} - \d{2}
    (?:
        T \d{2} : \d{2} : \d{2}
        (?:
            \. \d*
        )? Z
    )? $
/;

const text = JSON.parse(text, function (key, value) {
    return (
        typeof value === "string" &&
        (key.endsWith("_date")
            || rx_iso_date.match(value)
        )
        ? new Date(value)
        : value
    );
};

JSON.stringify(значение, заменитель, пробел)

Функция stringify принимает значение и кодирует его в текст JSON. Необязательная функция заменитель может выполнять преобразования. Она получает ключ и значение, а возвращает желаемое для этого ключа значение.