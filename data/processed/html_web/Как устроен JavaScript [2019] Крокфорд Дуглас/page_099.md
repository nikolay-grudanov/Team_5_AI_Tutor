---
source_image: page_099.png
page_number: 99
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 40.78
tokens: 7667
characters: 2516
timestamp: 2025-12-24T09:56:30.458993
finish_reason: stop
---

Шаблонные строковые литералы добавили множество новых элементов синтаксиса и механизмов и усложнили язык. Они подталкивают к выработке вредных привычек, но дают некоторые преимущества в предоставлении больших строковых литералов.

Регулярные выражения

Строковые функции match, replace, search, split способны принимать в качестве аргументов объекты регулярных выражений. Эти объекты также могут содержать собственные методы exec и test.

Объекты регулярных выражений проверяют строки на соответствие шаблону. Объекты регулярных выражений лаконичны, что затрудняет их понимание, но очень выразительны. Они эффективны, однако их возможности далеко не безграничны. Например, эффективности объектов регулярных выражений не хватает для разбора текста в формате JSON. Дело в том, что для парсинга JSON требуется какое-то хранилище наподобие стека, позволяющее работать с вложенными структурами. У объектов регулярных выражений таких хранилищ нет. Объекты регулярных выражений могут разбивать текст в формате JSON на лексемы, что существенно упрощает создание JSON-парсера.

Разбор данных на лексемы

Компиляторы выполняют разбор исходных программ на лексемы, что является частью процесса компиляции. Есть и другие программы, также зависящие от разбора данных на лексемы: редакторы, оформители кода, анализаторы статистики, макропроцессоры и минификаторы. Программы с повышенной интерактивностью, такие как редакторы, нуждаются в быстром разборе на лексемы. К сожалению, язык JavaScript слишком сложен для разбора на лексемы.

Это связано со взаимными помехами, создаваемыми литералами регулярных выражений и автоматической вставкой точек с запятой. В результате возникают неоднозначности, затрудняющие интерпретацию программы, например:

return /a/i;                // возвращает объект регулярного выражения
return b.return /a/i;        // возвращает ((b.return) / a) / i

Из этого следует, что в целом корректный разбор программ JavaScript невозможен без одновременного проведения полного парсинга.

Ситуация еще больше усложняется при использовании шаблонных строковых литералов. В литерал может быть встроено выражение, а в него вложен еще один шаблонный строковый литерал. И такое построение способно уходить на любую глубину. В выражениях могут также содержаться литералы регулярных выражений и строки с грависами (backticks). Иногда очень сложно определить, закрывает гравис текущий литерал или же открывает вложенный литерал. Бывает также сложно определить, какова структура какой-либо строчки кода:

`${"${\"}"}`