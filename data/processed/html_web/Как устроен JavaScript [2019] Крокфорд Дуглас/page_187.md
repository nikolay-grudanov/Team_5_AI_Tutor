---
source_image: page_187.png
page_number: 187
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 43.87
tokens: 7664
characters: 2676
timestamp: 2025-12-24T09:58:54.799252
finish_reason: stop
---

на JavaScript. Это стало бы существенным продвижением вперед по сравнению с тем, где мы сейчас находимся с Node.js. Мы получили бы повышенный уровень безопасности, лучшую масштабируемость и поддержку более широкого спектра приложений.

Но вернемся в сарай. Нам нужен был способ передачи информации между браузером и сервером. В то время индустрия программного обеспечения испытывала полную приверженность формату XML. Такие гиганты, как Microsoft, IBM, Oracle, Sun, HP и другие, решили, что следующее поколение программного обеспечения будет построено на XML, и с ними согласились как их последователи, так и клиенты.

Нам же нужен был обмен данными между программами, написанными на двух разных языках. Мы посмотрели на XML и решили, что он плохо подходит для нашей задачи. Модель работы с XML заключалась в том, что сначала отправлялся запрос на сервер, который отвечал XML-документом. Затем, чтобы получить данные, делались дополнительные запросы к документу XML. Почему сервер не может просто отправить данные в форме, которую программы способны бы сразу использовать? Наши данные просто не были похожи на документы.

В то время доступно было множество улучшенных XML-вариантов и замен этого формата, но ни один из них не получил поддержки. Мы думали о том, чтобы пойти собственным путем. И тут на меня нашло прозрение. Мы могли бы воспользоваться объектными литералами JavaScript. Их встроенность в JavaScript создавала реальные удобства на стороне этого языка. А в отношении поднабора, в котором мы нуждались, нетрудно было выполнить синтаксический анализ на стороне Java. Для этого понадобилось бы куда меньше усилий, чем при работе с XML.

Нам хотелось, чтобы наша платформа работала как с Microsoft Internet Explorer, так и с Netscape Navigator. Это было совсем не просто, поскольку обе компании, производящие эти браузеры, изобретали свои собственные функции. Там было мало общего. Microsoft добавила функцию XMLHttpRequest, которую можно было использовать для связи с сервером. К сожалению, в компании Netscape не было ничего подобного, поэтому задействовать ее браузер было невозможно.

У обоих браузеров был JavaScript (ES3), и оба они имели наборы фреймов. И мы применяли их вместе, чтобы создать канал обмена данными. Первое сообщение JSON, отправленное в браузер, имело следующий вид:

<html><head><script>
document.domain = "fudco.com";
parent.session.receive({to: "session", do: "test", text: "Hello world"});
</script></head></html>

Веб-страница содержала скрытый фрейм, по которому можно было перемещаться. Выполнение POST-запроса на скрытом фрейме приводило к отправке сообщения на сервер. Сервер отвечал, передавая документ, содержащий сценарий, который