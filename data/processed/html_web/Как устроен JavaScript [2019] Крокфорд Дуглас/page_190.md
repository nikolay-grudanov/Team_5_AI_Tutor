---
source_image: page_190.png
page_number: 190
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 46.91
tokens: 7749
characters: 2836
timestamp: 2025-12-24T09:58:58.553089
finish_reason: stop
---

22.4    Как работает JSON

поэтому, когда они используются, снижается производительность сети. Комментарии были привлекательным излишеством, создающим помехи, поэтому я их удалил.

Если возникает реальная потребность в комментариях, есть несколько способов применить их. Просто пропустите закомментированный текст через минификатор, например, jsmin. К сожалению, это решение не подходит для тех программистов, которым не хватает навыков для написания простого конвейера.

Другим решением способна стать формализация комментариев и помещение их в структуру JSON. Если комментарии критически важны, следует дать им имена, чтобы их можно было соответствующим образом сохранить и обработать.

Мне не удалось сделать JSON истинным подмножеством JavaScript. В Юникоде для старых систем обработки текста есть пара невидимых управляющих символов — разделитель абзацев (PS) и разделитель строк (LS). JavaScript обрабатывает их как символы окончания строки, так же как возврат каретки (CR) и перевод строки (LF). Я упустил этот момент, и JSON допускает их присутствие в виде строк. К счастью, PS и LS используются крайне редко. Мне неизвестны какие-либо проблемы, возникающие из-за них. В ES5 был добавлен встроенный парсер JSON, который обрабатывает PS и LS, устраняя несовместимость.

В Юникоде есть ряд символов, которые в нем символами не считаются. Некоторые фанатики Юникода настаивают на том, что JSON не должен допускать применения magritte-символов. JSON этот вопрос совершенно не волнует. JSON — это носитель информации, а не проверяющая программа. Получатель должен сам решать, что делать с символами, которые не считаются символами. JSON не гарантирует значимости для каждого получателя всего, что было передано. Если отправитель и получатель одинаково понимают что-то, то это может быть выражено в JSON.

Мне хотелось сделать JSON независимым от IEEE 754. И в Java, и в JavaScript применяется двоичное число с плавающей точкой стандарта IEEE 754, но на JSON это никак не отражается. JSON способен обеспечить обмен данными между языками с различными представлениями чисел. То есть языки, использующие двоичные числа с плавающей точкой, могут обмениваться данными с языками, применяющими формат чисел BCD, а языки, использующие большие десятичные числа с плавающей точкой, могут взаимодействовать с языками, имеющими весьма странное внутреннее представление, в котором три цифры упакованы в десятиразрядные поля. JSON способен пережить моральное устаревание стандарта IEEE 754.

Я исключил Infinity и NaN, поскольку их присутствие в данных указывает на ошибку, а мы не должны помещать в сеть неверные данные. Такие данные не должны распространяться. Это весьма пагубная практика.

В нарушение принципа минимизации в качестве десятичных маркеров экспоненты были включены символы e и E. Мне следовало исключить E, а также знак + после e.