---
source_image: page_047.png
page_number: 47
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 28.78
tokens: 7413
characters: 1632
timestamp: 2025-12-24T09:54:59.832772
finish_reason: stop
---

Глава 4

Как работают большие числа с плавающей точкой

Не геройствуй, юноша. В этом нет никакого смысла.

Харлан Поттер (Harlan Potter)

Система, работающая с большими числами, способна решать множество задач, но явно ограничена только целыми числами, а решение ряда задач неподвластно целым числам. Поэтому создадим систему с числами с плавающей точкой. Она имеет дело с тремя числами: мантиссой, экспонентой, или порядком, и основанием. Значение определяется этими тремя числами:

значение = мантисса * (основание ** порядок)

У формата IEEE 754, используемого для чисел в JavaScript, основанием является число 2. Это позволяло реализовать его на оборудовании 1950-х годов. Закон Мура убрал ограничение, делающее 2 единственным разумным основанием, поэтому рассмотрим другие возможности.

Пакет больших целых чисел (big integer package) привязан к 2 ** 24. Если взять за основание число 16 777 216, то некоторые операции выравнивания будут просто вставлять элементы в массив или удалять их из него. Это позволит добиться весьма высокой производительности. И это согласуется с широко распространенной практикой обмена точности на производительность.

Я полагаю, что основанием должно послужить число 10. При таком основании все десятичные дроби могут получить точное представление. Важность такого выбора обусловлена тем, что большинство людей используют десятичные дроби, следовательно, система чисел с плавающей точкой, имеющая основание 10, станет наиболее подходящей для них.

Большие целые числа являются идеальным представлением для мантиссы. Большинство странностей систем с плавающей точкой связаны с ограничением размера.