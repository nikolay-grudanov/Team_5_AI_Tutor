---
source_image: page_113.png
page_number: 113
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.32
tokens: 7628
characters: 2504
timestamp: 2025-12-24T09:56:54.256951
finish_reason: stop
---

ностью зависит от побочных эффектов. Инструкция-выражение — единственная, которая не начинается с идентифицирующего ключевого слова. Данная синтаксическая оптимизация способствует нечистому программированию.

Ветвление

В JavaScript имеются две инструкции ветвлений, if и switch, и здесь не поймешь, то ли одной слишком много, то ли двух.

Я не рекомендую использовать инструкцию switch, являющуюся жутким гибридом хоаровской инструкции case и фортрановской вычисляемой инструкции goto. Нет ничего такого, что может быть записано с инструкцией switch, чего нельзя было бы записать (зачастую компактнее) с помощью инструкции if. Инструкция switch предлагает воспользоваться явно заданной переменной-переключателем, но страдает от опасности сквозного прохода, способной привести к ошибкам и появлению дурных привычек. Существуют и стилистические проблемы: нужно ли case выравнивать под switch или же их следует набирать с отступом? Похоже, что правильного ответа на этот вопрос не существует.

В качестве альтернативы инструкции switch можно использовать объект. Заполните объект функциями, реализующими поведение для каждого случая. Ключом послужит значение, соответствующее переменной case:

const my_little_result = my_little_object[case_expression]();

Ваше выражение случая case_expression выбирает из объекта одну из функций, которая затем может быть вызвана. Если case_expression не соответствует одной из функций, выдается исключение.

К сожалению, эта форма не избавлена от потенциальных угроз безопасности, поскольку привязана к использованию ключевого слова this. Более подробно этот вопрос рассматривается в главе 16.

Инструкция if определенно лучше инструкции switch. Ее ключевое слово else — это не инструкция, а компонент, поэтому не должно иметь отступа, присущего инструкции. Компонент else нужно помещать на той строке, где стоит фигурная скобка (}), закрывающая предыдущий блок.

JavaScript предполагает, что часть, содержащая условие, будет булевоподобным значением. Я думаю, что это ошибка. В JavaScript нужно было настаивать на применении чисто булева значения. Я рекомендую предоставлять чисто булевые значения, несмотря на то что язык потворствует проявлению неряшливости.

Форма else if позволяет инструкции if заменять инструкцию switch без уродливых отступов по всему экрану. Применяя ее, легко ошибиться, что может вызвать путаницу в потоках управления. Форма else if должна использоваться только в case-подобных конструкциях. Если компонент else начинается с if, то, возможно,