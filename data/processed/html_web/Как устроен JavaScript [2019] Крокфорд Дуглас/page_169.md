---
source_image: page_169.png
page_number: 169
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.32
tokens: 7525
characters: 1966
timestamp: 2025-12-24T09:58:13.645256
finish_reason: stop
---

Во втором массиве содержатся необязательные запросчики. Они могут давать сбой, не вызывая сбоя параллельной операции.

Может предоставляться лимит времени в миллисекундах. Им определяется время, за которое запросчики должны завершить свою работу. Параметр параметр_времени определяет, как именно лимит времени влияет на необязательные запросчики.

<table>
  <tr>
    <th>параметр_времени</th>
    <th>Эффект</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td>Необязательные запросчики должны завершить свою работу до того, как закончится работа обязательных запросчиков. Обязательные запросчики должны завершить свою работу до истечения лимита времени, если таковой имеется</td>
  </tr>
  <tr>
    <td>True</td>
    <td>Обязательные и необязательные запросчики должны завершить свою работу до истечения лимита времени</td>
  </tr>
  <tr>
    <td>False</td>
    <td>У обязательных запросчиков нет лимита времени. Необязательные запросчики должны завершить свою работу до окончания работы обязательных запросчиков или истечения лимита времени, в зависимости от того, что наступит позже</td>
  </tr>
</table>

По умолчанию все запросчики стартуют одновременно. К сожалению, это может пагубно отразиться на некачественно спроектированных системах. Поэтому здесь присутствует необязательный регулятор, ограничивающий количество одновременно активируемых запросчиков.

parseq.fallback(
    массив_запросчиков,
    миллисекунды
)

Фабрика fallback похожа на фабрику sequence, но ее работа считается успешно завершенной, когда успешный результат получен любым запросчиком. Если один запросчик дает сбой, пробуют следующий. Сбой fallback происходит при сбое каждого запросчика.

parseq.race(
    массив_запросчиков,
    миллисекунды
    регулятор
)

Фабрика race похожа на фабрику parallel, но она объявляет об успешном завершении работы при первом же удачном результате работы запросчика. Если успешно завершилась работа одного запросчика, то работа race считается успешной.