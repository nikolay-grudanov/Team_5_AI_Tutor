---
source_image: page_236.png
page_number: 236
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 32.76
tokens: 7513
characters: 2180
timestamp: 2025-12-24T09:59:57.975148
finish_reason: stop
---

25.5 Как работает транспиляция

- Если аргумент является текстом и имеется второй аргумент, то этот второй аргумент используется для разбиения текста на массив, составленный из фрагментов этого текста.

• Функция number принимает текст, а возвращает число. Она может принимать необязательное основание системы счисления.

• Функция record создает запись. Способ зависит от ее аргумента.
    - Если аргумент является массивом, то элементы массива используются в качестве ключей. Значения зависят еще от одного аргумента:
        — если он имеет значение null, то все значения превращаются в true. Иногда это называется набором;
        — если это массив, то значениями становятся его элементы. Массивы должны иметь такую же длину;
        — если это функция, то она применяется для генерирования значений;
        — в противном случае аргумент используется в качестве исходного значения для всех полей.

• Если аргумент — это запись, то создается поверхностная копия записи, при этом копируются только текстовые ключи. Если есть еще один аргумент — массив ключей, то копируются только эти ключи.

• Если аргумент имеет значение null, создается пустая запись.

• Функция text создает текст. Способ создания зависит от ее аргумента.
    - Если это число, то оно преобразуется в текст. Может приниматься необязательное основание системы счисления.
    - Если это массив, то все его элементы объединяются. Еще один аргумент способен предоставить текст разделителя.
    - Если это текст, то его часть может быть обозначена двумя дополнительными аргументами. К сожалению, эти аргументы определяют кодовые единицы. В идеале текст должен иметь внутреннее представление UTF-32. Для этого нам придется подождать появления следующего языка.

• Функциональные объекты создаются с помощью оператора f (символ флорина). Используются две формы:

    f список параметров (выражение)

    f список параметров {
        тело функции
    }

• Список параметров представляет собой список имен необязательных значений по умолчанию, разделенных запятыми (, ), и многоточие (...). Функции безымянные. Чтобы дать функциям имена, используется инструкция def. Функциональные объекты изменениям не поддаются.