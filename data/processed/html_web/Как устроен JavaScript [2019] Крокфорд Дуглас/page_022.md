---
source_image: page_022.png
page_number: 22
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 21.09
tokens: 7461
characters: 1810
timestamp: 2025-12-24T09:54:02.012073
finish_reason: stop
---

2.7 Как работают числа

Монстр

В JavaScript нет инструментария для разбора числа на компоненты, но написать такое средство не составит труда. Тогда мы сможем познать истинную природу чисел.

Я собираюсь использовать вместо значимой части числа коэффициент, поскольку хочу работать полностью в целочисленном пространстве, где все может быть понятнее и точнее. Дробная значимая часть числа требует более пространных объяснений.

function deconstruct(number) {

Эта функция выполняет разбор числа, переводя его в компоненты — знак, целочисленный коэффициент и экспоненту:

    number = sign * coefficient * (2 ** exponent)

    let sign = 1;
    let coefficient = number;
    let exponent = 0;

Убираем знак из коэффициента:

    if (coefficient < 0) {
        coefficient = -coefficient;
        sign = -1;
    }

    if (Number.isFinite(number) && number !== 0) {

Выполняем перевод коэффициента: получить экспоненту можно делением числа на 2 до тех пор, пока не будет получен нуль. Количество делений добавляем к -1128, то есть к экспоненте Number.MIN_VALUE за вычетом количества разрядов в значимой части числа и бонусного разряда:

        exponent = -1128;
        let reduction = coefficient;
        while (reduction !== 0) {

Этот цикл гарантирует достижения нуля. Каждая операция деления будет уменьшать экспоненту перевода. Когда она станет настолько малой, что ее невозможно будет уменьшить на единицу, тогда вместо этого внутренняя субнормальная значимая часть будет сдвинута вправо. В конечном итоге будут удалены все разряды:

        exponent += 1;
        reduction /= 2;
    }

Переводим экспоненту: когда она равна нулю, число может рассматриваться как целое. Если экспонента отлична от нуля, требуется корректировка коэффициента:

        reduction = exponent;
        while (reduction > 0) {