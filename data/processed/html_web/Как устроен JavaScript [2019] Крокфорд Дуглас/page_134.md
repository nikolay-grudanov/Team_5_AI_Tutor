---
source_image: page_134.png
page_number: 134
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.28
tokens: 7625
characters: 2556
timestamp: 2025-12-24T09:57:26.055788
finish_reason: stop
---

15.1 Как работают программы

В прежние времена блоки исходного кода в браузерах были частями страницы, как содержимое тега <script> или как встроенный обработчик событий. В следующем примере блоком кода является alert("Hi");:

    <img src=hello.png onclick=alert("Hi");>

Сейчас принято считать, что встраивать блоки исходного кода JavaScript в страницу HTML — порочная практика. Это ухудшает конструкцию из-за того, что не разделены представление и поведение. Поэтому снижается производительность, так как код в странице не может сжиматься средством gzip или кэшироваться. Это уменьшает безопасность, поскольку позволяет проводить трудно распознаваемые атаки с применением межсайтовых сценариев (Cross Site Scripting, XSS). Принятая W3C политика защиты содержимого (Content Security Policy, CSP) должна стать постоянной практикой, чтобы можно было предотвратить любое использование встроенного исходного кода.

Блок исходного кода рассматривается в качестве тела функции, не имеющей параметров. Он компилируется как функция, а затем вызывается. При этом может быть вызвано создание функциональных объектов и, возможно, их выполнение.

Это может быть концом программы. Но в JavaScript блок исходного кода обычно регистрируется для получения событий или сообщений либо для экспорта функции, которой может воспользоваться другой блок исходного кода. В JavaScript не требуется создавать программы таким образом, но этот способ написания программ просто замечателен и JavaScript поддерживает данный стиль лучше многих других языков.

(Историческое замечание: встроенные обработчики событий работают несколько иначе. Блок исходного кода также рассматривался в качестве тела функции, но созданная функция обработчика событий не вызывалась в тот же момент. Вместо этого она привязывалась к DOM-узлу и вызывалась по наступлении события.)

Изначальные компоненты

Есть объекты и функции, которые становятся автоматически доступными каждому блоку исходного кода. Некоторые из них нам уже встречались — это Number, Math, Array, Object и String. Существует и множество других, и все они предоставляются в соответствии со стандартом ECMAScript. Кроме того, среда окружения хоста (например, браузер или Node.js) способна внести свои дополнения. И все функции в блоке исходного кода могут использовать весь этот арсенал.

Глобальные компоненты

В древней браузерной модели программирования все объявления переменных вне функции добавлялись к области видимости страницы, также известной как глобальная область видимости (как грандиозно это звучит!). Эта область видимости