---
source_image: page_241.png
page_number: 241
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 13.96
tokens: 7255
characters: 1007
timestamp: 2025-12-24T09:59:49.455046
finish_reason: stop
---

Глава 26

Как работает разбиение на лексемы

• • ○ • ○

Никогда не посылайте человека делать работу машины.

Агент Смит

Первый шаг в обработке программы — ее разбиение на лексемы. Лексема состоит из последовательности символов, формирующей значащую характерную особенность исходного кода, такую как имя, знак пунктуации, числовой или текстовый литерал. Объект лексемы создается для каждой имеющейся в программе лексемы.

Для разбиения текста исходного кода на строки, а строк — на лексемы используются регулярные выражения.

const rx_unicode_escapement = /
    \\ u \{ ( [ 0-9 A-F ]{4,6} ) \}
/g;

rx_crlf соответствует переводу строки, возврату каретки, а также возврату каретки с переводом строки. Мы до сих пор работаем с кодами устройств для электромеханических телетайпов середины XX века.

const rx_crlf = /
    \n
|
    \r \n?
/;

rx_token соответствует лексеме Neo — комментарию, имени, числу, строке, знаку пунктуации.

const rx_token = /
    ( \u0020+ )
|
    ( # .* )
|
    (
        [ a-z A-Z ]