---
source_image: page_096.png
page_number: 96
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.16
tokens: 7641
characters: 2467
timestamp: 2025-12-24T09:56:24.538175
finish_reason: stop
---

9.4 Как работают строки

Метод codePointAt аналогичен методу charCodeAt, за исключением того, что он может выполнять поиск также в следующем символе и, если символы формируют суррогатную пару, возвращает дополнительную кодовую точку:

"\uD83D\uDCA9".codePointAt(0) // 128169

В BMP может быть найдено большинство тех символов, которые люди используют для глобального общения, поэтому суррогатные пары обычно не нужны. Но даже при этом дополнительные символы могут появиться в любой момент, и вашей программе следует ожидать их возникновения.

В Юникоде содержатся комбинированные и модифицирующие символы, добавляющие к буквам диакритические знаки и вносящие другие изменения. В нем также содержатся символы, управляющие направлением письма и другими сервисами. Иногда это способно усложнить ситуацию, и получится, что две строки, казалось бы содержащие одинаковые символы, могут не совпасть. В Юникоде существуют правила нормализации, которые определяют порядок появления символов и те случаи, когда базовые символы с модификаторами должны заменяться составными символами. Люди такими правилами не связаны, поэтому вам, возможно, придется работать с ненормативным материалом. В JavaScript правила нормализации заключены в методе normalize:

const combining_diaeresis = "\u0308";
const u_diaeresis = "u" + combining_diaeresis;
const umlaut_u = "\u00FC";

u_diaeresis === umlaut_u // false
u_diaeresis.normalize() === umlaut_u.normalize() // true

В Юникоде содержится множество дубликатов и схожих символов, поэтому сохраняется вероятность наличия строк, одинаковых по виду, но неодинаковых по коду, даже после нормализации. Это вызывает путаницу и создает угрозу безопасности.

Шаблонные строковые литералы

Применение шаблонов — весьма популярная практика при разработке веб-приложений. Поскольку имеющийся в веб-браузере DOM API недоразвит и чреват появлением ошибок, обычной практикой стало создание вместо него HTML-представлений с использованием шаблонов. Это может существенно упростить работу по сравнению с борьбой с DOM-моделью, однако способно также стать причиной XSS-атак и других неприятностей в области веб-безопасности.

Имеющиеся в JavaScript шаблонные строковые литералы были предназначены для поддержки шаблонов и смягчения проблем безопасности, а иногда и частичного их решения.

Шаблонные строковые литералы — это строковые литералы, способные размещаться сразу на нескольких строках текста. В качестве разделителя используется символ ` (гравис).