---
source_image: page_188.png
page_number: 188
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 39.95
tokens: 7639
characters: 2572
timestamp: 2025-12-24T09:58:50.934802
finish_reason: stop
---

22.2 Как работает JSON

вызвал метод receive объекта session в главном фрейме. Чтобы включить межфреймовый обмен данными, нам пришлось изменить document.domain. Синтаксический анализ сообщения проводился компилятором JavaScript.

Как бы ни хотелось мне сказать, что первое сообщение было доставлено успешно, но ничего из этого не вышло. Сбой произошел из-за ужасной политики зарезервированных слов ES3. В то время были зарезервированы следующие слова:

abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends false final finally float for function goto if implements import in instanceof int interface long native new null package private protected public return short static super switch synchronized this throw throws transient true try typeof var void volatile while with

В соответствии с политикой зарезервированных слов ES3 ни одно из этих слов нельзя использовать в качестве имен переменных, или имен параметров, или имен свойств в точечной позиции, или имен свойств в литералах объекта. В сообщении было свойство do, поэтому сценарий содержал синтаксическую ошибку и не запускался.

С радостью сообщаю, что в ES5 ситуация была исправлена. Список зарезервированных слов был сокращен, а ограничения на имена свойств были сняты, но в 2001 году нам пришлось поставить кавычки вокруг слова do, чтобы оно заработало. Чип поместил зарезервированный список слов в свой кодировщик, и больше проблем у нас с ним не было.

Мы выяснили, что строка, содержащая последовательность символов </, может вызвать сбой. Дело в том, что браузер предполагает, что это закрывающий тег script, поэтому JavaScript не получит все информационное наполнение и возникнет синтаксическая ошибка. Нам нужно было обойти сложившуюся ситуацию и избежать применения слеша. Браузер вполне удовлетворяла комбинация символов <\ / (меньше, обратный слеш, слеш).

Мы назвали этот формат JSML (что рифмуется со словом dismal, то есть «мрачный»). Позже мы узнали, что такая же аббревиатура использовалась для чего-то в Java, поэтому быстро подобрали замену: JSON.

JSON прекрасноправлялся с обменом данными между JavaScript и Java. Мы также воспользовались им для межсерверной связи. Мы создали первую базу данных JSON.

Стандартизация

Нам было трудно добиться того, чтобы концепция JSON стала популярной у наших клиентов. Они говорили, что не могут воспользоваться этим форматом, потому что являются приверженцами XML. Они сказали, что новым форматом нельзя пользоваться, поскольку он не стандарт. Я сказал им, что это стандарт — подмно-