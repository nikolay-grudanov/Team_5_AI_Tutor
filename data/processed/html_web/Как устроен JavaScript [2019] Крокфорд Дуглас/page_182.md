---
source_image: page_182.png
page_number: 182
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 47.30
tokens: 7787
characters: 2601
timestamp: 2025-12-24T09:58:49.430426
finish_reason: stop
---

21.1 Как работает Date

В результате средняя продолжительность года получилась 365,2425 дня, что довольно близко к тропическому году, продолжающемуся около 365,242 188 792 дня.

Есть и более удачный алгоритм:

добавлять високосный день в те годы, которые делятся на 4, за исключением того случая, когда они также делятся на 128.

Он дает год, состоящий из 365,242 187 5 дня, что намного ближе к продолжительности тропического года. Мне, как программисту, представляется просто чудом включение в алгоритм двух степеней числа 2, хотя я был бы гораздо больше впечатлен точным соответствием продолжительности реального года. Если бы число дней в году было целым числом, то я мог бы подумать, что в теории разумного начала, возможно, кроется некая истина.

Следующим годом несоответствия алгоритмов 4|100|400 и 4|128 станет 2048-й. Нужно ввести алгоритм 4|128 в качестве стандарта до его наступления.

Високосный день добавлялся в конце года. К сожалению, когда январь стал первым месяцем, високосный день не был перенесен с февраля на декабрь (по-прежнему означающий десятый месяц).

У минут и секунд нулевые исходные значения, и это хорошо, но и те и другие подсчитываются по модулю 60, что уже не так хорошо. Часы имеют нулевое исходное значение, но в часах в 12-часовом формате 0 заменяется на 12, что абсолютно неестественно.

(Будь моя воля, вместо этого я использовал бы десятичасовой день, где час равен 100 минутам, а минута — 100 секундам. Моя секунда была бы немного короче, составив 86,4 % от нынешней секунды. Темпом секунд было бы приятное адажио, что стало бы легким ускорением темпа жизни по сравнению с нынешним ларго.)

Для месяцев и дней в качестве исходного значения используется единица, поскольку этот стандарт был введен до открытия нуля. Месяцы подсчитываются по модулю 12. Римляне пытались сделать месяцы по модулю 10, но не смогли ввести это в обиход. Дни в месяце подсчитываются по модулю 30 или 31 либо 28 или 29, в зависимости от месяца и года. Отсчет лет начинался с единицы, но ныне существующая нумерация была принята спустя множество веков после наступления нашей эры, поэтому данное неудобство можно спокойно проигнорировать.

Функция Date

Странности в стандартах учета времени становятся помехой для программ, в которых должно обрабатываться время. Класс Date в Java обеспечивает поддержку дат. Все должно было быть просто, но получилось очень сложно, продемонстрировав один из худших шаблонов проектирования классического программирования. В JavaScript могло бы быть сделано что-то более удачное, но вместо этого просто скопирован весьма неудачный пример из языка Java.