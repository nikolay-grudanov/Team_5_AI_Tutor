---
source_image: page_096.png
page_number: 96
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.36
tokens: 6359
characters: 1946
timestamp: 2025-12-24T10:04:37.665050
finish_reason: stop
---

лями. Обратите внимание на то, что HTTP-сервер теперь не "центр вселенной", а понижен до уровня модуля, предоставляющего какой-то сервис, подобно остальным подключенным модулям.

Но что же, теперь у нас появилась общая связанность? Как было сказано в главе 2, общая связанность — это один из самых сложных типов связанности, когда объекты разделяют общую глобальную переменную. Но у нас здесь все по-другому.

Независимо от того, является ли объект EventHub глобальной переменной или передан в каждый объект в качестве параметра, это не общая связанность. Да, все объекты используют общий объект EventHub, но они не изменяют его и не делятся информацией через него, изменяя его состояние. Это важное и интересное отличие EventHub от других видов глобальных объектов. Несмотря на то, что все коммуникации между объектами осуществляются через объект EventHub, в нем нет никакого общего ресурса.

Использование концентратора событий

Разберемся, что мы имеем. У нас есть фрагменты кода (модули), соединенные с концентратором, мы слушаем события и реагируем на них. Вместо вызова методов (что требует локального инстанцирования объекта, связанности, разветвления на выходе и т.д.) мы просто порождаем событие и, возможно, ожидаем ответа на него (если мы в этом нуждаемся).

Концентратор может работать везде, где вам захочется, — понятно, что на стороне сервера. Клиенты могут соединяться с ним, порождать события и подписываться на другие события.

Обычно клиенты стороны браузера порождают события, а клиенты стороны сервера прослушивают их, но, конечно же, любой клиент стороны сервера может породить событие и прослушать события других клиентов.

Эта архитектура использует сильные функциональные качества JavaScript и позволяет поддерживать код приложения в виде небольших фрагментов с минимальными зависимостями. А это очень хорошо! Использование событий вместо вызовов методов значительно упрощает тестирование и поддержку кода, поощряя разра-