---
source_image: page_227.png
page_number: 227
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.26
tokens: 6442
characters: 2052
timestamp: 2025-12-24T10:07:31.232382
finish_reason: stop
---

Из отчета видно, что все эти 1000 запросов заняли примерно 11.2 мс, но один из них занял 1.638 с (см. Max). Было бы хорошо включить сюда серверную статистику по использованию процессора, памяти и диска (накопителя). Для этого, в частности, желательно увеличить продолжительность тестирования, подав на сервер более длительную нагрузку. Тем самым мы «убьем двух зайцев»: и по нагрузке посмотрим, как ведет себя сервер, и за параметрами использования устройств сервера понаблюдаем. Пользоваться будем все тем же nodeload, который вполне может записывать значения использования процессора, памяти и диска. По ходу выполнения теста мы сможем наблюдать «живой» график производительности веб-сервера — график будет изменяться по ходу работы сервера.

Итак, приступим. Первым делом нужно отправить серверу много запросов. Мы отправим 100 000 запросов:

% nl.js -c 10 -n 100000 -i 2 http://localhost:8080

Данный пример предполагает, что у вас развернут веб-сервер на порту 80805. Сразу после этой команды, не дожидаясь завершения тестирования, откройте браузер и введите адрес: http://localhost:8000. Программа nodeload на время своей работы запускает веб-сервер на http://localhost:8000, отображающий график производительности указанного веб-сервера (в нашем случае — yahoo.com), см. рис. 6.6.

По окончании выполнения тестирования результаты будут сохранены в текущем каталоге в форматах HTML и JSON.

Примечание.

Вы можете контролировать то, что происходит на стороне сервера, используя ваш любимый генератор статистики (vmstat, iostat, uptime, ps и т.д.), а nodeload создаст красивый график и сохранит результаты. Еще проще добить серверную статистику можно в Linux, используя файловую систему /proc.

Важно отметить, что утилита nodeload позволяет применять конструкцию зациклования Loop, которая будет выполнять некоторый заданный код с заданной частотой. Например, в следующей конструкции мы запускаем функции getMemory и getCPU (получающие

5 Если же веб-сервера у вас нет, можно обратиться к yahoo.com:
% nl.js -c 10 -n 100000 -i 2 http://yahoo.com.