---
source_image: page_290.png
page_number: 290
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 29.45
tokens: 6356
characters: 1813
timestamp: 2025-12-24T10:08:32.182033
finish_reason: stop
---

проверьте код с помощью JSLint и принудительно выполните любой вид анализа и проверки перед тем, как код попадет в производство.

Способы установки ловушек предварительной фиксации (коммита) различны для каждого репозитария. Но как правило это обычные сценарии оболочки, которые возвращают отличное от 0 значение, чтобы прервать фиксацию. Конечно, не все разработчики репозитариев следуют этому правилу, поэтому тут лучше использовать принцип "доверяй, но проверяй" и удостовериться, как у вас есть на самом деле.

Рассмотрим Perl-сценарий ловушки предварительной фиксации для Subversion (SVN), который запустит JSLInt на каждом файле и возвратит общее число ошибок (если они будут найдены в файлах), и если это значение будет отлично от 0, то фиксация (коммит) будет отменена:

#!/usr/bin/perl
# Передано от SVN
my $REPO = shift;
my $TXN = shift;
# Устанавливаем PATH
$ENV{PATH} = "$ENV{PATH}:/usr/bin:/usr/local/bin";
# Протоколируем сообщения
my @logmsg = `svnlook log -t "$TXN" "$REPO"`;
#print STDERR @logmsg;
# Получаем файл с изменениями
my @changes = `svnlook changed --transaction "$TXN" "$REPO"`;
my $failed = 0;
#print STDERR @changes;
# Находим JS-файлы
foreach (@changes) {
    my($cmd, $file) = split(/\s+/);
    # Только *.js файлы, которые не помечены как удаленные
    if ($file =~ /\.js$/ && $cmd ne 'D') {
        # Текст измененного файла:
        # my @cat = `svnlook cat "$REPO" --transaction "$TXN" $file`;

ного обеспечения означает минимальный набор тестов на явные ошибки. «Дымовой тест» обычно выполняется самим программистом; не проходящую этот тест программу не имеет смысла отдавать на более глубокое тестирование. Первое свое применение этот термин получил у печников, которые, собрав печь, закрывали все заглушки, затапливали её и смотрели, чтобы дым шёл только из положенных мест.