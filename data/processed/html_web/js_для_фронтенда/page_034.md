---
source_image: page_034.png
page_number: 34
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 22.48
tokens: 6185
characters: 1482
timestamp: 2025-12-24T10:03:10.177384
finish_reason: stop
---

config[key] = values[key];
}
return config;
}
function validateDocRoot(config) {
    var fs = require('fs')
        , stat
    ;
    stat = fs.statSync(config.docRoot);
    if (!stat.isDirectory()) {
        throw new Error('Не допустимо');
    }
}
function validateSomethingElse(config) { ... }

Здесь мы разделили: отдельно установка значений (запрос, возвращаемое значение) и отдельно: описание функций проверки (команда, обработчик ошибок и проч.). Разделение исходной большой функции на две меньших функции делает тестирование нашего модуля более сфокусированным и более гибким.

Теперь мы можем написать отдельный, изолированный тест для каждой функции вместо написания одного огромного теста:

describe("validate value1", function() {
    it("accepts the correct value", function() {
        // некоторые исключения
    });
    it("rejects the incorrect value", function() {
        // некоторые исключения
    });
});

Мы делаем заметный шаг на пути уменьшения размера кода в отдельно взятых функциях, а также большой шаг к хорошей тестируемости, поскольку функции проверки допустимости того или иного значения могут теперь проводиться обособленно, не будучи в составе более общих конфигурационных (configure) тестов. Все это приближает наш код к идеалу. Однако отделение методов-сеттеров (установки значений) от методов проверки не всегда является самоочевидным. В нашем случае выполненное нами разделение команд и запросов может быть не очень хорошим решением, если мы за-