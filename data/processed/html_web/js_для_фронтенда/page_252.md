---
source_image: page_252.png
page_number: 252
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.45
tokens: 6326
characters: 1914
timestamp: 2025-12-24T10:07:53.346061
finish_reason: stop
---

Команда watch не очень часто используется, но довольно интересна, поскольку с помощью нее вы можете "наблюдать" за за той или иной переменной. Значения переменных, за которыми вы наблюдаете, будут выведены не только в каждой точке остановки, но и после каждого шага при пошаговом выполнении программы (после команд step, next, или out). При этом в настоящее время условные точки останова не поддерживаются.

Запуск команды node debug <сценарий> для интерактивной отладки вашего Node.js сценария бывает очень полезен. V8 — движок, на котором работает Node.js, предоставляет JSON-ориентированный протокол для отладки кода. Для получения доступа к этому режиму используйте аргументы --debug и --debug-brk. В настоящее время только один отладчик может быть подключен к сеансу отладки за один раз. Запуск node debug немедленно использует то единственное соединение отладчика. Флаги --debug и --debug-brk запускают ваш сценарий Node.js, после чего происходит или использование того самого единственного соединения с удаленным отладчиком, или ожидание.

Подробности протокола отладки V8 JSON доступны по адресу: https://code.google.com/p/v8/wiki/DebuggerProtocol. Чтобы использовать его, просто подключитесь к порту отладчика (по умолчанию 5858) и передавайте и принимайте JSON-объекты.

По адресу https://github.com/zzo/pDebug/ доступна базовая реализация протокола. Вы можете установить ее через npm:

% npm install pDebug -g

Теперь вы можете писать программы для отладки и тестирования ваших приложений. Первым делом нужно указать программу, которую вы хотите отладить или исследовать:

% node -debug-brk myProgram.js

Эта команда загрузит отладчик, но не запустит вашу программу. Подключиться к программе и запустить ее можно с помощью следующих команд отладчика:

var pDebug = require('pDebug').pDebug
    , debug = new pDebug({ eventHandler: function(event) {
        console.log('Event'); console.log(event); } })