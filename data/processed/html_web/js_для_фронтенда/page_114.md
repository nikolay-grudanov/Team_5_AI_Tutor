---
source_image: page_114.png
page_number: 114
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 25.64
tokens: 6226
characters: 1679
timestamp: 2025-12-24T10:04:55.279644
finish_reason: stop
---

Проверка времени выполнения

Орфографическая ошибка в имени функции или метода приведет к ошибке выполнения. Компилятор не может проверить строковые имена событий на орфографические ошибки. Поэтому настоятельно рекомендуется использовать перечисления (enumeration) или хэши для имен событий вместо того, чтобы указывать имена событий много раз вручную. Рассмотрим прекрасный способ проверки ваших имен событий времени выполнения:

// Возвращает объект с функциями 'on' и 'fire' для указанного имени события
hub.addEvent = function(eventName) {
    var _this = this;
    this.events[eventName] = {
        on: function(callback) {
            _this.on.call(_this, eventName, callback);
        },
        fire: function() {
            Array.prototype.unshift.call(arguments, eventName);
            this.fire.apply(_this, arguments);
        }
    };
    return this.events[eventName];
};

Этот код можно использовать примерно так:

var clickEvent = hub.addEvent('click');
clickEvent.on(function(data) { /* получили событие click! */ });
clickEvent.fire({ button: 'clicked' }); // сгенерировали событие click!

Теперь у вас есть проверка имен событий времени выполнения.

Безопасность

Если вы боитесь, что кто-то подключится к вашему концентратору событий и вставит свои чужеродные события, нужно использовать реализацию концентратора событий с аутентификацией клиентов. В этом случае подключиться к концентратору событий смогут только «доверенные» клиенты, прошедшие аутентификацию. Если вы хотите зашифровать соединения с концентратором событий, вы можете написать свой собственный концентратор события, используя библиотеку socket.io, поддерживающую зашифрованные соединения.