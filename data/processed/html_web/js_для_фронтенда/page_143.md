---
source_image: page_143.png
page_number: 143
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 33.35
tokens: 6331
characters: 1834
timestamp: 2025-12-24T10:05:35.103458
finish_reason: stop
---

4.8.1. PhantomJS

PhantomJS (http://phantomjs.org/) — это WebKit-браузер, доступный и управляемый программно. По сути PhantomJS — это возможность работать с WebKit из консоли, используя JavaScript и без браузера. Это отличная «песочница», внутри которой вы можете производить модульное тестирование без необходимости запуска кода в реальном браузере или где-либо еще. Однако при этом PhantomJS даже не пытается обрабатывать всевозможные CSS-слои, протестировать, как они реализованы в каждом браузере (хотя это было бы очень актуально).

Тестирование необычного или специфичного для браузера CSS требует наличия браузера, для которого писался CSS, а тут мы, наоборот, уходим от браузеров. Но, с другой стороны, модульное тестирование обычно фокусируется на базовой функциональности безотносительно интерфейса пользователя (за внешний вид которого отвечают CSS-таблицы стилей). И в этом-то нам и поможет PhantomJS, так как позволяет обработать и протестировать тонну всевозможных современных особенностей, «фич», за исключением разве что только каких-то совсем ультрасовременных CSS 3D, локальных хранилищ и WebGL. В то же время PhantomJS/WebKit постоянно развивается, поэтому если время от времени его обновлять, то, скорее всего, и поддержка вышеприведенных наворотов будет в него добавлена.

Современный PhantomJS больше не требует X-сервера для запуска, поэтому его установка стала гораздо проще. Просто загрузите исполняемые файлы для вашей операционной системы, и вы готовы к работе. Вы также можете скомпилировать phantomjs из исходного кода, но это займет много времени, поскольку также должна быть скомпилирована большая часть библиотеки Qt, а это монстр какой еще поискать.

Вот наш «сложный» JS-файл, предназначенный для тестирования sum.js:

YUI().add('sum', function(Y) {
    Y.MySum = function(a, b) { return a + b };
});