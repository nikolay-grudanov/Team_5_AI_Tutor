---
source_image: page_046.png
page_number: 46
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.91
tokens: 6490
characters: 2015
timestamp: 2025-12-24T10:03:32.556138
finish_reason: stop
---

(https://code.google.com/p/jsmeter/). Однако определить, какое значение цикломатической сложности является оптимальным в том или ином случае — не так просто. Например, в статье «Измерение сложности» (http://www.literateprogramming.com/mccabe.pdf) ее автор, Томас Дж. Маккейб, сообщает, что ни у одного из методов не должно быть цикломатической сложности больше 10. В то же время исследование, с которым вы можете ознакомиться по ссылке http://www.energy.com/blog/?p=198, говорит, что цикломатическая сложность и вероятность ошибок не будут коррелировать до тех пор, пока цикломатическая сложность не достигнет значения 25 или выше.

Десять — это не магическое число, а, скорее, обусловленное здравым смыслом значение, поэтому, несмотря на то, что корреляция между кодом и ошибками начнется, только когда цикломатическая сложность достигнет 25 и выше, из соображений здравого смысла и пригодности для обслуживания кода в дальнейшем, желательно сохранить это число ниже 10.

Код с цикломатической сложностью больше 25 является очень сложным. Независимо от текущего числа ошибок в вашем коде, редактирование метода с высокой сложностью почти всегда вызовет ошибку.

Таблица 2.1 показывает, как Aivosto.com измеряет вероятность «плохой правки» — «bad fix» (изменения в коде, приведшие к ошибке) — при увеличении цикломатической сложности.

Таблица 2.1. Цикломатическая сложность и вероятность возникновения ошибок при правке кода

<table>
  <tr>
    <th>Цикломатическая сложность</th>
    <th>Вероятность «плохой правки» (<i>«bad fix»</i>)</th>
  </tr>
  <tr>
    <td>1-10</td>
    <td>5%</td>
  </tr>
  <tr>
    <td>20-30</td>
    <td>20%</td>
  </tr>
  <tr>
    <td>&gt;50</td>
    <td>40%</td>
  </tr>
  <tr>
    <td>Почти 100</td>
    <td>60%</td>
  </tr>
</table>

Из этой таблицы следует интересный факт. При правке относительно простого кода есть 5%-ный шанс, что вы допустите новую ошибку. Это существенно! Возможность допустить ошибку вырастает до 20% при росте цикломатической сложности свыше 20. Я никогда не