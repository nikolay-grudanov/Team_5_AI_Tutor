---
source_image: page_031.png
page_number: 31
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 36.22
tokens: 6349
characters: 1889
timestamp: 2025-12-24T10:03:20.478172
finish_reason: stop
---

При этом параметр «количество строк кода» не является единственным показателем объема кода. Так, общее число кода, необходимого для реализации вашего проекта, может не изменяться, но зато может изменяться число операторов в методах и проч.

Большие методы сложно тестировать и сопровождать, поэтому старайтесь делать их более компактными. При написании кода важно думать о том, как вы будете его тестировать. В идеальном мире у функций нет побочных эффектов и возвращаемое ими значение (значения) целиком и полностью зависит только от переданных им параметров, но реальный мир функций далек от идеала, зависит от многих факторов помимо переданных параметров и зачастую образует большое количество проблемных исключительных ситуаций. Поэтому очень важно бывает локализовать проблему, что гораздо проще сделать в рамках небольших функций, чем блуждать по одной «здоровой» функции со многими аргументами и запутанной многовариантной функциональностью.

Минимизация размера кода

Один из методов минимизации кода функций — разделение их на команды и запросы1. Команды — это функции, которые делают что-то, что приводит к изменениям в состоянии какого-либо объекта. Запросы — это функции, которые просто возвращают что-то.

В этом контексте команды используются как методы set (уставливают что-то), а запросы — как методы get (возвращают что-то). Команды можно тестировать с использованием объектов-имитаций (mocks-объектов), а запросы — с использованием объектов-заглушек (stubs) (см. гл. 4).

Подобное разделение на команды и запросы, кстати говоря, помимо уменьшения размера кода самих функций, вместе с улучшением тестируемости, может обеспечить и большую масштабируемость за счет архитектурного отделения «блоков чтения» от «блоков записи». Масштабируемость такого архитектурного решения существенно лучше.

1 Этот принцип введен еще в прошлом веке Бертраном Мейером и носит название CQRS.