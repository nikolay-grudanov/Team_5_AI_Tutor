---
source_image: page_174.png
page_number: 174
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 27.06
tokens: 6347
characters: 1841
timestamp: 2025-12-24T10:06:09.235776
finish_reason: stop
---

Кстати, решение проблемы игнорирования файлов, для которых не написаны тесты, при определении покрытия кода состоит в том, что вы должны сгенерировать «болванки» или «пустые» тестовые файлы для каждого файла, не требующего тестирования. Подробно данная техника будет обсуждаться чуть ниже в данной главе.

5.3. Практика определения покрытия кода

В этом разделе я продемонстрирую определение покрытия кода с использованием утилит покрытия YUI (http://yuilibrary.com/download/yuitest/). Утилиты определения покрытия входят в основной архив фреймворка YUI, так что если он у вас установлен, то ничего дополнительно качать и устанавливать не надо. А если не установлен, то скачайте его по вышеприведенной ссылке. В папке YUI перейдите в каталог java/build, и вы увидите в нем необходимые JAR-файлы: yuitest-coverage.jar и yuitest-coverage-report.jar. Для их запуска вам, конечно же, потребуется одна из последних версий Java (1.5 или новее), путь к которой указан в переменной окружения PATH.

Первый JAR-файл (yuitest-coverage.jar) используется для преобразования обычных JavaScript-файлов в инструментированные файлы для определения покрытия кода, а второй (yuitest-coverage-report.jar) генерирует отчеты из полученной информации покрытия.

Инструментирование файлов

Инструментировать файл очень просто:

% java -jar yuitest-coverage.jar -o covered.js instrument-me.js

Теперь файл covered.js — полная рабочая копия файла instrument-me.js со встроенным отслеживанием метрики покрытия кода. Если вы откроете данный файл, вы увидите, как он был преобразован: между каждым оператором будет вставлен новый оператор, постепенно увеличивающий счетчик, принадлежащий глобальной переменной, отслеживающей, выполнялась ли та или иная строка кода. Этим инструментированным файлом при тестировании заменяется исходный файл. После выполнения кода значе-