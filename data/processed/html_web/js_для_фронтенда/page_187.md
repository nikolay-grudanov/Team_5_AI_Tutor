---
source_image: page_187.png
page_number: 187
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 30.99
tokens: 6409
characters: 1959
timestamp: 2025-12-24T10:06:29.949167
finish_reason: stop
---

В случае с фреймами обязательно агрегируйте значения _yuitest_coverage для каждого фрейма в общий отчет покрытия. О том, как это сделать, написано в разделе «Агрегация» далее в этой главе.

5.6. Генерация вывода

Формат JUnit XML «понимают» большинство (если не все) инструментов сборки, чего не скажешь о формате покрытия YUI JSON. К счастью, довольно просто конвертировать вывод в формате YUI JSON в стандарт LCOV, который понимают большинство утилит сборки. Для этого введите следующую команду (все в одной строке):

% java -jar yuitest-coverage-report.jar --format LCOV -o <output_directory> coverage.json

Здесь coverage.json — это JSON-файл, полученный из POST-параметра coverageResults (или непосредственно из переменной_yuitest_coverage интеграционного тестирования). Результат выполнения этой команды (информация о покрытии в формате LCOV) будет помещен в каталог <output_directory>. Полученный файл можно передать для дальнейшей обработки утилитам lcov и genhtml. Hudson/Jenkins поддерживает этот формат "из коробки" и может сгенерировать HTML-файл с информацией о покрытии. Также для создания красиво оформленного HTML-кода можно использовать команду genhtml. Подробная информация о lcov, genhtml и им подобным утилитам доступна по адресу: http://ltp.sourceforge.net/coverage/lcov.php.

Пример вывода gethtml приведен здесь: http://ltp.sourceforge.net/coverage/lcov/output/index.html. При этом для тех, кто не доволен видом по умолчанию, отметим, что команда genhtml принимает множество параметров, позволяющих настраивать HTML-вывод.

Рисунок 5.1 демонстрирует, на что будет похож вывод, а рисунок 5.2 показывает наш файл, содержащий функцию sum. Было покрыто две из двух строк одной функции.

<table>
  <tr>
    <th>Filename</th>
    <th>Line Coverage</th>
    <th>Functions</th>
  </tr>
  <tr>
    <td></td>
    <td>100.0 % 2/2</td>
    <td>100.0 % 1/1</td>
  </tr>
</table>

Generated by: YUI Test

Рис. 5.1. Результаты покрытия кода для sum.js