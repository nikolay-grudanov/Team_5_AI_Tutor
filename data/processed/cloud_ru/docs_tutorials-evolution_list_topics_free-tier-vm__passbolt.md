---
source_image: docs_tutorials-evolution_list_topics_free-tier-vm__passbolt.jpg
page_number: 0
model: model-run-olm-ocr
prompt_type: olmocr_technical
processing_time: 41.23
tokens: 11462
characters: 7632
timestamp: 2025-12-24T05:43:38.113915
finish_reason: stop
---

### Развертывание личного менеджера паролей на базе Passbolt на виртуальной машине

С помощью этого руководства вы развернете менеджер паролей на базе Passbolt на виртуальной машине.

Вы будете использовать следующие сервисы:

• Виртуальная машина free tier — сервис, в рамках которого предоставляется бесплатная виртуальная машина с готовой конфигурацией.
• Публичный IP-адрес для доступа к менеджеру паролей через интернет.
• Бесплатный сервис nip.io для получения публичного доменного имени и сертификата. Вы также можете использовать собственное зарегистрированное доменное имя и SSL-сертификат для организации доступа.

Шаги:

1. Создайте виртуальную машину.
2. Настройте группу безопасности.
3. Установите Passbolt.
4. Настройте Passbolt.

Перед началом работы

1. Зарегистрируйтесь в личном кабинете Cloud.ru.
   Если вы уже зарегистрированы, войдите под своей учетной записью.
2. Создайте домен с помощью сервиса nip.io, если не планируете использовать собственное зарегистрированное доменное имя.

1. Создайте виртуальную машину
Создайте бесплатную виртуальную машину со следующими параметрами:
1. В поле Название укажите название виртуальной машины, например passbolt-server.
2. На вкладке Публичные выберите образ Ubuntu 22.04.
3. Назначьте публичный IP-адрес виртуальной машины — оставьте включенной опцию Подключить публичный IP. Для виртуальной машины будет арендован и назначен прямой публичный IP.
4. В поле Логин укажите логин пользователя виртуальной машины, например user1.
5. Выберите метод аутентификации — пароль.
6. В поле Имя хоста укажите уникальное имя устройства, по которому можно идентифицировать виртуальную машину в сети, например passbolt-server.

Убедитесь, что в личном кабинете на странице сервиса «Виртуальные машины»:
• отображается виртуальная машина passbolt-server;
• статус виртуальной машины — «Запущена»;
• виртуальной машине назначен публичный IP-адрес.

2. Настройте группу безопасности
Группы безопасности в облаке Evolution позволяют контролировать входящий и исходящий трафик для создаваемых ресурсов.

Вы настройте правила фильтрации трафика — разрешите весь входящий трафик по порту 443 (HTTPS) и весь исходящий трафик. Создайте новую группу безопасности со следующими параметрами:
1. Выберите Зону доступности, в которой необходимо разместить группу безопасности. Укажите ту же зону доступности, что выбрана для виртуальной машины passbolt-server.
2. Укажите Название группы безопасности, например passbolt-server.
3. Добавьте правила входящего и исходящего трафика.
Правила входящего трафика:
1. Правило 1:
   a. Протокол — TCP
   b. Порт — 443
   c. Тип источника — IP-адрес
   d. Источник — 0.0.0.0/0
2. Правило 2
   a. Протокол — TCP
   b. Порт — 80
   c. Тип источника — IP-адрес
   d. Источник — 0.0.0.0/0
Правила исходящего трафика:
a. Протокол — любой
b. Порт — оставьте пустым
c. Тип адресата — IP-адрес
d. Адресат — 0.0.0.0/0
4. Назначьте созданную группу безопасности виртуальной машине passbolt-server. Если в группе безопасности присутствуют другие виртуальные машины, исключите их из группы.

Убедитесь, что в личном кабинете на странице сервиса «Виртуальные машины», в разделе Сетевые параметры отображается группа безопасности passbolt-server.

3. Установите Passbolt
Для настройки виртуальной машины вы будете использовать серийную консоль в браузере.
1. Подключитесь к виртуальной машине passbolt-server через серийную консоль.
2. Обновите индекс пакетов ОС и установите обновления пакетов:
   sudo apt update -y
   sudo apt upgrade -y
3. Скачайте и запустите скрипт настройки репозиториев Passbolt:
   wget "https://download.passbolt.com/de/installer/passbolt-repo-setup-ce.sh"
   wget https://github.com/passbolt/passbolt-dep-scripts/releases/latest/download/passbolt-ce-SHA512SUM.ti
   sha512sum -c passbolt-ce-SHA512SUM.txt && sudo bash ./passbolt-repo-setup-ce.sh || echo "*bad checksum"
   В результате выполнения скриптов вы увидите сообщение, что настройка репозиториев завершена успешно.
   Вывод команды
Подготовьте параметры для установки Passbolt и выполните установку:
1. Подготовьте доменное имя вида {Публичный_IP-адрес_виртуальной_машины_passbolt-server}.nip.io , например 1.1.1.1.nip.io. Или используйте собственный зарегистрированный домен.
2. Сконфигурируйте параметры установки:
   echo passbolt-ce-server passbolt/mysql-configuration boolean true | sudo debconf-set-selections
   echo passbolt-ce-server passbolt/mysql-passbolt-username string pb_user | sudo debconf-set-selections
   echo passbolt-ce-server passbolt/mysql-passbolt-password password Password | sudo debconf-set-select
   echo passbolt-ce-server passbolt/mysql-passbolt-password-repeat password Password | sudo debconf-set-select
   echo passbolt-ce-server passbolt/mysql-passbolt-domain string passbolt | sudo debconf-set-selections
   echo passbolt-ce-server passbolt/nginx-configuration boolean true | sudo debconf-set-selections
   echo passbolt-ce-server passbolt/nginx-configuration-three-choices select auto | sudo debconf-set-select
   echo passbolt-ce-server passbolt/nginx-domain string 176.109.108.146.nip.io | sudo debconf-set-select
   В '"Password"' задайте пароль.
3. Выполните установку Passbolt:
   sudo DEBIAN_FRONTEND=noninteractive apt-get install passbolt-ce-server -y
Убедитесь, что при переходе по домену в браузере ображается мастер настройки Passbolt.

4. Настройте Passbolt
1. Откройте в браузере {Публичный_IP-адрес_виртуальной_машины_passbolt-server}.nip.io , например 1.1.1.1.nip.io.
2. Нажмите Get Started.
3. В открывшемся окне проверьте, что все обязательные поля заполнены и нажмите Start configuration.
4. Заполните параметры базы данных:
   • Database connection url — localhost.
   • Username — pb_user.
   • Password — пароль, который вы указали на шаге 3.
   • Database name — passbolt.
5. Нажмите Next.
6. На странице «Create a new OpenPGP key for your server» заполните поля:
   • Server Name — укажите произвольное имя сервера.
   • Server Email—укажите вашу электронную почту.
7. Перейдите на вкладку Emails и укажите параметры почтового сервера.
   Вы можете использовать вашу личную почту, а параметры конфигурации (SMTP Host, Port и т.д.) получить в документации вашего почтового провайдера.
8. Нажмите Next.
9. Заполните обязательные поля на странице «Admin user details» — First name, Last name, Username.
10. Нажмите Next.
    Дождитесь завершения настройки Passbolt.
Настройте административный аккаунт:
1. После окончания настройки, появится окно с предложением установить расширение для браузера. Скачайте и установите расширение.
2. Создайте новый ключ. Passbolt попросит вас создать или импортировать ключ, который будет позже использоваться для вашей идентификации и шифрования ваших паролей. Ваш ключ должен быть зашифрован паролем.
3. Загрузите комплект восстановления.
   Это необходимый шаг. Ваш ключ — единственный способ получить доступ к вашей учетной записи и паролям. Если вы потеряете ключ, ваши зашифрованные данные будут утеряны, даже если вы помните свою парольную фразу.
4. Определите токен безопасности. Выбор цвета и трех символов — вторичный механизм безопасности, который поможет вам митигировать фишинговые атаки. Каждый раз, когда вы выполняете критические операции, вы должны видеть этот токен.
5. Ваша учетная запись администратора настроена.
   Вы будете перенаправлены на страницу входа в Passbolt.
Проверьте, что вы можете:
• создать пароль в браузере;
• при переходе на сайты заполнить внесенные пароли через расширение браузера;
• подключить приложение на мобильном телефоне к вашему серверу Passbolt.
Результат
Вы установили и настроили собственный безопасный менеджер паролей на базе Passbolt.